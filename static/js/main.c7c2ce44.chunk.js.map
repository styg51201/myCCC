{"version":3,"sources":["components/common/Footer.js","mao/actions/ShopCartAction.js","biki/utils/useDocumentScrollThrottled.js","components/common/Header.js","components/ScrollToTop.js","biki/components/FeaturedProducts.js","biki/components/Collection.js","biki/components/AdSlide.js","stacey/actions/couponAction.js","biki/Home.js","biki/components/StoryCard.js","biki/Stories.js","biki/utils/useStorySearch.js","biki/components/EditorComponents/Toolbar.js","biki/components/TagInput.js","biki/components/entities/mediaBlockRenderer.js","biki/components/DraftEditor.js","biki/utils/useDebounce.js","Irene/actions/memberAction.js","Irene/MemberOrder.js","Irene/components/MemberSidebar.js","biki/UploadStory.js","biki/utils/useTextareaRows.js","biki/components/StoryReply.js","biki/utils/useRecursive.js","biki/Story.js","biki/components/MemberStoryList.js","biki/MemberStories.js","biki/MemberDrafts.js","biki/components/DraftEditorEdit.js","biki/MemberDraft.js","biki/MemberStory.js","biki/MemberStoryReplies.js","chin/components/Commoditycomponents.js","biki/Search.js","chin/actions/itemsActions.js","chin/components/Commoditycomponents2.js","chin/small components/Features.js","chin/small components/Brand.js","chin/small components/Discount.js","chin/components/Commoditylist.js","chin/components/CompareProductSort.js","chin/Headset.js","chin/Watch.js","chin/components/ProductDescription.js","chin/components/DescriptionTechnique.js","chin/components/UserComment.js","chin/components/RelatedHistory.js","chin/components/Bigitem.js","chin/Commidty.js","chin/ComparepagesWatch/components/ComparepagesHardwareSpecifications.js","chin/ComparepagesWatch/components/ComparepagesSmartWatch.js","chin/ComparepagesWatch/components/ComparepagesOtherFunctions.js","chin/ComparepagesWatch/ComparepagesWatch.js","chin/ComparepagesHeadset/components/ComparepagesHardwareSpecifications.js","chin/ComparepagesHeadset/components/ComparepagesSoundBattery.js","chin/ComparepagesHeadset/components/ComparepagesOther.js","chin/ComparepagesHeadset/ComparepagesHeadset.js","chin/ComparepagesActioncamera/components/ComparepagesPhotographySpecifications.js","chin/ComparepagesActioncamera/ComparepagesActioncamera.js","chin/Actioncamera.js","chin/Surrounding.js","mao/component/MaoCartShopTotal.js","mao/component/MaoItemList.js","mao/ProductSlide.js","mao/component/MaoAD.js","mao/component/PicSlide.js","mao/MaoMoveIcon.js","mao/ShopCartList.js","mao/ShopCartLike.js","mao/GetDayRange.js","mao/OrderInfo.js","mao/Orderbill.js","Irene/components/MemberLoginLeft.js","Irene/components/MemberLoginRight.js","Irene/MemberLogin.js","Irene/MemberCollection.js","stacey/components/MemberCouponItem.js","stacey/MemberCoupon.js","Irene/MemberEdit.js","stacey/components/CouponSideFilter.js","stacey/components/CouPageTitle.js","stacey/components/CouponItem.js","stacey/components/Countdown.js","stacey/components/CountdownCoupon.js","stacey/GetCoupon.js","App.js","serviceWorker.js","reducers/index.js","stacey/reducer/couponReducer.js","chin/reducer/itemsReducer.js","mao/reducers/ShopCartReducer.js","Irene/reducers/memberReducer.js","index.js","sw-register.js","Irene/irene-img sync /^/.*/.png$","Irene/irene-img/32.png","Irene/irene-img/33.png","Irene/irene-img/34.png","Irene/irene-img/35.png","Irene/irene-img/36.png","Irene/irene-img/37.png","Irene/irene-img/38.png","Irene/irene-img/39.png","Irene/irene-img/40.png","Irene/irene-img/41.png","Irene/irene-img/42.png","logo.svg"],"names":["Footer","Container","className","src","logo","alt","getShopCart","item","dispatch","a","request","Request","method","credentials","fetch","res","json","data","newData","map","v","i","push","itemId","name","itemName","itemImg","itemPrice","itemCategoryId","count","type","value","AddCart","CalShopCart","ControlDataOne","fromServerorderBuyerInfo","val","headers","Headers","Accept","body","JSON","stringify","saveOrderBuyerInfo","forServerorderProductInfo","console","log","saveOrderBuyerproduct","getOrderFromServer","newTotal","total","discount","orderId","buyerName","shipping","buyerAdress","ship","shipCost","getBuyerInfo","clearOrderBuyerproduct","sCount","split","join","calCart","CalShopCartTotal","hadleCoupon","sTotal","newStotal","Math","round","send_hadleCoupon","CheckCoupon","DelCartItem","filter","e","DelCart","AddCartItem","box","AddCartNewItem_sendcal","itemIdBox","index","findIndex","newVal","Handle_AddMyFavorite","product","newProduct","pIdBox","delIndex","delpId","AddMyFavorite","cartCoupon","mb_id","ind","Cname","cp_vendor","Csort","cpr_object","rule","payLevel","amount","cpr_rule","cpr_ruleNum","cpr_discount","cpr_discountNum","toFixed","object","rule_2","id","slogan","useDocumentScrollThrottled","callback","useState","setScrollPosition","previousScrollTop","handleDocumentScrollThrottled","throttle","currentScrollTop","document","documentElement","scrollTop","prevPosition","useEffect","window","addEventListener","removeEventListener","withRouter","connect","store","AddItem","bindActionCreators","props","setScrolled","openSearch","setOpenSearch","searchBlurTime","setSearchBlurTime","searchTxt","setSearchTxt","hideMobileNav","setHideMobileNav","showMobileSideNav","setShowMobileSideNav","height","querySelector","offsetTop","$","click","localStorage","removeItem","location","replace","handleNavBar","scrollY","classList","add","remove","inputRef","useRef","current","blur","callbackData","isScrolledDown","isMinimunScrolled","setTimeout","toggleSideNav","memberstate","getItem","navbar","to","style","width","color","headershow","role","onClick","Date","getTime","focus","onKeyDown","evt","key","target","trim","length","history","onBlur","onChange","placeholder","ref","mobileNav","mobileSideNav","fontSize","ScrollToTop","pathname","useLocation","scrollTo","FeaturedProducts","bag","setBag","fav","setFav","Col","url","img","preventDefault","brand","price","Collection","setimgHeight","imgRef","useCallback","node","getBoundingClientRect","theme","strength","bgImage","bg","renderLayer","percentage","title","titleCn","info","transform","AdSlide","blockTxtHeight","setBlockTxtHeight","blockTextRef","clientHeight","show","num","adImg","marginTop","adName","adTitle","adContent","adLinkPlace","showCoupon","getCoupon","countdownCouponGet","fromServerCouponData","page","couponData","cp_total","fromServerCountdownCouponData","nameSort","sort","b","countSort","cp_getedCount","startTimeSort","cp_created_at","endTimeSort","cp_due","getCouponToServer","cp_id","addFilterCoupon","obj","isChecked","vendorName","indexOf","splice","showMemberCoupon","fromServerMemberCouponData","showAd","fromServerAdData","showMbData","fromServerMbLikeData","addMbLikeData","delMbLikeData","showDiscountAction","isShow","goShopping","adData","mbLikeData","memberLikeData","props2","setLoaded","adNum","setAdNum","showMouse","setShowMouse","innerWidth","isMobile","setIsMobile","slideInterval","setSlideInterval","useSpring","offset","set","parallaxRef","mouseRef","handleScroll","handleWindowResize","adArr","adForGroup","planGroup","hisItem","parse","cartItem","pushArr","planId","groupHistoryItems","some","planUsername","groupHistoryCategory","groupCartCategory","groupCollectItems","groupCollectCategory","plan_updates_at","posY","top","pageYOffset","opacity","offsetMouse","calc","o","calc2","savedCallback","setInterval","clearInterval","useInterval","bgImageAlt","contentClassName","elm","idx","prevAdNum","newNum","clickAdNum","Row","div","interpolate","position","cardRef","setHeight","liked","like","setLike","likes","likeNum","setLikeNum","usrId","loading","stryId","Card","Header","Img","Name","Account","fromNow","Body","stryTitle","stryTags","handleTagClick","dangerouslySetInnerHTML","__html","content","rplyTotal","stryViews","axios","post","handleToggleLike","pageNumber","setPageNumber","showSort","setShowSort","sortName","setSortName","sortNameCn","setSortNameCn","stryLikes","setStryLikes","search","tag","setTag","setSearch","goSearch","setGoSearch","setLoading","hasMore","setHasMore","stories","setStories","error","setError","stryTotal","setStryTotal","showBtn","setShowBtn","ceil","then","response","prevStories","catch","err","useStorySearch","observer","get","r","arrLikes","forEach","lastStoryElementRef","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","handleSortName","nameCn","items","itm","story","stateToHTML","convertFromRaw","stryContent","blockStyleFn","block","textAlign","userId","onKeyUp","display","alignItems","decodeURI","marginLeft","elementType","disableImagesLoaded","updateOnEachImageLoad","inlineStyles","label","icon","blockStyles","styleMap","getBlockType","getType","Toolbar","editorState","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getCurrentInlineStyle","has","renderInlineStyles","confirmMedia","imgFormRef","fileOnChange","hidden","multiple","accept","onToggle","TagInput","tags","setTags","removeTags","event","selectedTags","addTags","mediaBlockRenderer","component","Media","editable","media","entity","contentState","getEntity","getEntityAt","getData","renderMedia","urlValue","setEditorState","setUrlValue","createEntity","contentStateWithEntity","entityKey","getLastCreatedEntityKey","prevEditorState","convertToRaw","AtomicBlockUtils","insertAtomicBlock","EditorState","createEmpty","editorContent","setEditorContent","saveDraft","setSaveDraft","draftSaved","setDraftSaved","foldername","setFoldername","setTitle","setId","setStory","message","setMessage","editorRef","newContent","blocks","text","delay","debouncedValue","setDebouncedValue","msg","setMsg","handler","clearTimeout","useDebounce","saveData","submitDraft","formdata","FormData","append","checkContent","c","str","flag","Swal","fire","confirmButtonText","showConfirmButton","buttonsStyling","popup","confirmButton","updateDraftAfterSubmit","RichUtils","toggleInlineStyle","toggleBlockType","handleKeyCommand","command","newState","readOnly","customStyleMap","blockRendererFn","result","btnClickSave","userRegister","userData","userRegisterAsync","setItem","insertId","loginsucess","username","userLogin","userLoginAsync","Pwd","password","ID","alert","getserverMember","account","datafromlocalstorage","updateServerMember","affectedRows","timer","getServerMemberOrder","accountId","getMemberOrder","startDate","setStartDate","endDate","setEndDate","showA","setShowA","searchbar","setSearchbar","toggleShowA","parent","css","find","Form","Check","inline","selected","date","selectsStart","maxDate","selectsEnd","minDate","Button","variant","Table","created_at","class","xs","Modal","onClose","outStatus","MemberSidebar","memberdata","usernametrue","imgid","storyListOpen","setStoryListOpen","toggleStories","ListGroup","Item","require","Nav","Link","href","UploadStory","lg","useTextareaRows","rows","setRows","enters","setEnters","handleRows","match","handleKey","StoryReply","txtContent","setTxtContent","showReplyTo","setShowReplyTo","replyTo","setReplyTo","user","openRplyTo","handleToggleShow","rplyRef","rplyToName","rplyContent","handleChange","rplyId","disabled","handlers","submit","getRecursiveJson","children","parents","leftoutchildren","child","rplyTo","setData","loaded","rplyData","setRplyData","setOpenRplyTo","handleOnclick","params","url2","url3","url4","all","patch","spread","options","element","arr","arr2","results","isCancel","handleSubmit","prevData","getObjPos","newArr","updated_at","mapRecursive","MemberStoryList","stryStatus","isHidden","setIsHidden","deleted","setDeleted","strydelete","stryhide","stryshow","time","contentStr","showCancelButton","cancelButtonText","cancelButton","handleHide","handleShow","customClass","handleDelete","MemberStories","substring","MemberDrafts","drftContent","drftId","drftTitle","justifyContent","setReadOnly","setUsrId","setButtons","updateStory","uploadDraft","createWithContent","defaultValue","setC","t","setT","tgs","setTgs","drftTags","Image","rplyToId","rplyUpdate","background","MyFavorite","CtrlData","ControlDataState","newHisitem","setNewHisitem","currentHisitem","checkAlertType","showTpye","mbLike","ItemToLocalStorage","searchKey","setSearchKey","showItems","formServerItemsData","showRANDItemId","commidtyRANDItemId","showItemId","commidtyItemId","showMultipleItemId","multiple_imagesItemId","PriceHightToLow","PriceLowToHight","NewTimeSort","HotItemsSort","itemQty","AllItemsSort","ListItemName","ResetListItemName","ListItemPrice","ListItemPrice2","ResetListItemPrice","ItemscompareNo","ResetListItemNameCom","showUsers","formServerUsersData","compare","getItemscompare","compatrtrue","setCompatrtrue","compatritems","CompareClassName","classNames","active","delitems","sendx","Features","features","setFeatures","FeaturesClassName","for","itemList","getListitemName","setBrand","BrandClassName","checked","list","dis","setDis","DiscountClassName","cpi_cp_id","showDiscount","ItemPrice","getListitemPrice","ItemPrice2","getListitemPrice2","setPrice","PriceClassName","useDispatch","nameList","sendprice","Itemprice","itemPrice2","Itemprice2","getItems","featuredproducts","setFeaturedproducts","sortname","setSortname","SortClassName","englishname","sendText","test","headset","rest","reset","englishnameHeadset","setDelitems","commodity","setCommdity","commodityPrice","setCommdityPrice","itemlist","arrIndex","allitemlist","commodityItems","Commoditycomponents2","allcommodityItems","cursor","watch","englishnameWatch","itemDescription","DescriptionTechnique","itemDescription2","UserData","getUsersData","postacomment","PostacommentClassName","bigbox","starbox","starItem","starItem2","rank","k","userName","commentText2","commentText","hisrelitem","setHisrelitem","Itemhis","useSelector","state","getItemNamehis","itemsCategoryId","getitemCategoryId","dataname","dataitemCategoryId","itemClassName","SamplePrevArrow","SampleNextArrow","settings","infinite","speed","slidesToShow","slidesToScroll","initialSlide","nextArrow","prevArrow","responsive","breakpoint","dots","showItemshis","showitemCategoryId","formServeritemCategoryId","formServerItemshis","getItemToLocalStorage","Bigitem","nav1","nav2","setState","slider1","slider2","settingCarousel","swipeToSlide","focusOnSelect","settingsRWD","arrows","multipleImageImg","asNavFor","slider","getItemId","getMultipleItemId","data2","data3","data4","data5","data6","data7","data8","data9","data10","data11","data12","data13","data14","data15","data16","data17","data18","data19","data20","data21","data22","data23","data24","data25","data26","data27","data28","data29","data30","data31","data32","data33","data34","data35","data36","data37","data38","data39","data40","data41","data42","data43","data44","data45","data46","data47","data48","data49","data50","data51","data52","data53","data54","data55","data56","actioncamera","englishnameActioncamera","surrounding","englishnameSurrounding","getShop","Cart","displayShopCart","calculator","FinalTotal","calculator_total","saveDiscount","saveCoupon","cartCouponData","setDiscount","openCoupon","setOpenCoupon","setSaveStotal","setSaveTotal","buyerTotal","CalTotal","LocalUser","CheckrouteName","path","zIndex","on","boxShadow","totalSort","changeCheckout","getErrorBox","sendOrder","couponType","couponArr","setCouponArr","chooseState","setChooseState","couponProduct","setCouponProduct","couponMsg","setCouponMsg","couponDOM","useFilterCoupon","newCouponType","judgeCouponValue","judgeCouponCSort","judgeCouponRule","judgeCouponAssignCname","judgeCouponAmount","judgeCouponPayLevel","judgeCouponMsg","shopCartItems","disCountItems","discountPay","productTotal","finalPrice","productAmount","cV","cI","filterCoupon","cartItemText","couponTargetDOM","NofixedDisplay","htmlFor","margin","postDiscount","CatchCoupon","fixedDisplay","forMyfavor","setForMyfavor","sendFunc","forChange","getRANDitemid","autoplay","adaptiveHeight","RealCart","checkBox","productItem","MaoItemList","sendData","getdata","routeName","setRouteName","PisSlide","slideImages","picBox","backgroundImage","fade","autoplaySpeed","RNDRoute","random","MaoMoveIcon","CartNoItem","toggle","x","from","config","duration","range","output","newItem","setNewItem","dataList","ADrand","PicSlide","productInfo","GetDayRange","getMonth","MonthBox","getYear","yearBox","year","getFullYear","saveOrderBuyerInfoReducer","Userdata","getMemberID","taipei711","setTaipei711","choose711","setChoose711","mobile","invoice","payment","errors","setErrors","openCard","setOpenCard","opentaxNo","setOpentaxNo","errorBox","setErrorBox","getdiscount","setGetdiscount","getCouponArr","setGetCouponArr","order","getRND","word","sendTotal","taxNo","buyerInfo","setBuyerInfo","getBuyerbasic","setGetBuyerbasic","getformInfo","getInfo","currentTarget","getInfo2","newErr","get711","pIdArrBox","itemNameArrBox","nameArrBox","itemImgArrBox","itemPriceArrBox","itemCategoryIdArrBox","countArrBox","setPIdArr","setItemNameArr","setNameArr","setItemImgArr","setItemPriceArr","setItemCategoryIdArr","setCountArr","getorderProductInfo","ready","change","hide","mymap","L","setView","tileLayer","addTo","greenIcon","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","onMapClick","shopName","_popup","_content","marker","shopLat","shopLong","bindPopup","shopAddress","openPopup","pIdArr","countArr","itemNameArr","nameArr","itemImgArr","itemPriceArr","itemCategoryIdArr","POSTorderInfo","saveValueBox","noneObj","proBox","mId","shipTypeDOM","payTypeDOM","invoiceDOM","CreditCardInfo","maxlength","maxLength","taxInfo","border","borderBottom","PhoneNumber","getbuyer","getOrderBuyer","saveOrderBuyerProReducer","orderListitem","orderItemThead","orderListBuyerInfo","orderListDataBox","hover","orderListtable","waitingDisplay","displayOK","isAuth","member","setUsername","setPassword","errorMessages","setErrorMessages","email","setEmail","email_pattern","MemberLogin","MemberCollection","couponClassName","used","dueEnd","buttonType","cp_img","memberCouponData","buttonStyleForGet","buttonStyleForUse","buttonStyleForDueEndList","useList","dueEndList","getList","add3daysTime","moment","valueOf","dueDateTime","cpi_use","getListData","useListData","dueEndListData","updateMember","memberaccount","setName","birthday","setBirthday","gender","setGender","phonenumber","setPhonenumber","address","setAddress","emaildefault","Email","passworddefault","namedefault","genderdefault","Gender","birthdaydefault","Birthday","phonenumberdefault","addressdefault","Address","encType","required","updateData","handlesubmit","filterList","getCouponData","clicked","setClicked","setOrder","couponOrderClassName","styles","bounceIn","animation","animationName","Radium","keyframes","couponState","geted","cp_count","end","getNum","getedCountStyle","canGetNum","getButton","shopButton","Countdown","secOne","secTen","minOne","minTen","countdownTime","min","floor","sec","secOneStyle","animationDelay","secTenStyle","minOneStyle","minTenStyle","countdownCouponData","getAnimation","setGetAnimation","now","nowHour","hour","today","getDate","timeout","coupon","vendor","couponTotal","rowInfo","rowHeight","setEnd","finish","setFinish","handle","screen","availHeight","filterCouponItem","allCouponItem","vendorList","loadDiv","endDiv","App","basename","process","exact","ComparepagesActioncamera","MemberDraft","Boolean","hostname","rootReducer","combineReducers","action","p_id","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","navigator","serviceWorker","registration","unregister","ReactDOM","render","getElementById","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","keys","Object","resolve","module","exports"],"mappings":"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","file":"static/js/main.c7c2ce44.chunk.js","sourcesContent":["import React from 'react'\r\nimport logo from '../../logo.svg'\r\nimport '../../css/header-footer/heard-footer.scss'\r\nimport { Container } from 'react-bootstrap'\r\n\r\nfunction Footer() {\r\n  return (\r\n    <>\r\n      <footer>\r\n        <Container>\r\n          <div className=\"chin-everything-triplec\">\r\n            <img src={logo} className=\"header-logo\" alt=\"logo\" />\r\n            <div className=\"chin-everything\">\r\n              <div className=\"chin-customerservice\">\r\n                <div className=\"chin-triplec\">\r\n                  <span>\r\n                    <a>TRIPLEC</a>\r\n                  </span>\r\n                  <ul>\r\n                    <li>\r\n                      <a>關於我們</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>申請廠商</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>隱私權政策</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                <div className=\"chin-triplec\">\r\n                  <span>服務</span>\r\n                  <ul>\r\n                    <li>\r\n                      <a>聯絡客服</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>Q&A</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>購物須知</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                <div className=\"chin-triplec\">\r\n                  <span>商品</span>\r\n                  <ul>\r\n                    <li>\r\n                      <a>運動手錶</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>手環</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>有線耳機</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>藍芽耳機</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>藍芽喇吧</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>運動攝影機</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>周邊</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <div className=\"chin-followus\">\r\n                  <span>追蹤我們</span>\r\n                  <ul>\r\n                    <li>\r\n                      <a>Facebook</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>Instagram</a>\r\n                    </li>\r\n                    <li>\r\n                      <a>Line</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </footer>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import { productList } from '../ProductList'\r\n\r\nexport const addValue = value => ({ type: 'ADD_VALUE', value: value })\r\nexport const minusValue = value => ({ type: 'MINUS_VALUE', value: value })\r\n\r\n// Mao購物車\r\n//跟server要資料\r\n//呼叫購物車\r\nexport const sendCart = value => {\r\n  return { type: 'SHOW_CART', value: value }\r\n}\r\n\r\n//獲取資料庫購物車 暫時沒有連資料庫\r\nexport const getShopCart = item => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://localhost:5500/shopCart/shopCart`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    let newData = []\r\n    let hadleData = data.map((v, i) => {\r\n      // let truePrice=v.itemPrice.split('$').join('')\r\n      newData.push({\r\n        itemId: v.itemId,\r\n        name: v.name,\r\n        itemName: v.itemName,\r\n        itemImg: v.itemImg,\r\n        itemPrice: v.itemPrice,\r\n        itemCategoryId: v.itemCategoryId,\r\n        count: v.count,\r\n      })\r\n    })\r\n    dispatch(sendCart(newData))\r\n    if (item) {\r\n      dispatch(AddCart(newData))\r\n      dispatch(CalShopCart(newData))\r\n      dispatch(ControlDataOne(false))\r\n    }\r\n  }\r\n}\r\n\r\n//訂單購買人資料產生\r\nexport const fromServerorderBuyerInfo = val => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      'http://localhost:5500/shopCart/orderBuyerInfo',\r\n      {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        body: JSON.stringify(val),\r\n      }\r\n    )\r\n\r\n    await dispatch(saveOrderBuyerInfo(val))\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    await dispatch(saveOrderBuyerInfo(val))\r\n  }\r\n}\r\n\r\n//退貨\r\nexport const returnTheOrder = val => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      'http://localhost:5500/shopCart/orderBuyerInfoReturn',\r\n      {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        body: JSON.stringify({orderId:val}),\r\n      }\r\n    )\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n  }\r\n}\r\n\r\n\r\n//訂單產品資料\r\nexport const forServerorderProductInfo = val => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      'http://localhost:5500/shopCart/orderproductInfo',\r\n      {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        body: JSON.stringify(val),\r\n      }\r\n    )\r\n    await console.log(val)\r\n    await dispatch(saveOrderBuyerproduct(val))\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n  }\r\n}\r\n\r\n//呼叫訂單資料\r\nexport const getOrderFromServer = value => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://localhost:5500/shopCart/orderbuyerInfo`,\r\n      {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n      }\r\n    )\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    let newData = []\r\n    let hadleData = data.map((v, i) => {\r\n      let newTotal= v.total-v.discount\r\n      newData.push({\r\n        orderId: v.orderId,\r\n        buyerName: v.buyerName,\r\n        shipping: v.shipping,\r\n        buyerAdress: v.buyerAdress,\r\n        total:newTotal,\r\n        ship: v.shipCost,\r\n        discount: v.discount,\r\n      })\r\n    })\r\n    dispatch(getBuyerInfo(newData))\r\n  }\r\n}\r\n//儲存會員訂單資訊\r\nexport const saveOrderBuyerInfo = value => ({\r\n  type: 'SAVE_ORDER',\r\n  value: value,\r\n})\r\n\r\n//儲存會員購買產品\r\nexport const saveOrderBuyerproduct = value => ({\r\n  type: 'SAVE_ORDER_PRODUCT',\r\n  value: value,\r\n})\r\n\r\n//清除儲存會員購買產品\r\nexport const clearOrderBuyerproduct = value => ({\r\n  type: 'CLEAR_ORDER_PRODUCT',\r\n  value: value,\r\n})\r\n\r\n//呼叫訂單資料\r\nexport const getBuyerInfo = value => ({ type: 'SHOW_ORDER', value: value })\r\n\r\n//控制資料庫的呼叫 暫時使用\r\nexport const ControlDataOne = value => ({ type: 'CTRL_DATA', value: value })\r\n\r\n// 計算產品總額\r\nexport const CalShopCart = value => {\r\n  return dispatch => {\r\n    let total = 0\r\n    value.map((v, i) => {\r\n      let truePrice = v.itemPrice.split('$').join('')\r\n      let finalPrice = truePrice.split(',').join('')\r\n\r\n      let sCount = finalPrice * v.count\r\n      total += sCount\r\n    })\r\n    dispatch(calCart(total))\r\n  }\r\n}\r\n\r\n//產品小計 計算功能\r\nexport const calCart = value => ({ type: 'CAL_TOTAL', value: value })\r\n\r\n// 計算總額含運費活動折扣\r\nexport const CalShopCartTotal = value => ({ type: 'FINAL_TOTAL', value: value })\r\n\r\n//計算活動券相關\r\n\r\nexport const hadleCoupon = (value, type, sTotal) => {\r\n  return dispatch => {\r\n    let newStotal = 0\r\n    switch (type) {\r\n      case 0:\r\n        newStotal = value\r\n        break\r\n      case 1:\r\n        newStotal = +sTotal - Math.round(sTotal * value)\r\n        break\r\n      case 2:\r\n        newStotal = value\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    dispatch(send_hadleCoupon(newStotal))\r\n  }\r\n}\r\n\r\nexport const send_hadleCoupon = value => ({\r\n  type: 'COUPON_DISCOUNT',\r\n  value: value,\r\n})\r\n\r\nexport const CheckCoupon = value => ({\r\n  type: 'SAVE_COUPON',\r\n  value: value,\r\n})\r\n\r\n//刪除購物車內容\r\nexport const DelCartItem = (i, data) => {\r\n  return dispatch => {\r\n    let newData = data.filter(e => e !== data[i])\r\n    dispatch(DelCart(newData))\r\n    dispatch(CalShopCart(newData))\r\n  }\r\n}\r\n\r\n// 購物車新增 & 刪除\r\nexport const AddCart = value => ({ type: 'ADD_CART', value: value })\r\nexport const DelCart = value => ({ type: 'DEL_CART', value: value })\r\n//數量調整\r\nexport const AddCartItem = (val, itemId, data) => {\r\n  let box = null\r\n  return dispatch => {\r\n    data.map((v, i) => {\r\n      if (v.itemId == itemId) {\r\n        box = i\r\n      }\r\n    })\r\n    if (val) {\r\n      data[box].count++\r\n    } else {\r\n      if (data[box].count == 1) {\r\n        data[box].count = 1\r\n      } else {\r\n        data[box].count--\r\n      }\r\n    }\r\n    dispatch(AddCart(data))\r\n  }\r\n}\r\n\r\n//購物車按鍵\r\nexport const AddCartNewItem_sendcal = (val, data) => {\r\n  // console.log('確認是否有執行')\r\n  return dispatch => {\r\n    let itemIdBox = []\r\n    data.map((v, i) => {\r\n      itemIdBox.push(v.itemId)\r\n    })\r\n    let index = itemIdBox.findIndex(e => e == val.itemId)\r\n    if (index == -1) {\r\n      let newVal = { ...val, count: 1 }\r\n      data.push(newVal)\r\n    } else {\r\n      data[index].count = +data[index].count + 1\r\n    }\r\n    // console.log('data', data)\r\n    dispatch(AddCart(data))\r\n    dispatch(CalShopCart(data))\r\n  }\r\n}\r\n\r\n//加入最愛\r\nexport const Handle_AddMyFavorite = (val, product, data) => {\r\n  // let truePrice = product.itemPrice.split('$').join('')\r\n  let newProduct = {\r\n    itemId: product.itemId,\r\n    name: product.name,\r\n    itemName: product.itemName,\r\n    itemImg: product.itemImg,\r\n    itemPrice: product.itemPrice,\r\n    itemCategoryId: product.itemCategoryId,\r\n  }\r\n  // console.log('加入我的最愛 = ', product.itemId)\r\n  // console.log('加入我的最愛 = ', newProduct)\r\n  let pIdBox = []\r\n  data.map((v, i) => {\r\n    pIdBox.push(v.itemId)\r\n  })\r\n  let newData = [...data]\r\n  return dispatch => {\r\n    if (val == true) {\r\n      let box = pIdBox.findIndex(e => e == newProduct.itemId)\r\n      //  console.log('dddddd',box)\r\n      if (box == -1) {\r\n        newData.push(newProduct)\r\n      } else {\r\n        // console.log('false')\r\n        return newData\r\n      }\r\n    } else if (val == false) {\r\n      let delIndex = pIdBox.findIndex(e => e == newProduct.itemId)\r\n      let delpId = data.filter(e => e !== data[delIndex])\r\n\r\n      newData = [...delpId]\r\n    } else {\r\n      return newData\r\n    }\r\n    dispatch(AddMyFavorite(newData))\r\n  }\r\n}\r\n\r\n// export const Handel_DelMyFavorite=()\r\nexport const AddMyFavorite = value => ({ type: 'LIKE_PRODUCT', value: value })\r\n\r\n\r\nexport const cartCoupon = val => {\r\n\r\n  return async dispatch => {\r\n    const request = new Request('http://localhost:5500/getCoupon/memberCouponForCart', {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        body:JSON.stringify({\r\n          mb_id:val\r\n        })\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n\r\n    let newData = data.map((val,ind)=>{\r\n\r\n      let Cname = val.cp_vendor\r\n      let Csort = ''\r\n      switch(val.cpr_object){\r\n        case 0:\r\n         Csort = \"全部\"\r\n         break\r\n        case 1:\r\n          Csort = \"穿戴式裝置\"\r\n         break\r\n        case 2:\r\n          Csort = \"耳機/喇叭\"\r\n          break\r\n          case 3:\r\n         Csort = \"運動攝影機\"\r\n         break\r\n         case 4:\r\n          Csort = \"周邊\"\r\n         break\r\n      }\r\n  \r\n      //條件\r\n      let rule = \"\"\r\n      let payLevel = 0\r\n      let amount = 1\r\n      switch(val.cpr_rule){\r\n        case 0:\r\n          rule = '滿件'\r\n          payLevel = 0\r\n         break\r\n        case 1:\r\n          rule = '滿件'\r\n          amount = val.cpr_ruleNum\r\n         break\r\n        case 2:\r\n          rule = '滿額'\r\n          payLevel = val.cpr_ruleNum\r\n          break\r\n      }\r\n\r\n      switch(val.cpr_discount){\r\n        case 0:\r\n          rule += '打折'\r\n         break\r\n        case 1:\r\n          rule += '折現'\r\n         break\r\n      }\r\n\r\n      //金額\r\n      let value = 0\r\n      switch(val.cpr_discount){\r\n        case 0:\r\n          value = (val.cpr_discountNum * 0.01).toFixed(2)\r\n         break\r\n        case 1:\r\n          value = val.cpr_discountNum\r\n         break\r\n      }\r\n\r\n      //slogan\r\n      let object = \"\"\r\n      switch(val.cpr_object){\r\n        case 0:\r\n        object = \"全部商品\"\r\n        break\r\n        case 1:\r\n          object = \"穿戴式裝置分類\"\r\n        break\r\n        case 2:\r\n          object = \"耳機/喇叭分類\"\r\n          break\r\n        case 3:\r\n        object = \"運動攝影機分類\"\r\n        break\r\n        case 4:\r\n          object = \"周邊商品分類\"\r\n        break\r\n        \r\n      }\r\n      let rule_2 = \"\"\r\n      switch(val.cpr_rule){\r\n        case 0:\r\n          rule_2 = \"結帳金額\"\r\n        break\r\n        case 1:\r\n          rule_2 = `滿${val.cpr_ruleNum}件`\r\n        break\r\n        case 2:\r\n          rule_2 = `滿${val.cpr_ruleNum}元`\r\n          break\r\n      }\r\n      //金額\r\n      let discount = \"\"\r\n      switch(val.cpr_discount){\r\n        case 0:\r\n          if(val.cpr_discountNum%10===0) val.cpr_discountNum /=10\r\n          discount = `打${val.cpr_discountNum}折`\r\n        break\r\n        case 1:\r\n          discount = `折扣${val.cpr_discountNum}元`\r\n        break\r\n      }\r\n\r\n      let slogan = `${object}-${rule_2}${discount}`\r\n      \r\n      return {\r\n        id:ind,\r\n        value,\r\n        Csort,\r\n        Cname,\r\n        rule,\r\n        slogan,\r\n        payLevel,\r\n        amount\r\n      }\r\n\r\n    })\r\n\r\n    dispatch({type:'CART_COUPON_DATA',value:newData})\r\n\r\n    // console.log('memberCouponForCart',memberCouponForCart)\r\n  }\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport {throttle} from 'lodash'\r\n\r\nfunction useDocumentScrollThrottled(callback){\r\n    const [, setScrollPosition] = useState(0)\r\n    \r\n    let previousScrollTop = 0\r\n\r\n    function handleDocumentScroll(){\r\n        const {scrollTop: currentScrollTop} = document.documentElement || document.body;\r\n\r\n        setScrollPosition(prevPosition => {\r\n            previousScrollTop = prevPosition;\r\n            return currentScrollTop\r\n        })\r\n\r\n        callback({ previousScrollTop, currentScrollTop })\r\n    }\r\n    \r\n\r\n    const handleDocumentScrollThrottled = throttle(handleDocumentScroll, 250);\r\n\r\n    useEffect(()=>{\r\n        window.addEventListener('scroll', handleDocumentScrollThrottled);\r\n\r\n        return ()=>{\r\n            window.removeEventListener('scroll', handleDocumentScrollThrottled)\r\n        }\r\n    }, [])\r\n}\r\n\r\nexport default useDocumentScrollThrottled","import React, { useState, useEffect, useRef } from 'react'\r\n// import 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { Container } from 'react-bootstrap'\r\nimport logo from '../../logo.svg'\r\nimport '../../css/header-footer/heard-footer.scss'\r\nimport '../../css/header-footer/headerFooterRWD.scss'\r\nimport { Link } from 'react-router-dom'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { AddCart } from '../../mao/actions/ShopCartAction'\r\n//icons\r\n// import { IconContext } from 'react-icons'\r\nimport useDocumentScrollThrottled from '../../biki/utils/useDocumentScrollThrottled'\r\n\r\nimport {\r\n  FiSearch,\r\n  FiUser,\r\n  FiShoppingBag,\r\n  FiHeart,\r\n  FiHome,\r\n  FiLogOut,\r\n} from 'react-icons/fi'\r\n\r\nimport $ from 'jquery'\r\n\r\nfunction Header(props) {\r\n  const [scrolled, setScrolled] = useState(false)\r\n  const [openSearch, setOpenSearch] = useState(false)\r\n  const [searchBlurTime, setSearchBlurTime] = useState(0)\r\n  const [searchTxt, setSearchTxt] = useState('')\r\n  const [member, setMember] = useState(true)\r\n\r\n  const [hideMobileNav, setHideMobileNav] = useState(false)\r\n  const [showMobileNav, setShowMobileNav] = useState(false)\r\n\r\n  const [showMobileSideNav, setShowMobileSideNav] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const product = document.querySelector('.chin-bigtitle img').offsetTop\r\n    const height = product - 20\r\n\r\n    //會員登出功能\r\n    $('.irene_member_logout').click(function() {\r\n      localStorage.removeItem('userdata')\r\n      localStorage.removeItem('userId')\r\n      localStorage.removeItem('cartItem')\r\n      localStorage.removeItem('hisitem')\r\n      window.location.replace('http://localhost:3000/memberlogin')\r\n    })\r\n\r\n    const handleNavBar = () => {\r\n      //chin nav\r\n      const isTop = window.scrollY < height\r\n      if (isTop !== true) {\r\n        setScrolled(true)\r\n        document\r\n          .querySelector('.chin-three-position')\r\n          .classList.add('chin-three-positioncome')\r\n        document\r\n          .querySelector('.chin-three-position2')\r\n          .classList.add('chin-three-positioncome')\r\n        document\r\n          .querySelector('.chin-three-position3')\r\n          .classList.add('chin-three-positioncome')\r\n        document\r\n          .querySelector('.chin-three-position4')\r\n          .classList.add('chin-three-positioncome')\r\n        document.querySelector('.chin-black').classList.add('chin-blackcome')\r\n      } else {\r\n        setScrolled(false)\r\n        document\r\n          .querySelector('.chin-three-position')\r\n          .classList.remove('chin-three-positioncome')\r\n        document\r\n          .querySelector('.chin-three-position2')\r\n          .classList.remove('chin-three-positioncome')\r\n        document\r\n          .querySelector('.chin-three-position3')\r\n          .classList.remove('chin-three-positioncome')\r\n        document\r\n          .querySelector('.chin-three-position4')\r\n          .classList.remove('chin-three-positioncome')\r\n        document.querySelector('.chin-black').classList.remove('chin-blackcome')\r\n      }\r\n    }\r\n\r\n    window.addEventListener('scroll', handleNavBar)\r\n\r\n    return ()=>{\r\n      window.removeEventListener('scroll', handleNavBar)\r\n    }\r\n    \r\n  }, [])\r\n\r\n  const inputRef = useRef(null)\r\n\r\n  useEffect(() => {\r\n    if (!openSearch) {\r\n      inputRef.current.blur()\r\n    }\r\n  }, [openSearch])\r\n\r\n  useDocumentScrollThrottled(callbackData=>{\r\n    const {previousScrollTop, currentScrollTop} = callbackData\r\n    const isScrolledDown = previousScrollTop < currentScrollTop\r\n    const isMinimunScrolled = currentScrollTop > 500\r\n\r\n    setTimeout(()=>{\r\n      setHideMobileNav(isScrolledDown && isMinimunScrolled)\r\n    }, 100)\r\n  })\r\n\r\n\r\n  const handleOpenSearch = () => {\r\n    if (new Date().getTime() - searchBlurTime > 300) {\r\n      if (!openSearch) {\r\n        setOpenSearch(true)\r\n        // console.log('serach open')\r\n        inputRef.current.focus()\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleSearch = evt => {\r\n    // console.log(evt.key)\r\n    if (evt.key === 'Enter') {\r\n      if (!evt.target.value.trim().length) {\r\n        //console.log('沒有值')\r\n        return\r\n      }\r\n      setSearchBlurTime(new Date().getTime())\r\n      setOpenSearch(false)\r\n      inputRef.current.blur()\r\n      props.history.push(`/search?key=${evt.target.value}`)\r\n    }\r\n  }\r\n\r\n  const handleSearchBlur = evt => {\r\n    // console.log('blur')\r\n    setSearchBlurTime(new Date().getTime())\r\n    setOpenSearch(false)\r\n    setSearchTxt('')\r\n  }\r\n\r\n  const handleSearchText = evt => {\r\n    setSearchTxt(evt.target.value)\r\n  }\r\n\r\n  const toggleSideNav = ()=>{\r\n    setShowMobileSideNav(!showMobileSideNav)\r\n  }\r\n\r\n\r\n  let memberstate = localStorage.getItem('userdata')\r\n  // console.log('memberstate', memberstate)\r\n  const navbar = (\r\n    <>\r\n      <div className=\"chin-black\">\r\n        <Container>\r\n          <div className=\"chin-othernavbar\">\r\n            <div className=\"chin-title-sea\">\r\n              <img src={logo} className=\"header-logo\" alt=\"logo\" />\r\n              <img src=\"./img/header-footer/searchwhite.svg\" alt=\"\" />\r\n            </div>\r\n            <div className=\"chin-classtext\">\r\n              <ul>\r\n                <li>\r\n                  <Link to=\"/watch\" className=\"navbarlist\">\r\n                    穿戴式裝置\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/headset\" className=\"navbarlist\">\r\n                    耳機/喇叭\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/actioncamera\" className=\"navbarlist\">\r\n                    運動攝影機\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/surrounding\" className=\"navbarlist\">\r\n                    周邊\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/getCoupon\" className=\"navbarlist\">\r\n                    優惠券專區\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/stories\" className=\"navbarlist\">\r\n                    故事牆\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n      <div className='bk-nav-side'>\r\n        {memberstate ? (\r\n          <>\r\n            <Link to=\"/memberedit\">\r\n              <img\r\n                src=\"/img/header-footer/user.svg\"\r\n                alt=\"\"\r\n                className=\"chin-three-position\"\r\n              />\r\n            </Link>\r\n            <Link to=\"/member/ShopCartList\">\r\n              <img\r\n                src=\"/img/header-footer/shopping-bag.svg\"\r\n                alt=\"\"\r\n                className=\"chin-three-position2\"\r\n              />\r\n            </Link>\r\n            <Link to=\"/member/ShopCartLike\">\r\n              <img\r\n                src=\"/img/header-footer/heart.svg\"\r\n                alt=\"\"\r\n                className=\"chin-three-position3\"\r\n              />\r\n            </Link>\r\n            <Link to=\"/memberlogin\">\r\n              <div className=\"chin-three-position4 irene_member_logout\">\r\n                <FiLogOut\r\n                  style={{\r\n                    width: '24px',\r\n                    height: '24px',\r\n                    color: 'black',\r\n                  }}\r\n                />\r\n              </div>\r\n            </Link>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Link to=\"/memberlogin\">\r\n              <img\r\n                src=\"./img/header-footer/user.svg\"\r\n                alt=\"\"\r\n                className=\"chin-three-position\"\r\n              />\r\n            </Link>\r\n            <Link to=\"/member/ShopCartList\">\r\n              <img\r\n                src=\"/img/header-footer/shopping-bag.svg\"\r\n                alt=\"\"\r\n                className=\"chin-three-position2\"\r\n              />\r\n            </Link>\r\n            <Link to=\"/member/ShopCartLike\">\r\n              <img\r\n                src=\"/img/header-footer/heart.svg\"\r\n                alt=\"\"\r\n                className=\"chin-three-position3\"\r\n              />\r\n            </Link>\r\n            <div className=\"chin-three-position4 irene_member_logout\"> </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n\r\n  const headershow = (\r\n    <>\r\n      <div className=\"chin-bigtitle\">\r\n        <Link to=\"/\">\r\n          <img src={logo} className=\"header-logo\" alt=\"logo\" />\r\n        </Link>\r\n      </div>\r\n      <Container>\r\n        <div className=\"chin-product\">\r\n          <div className=\"nav-icons-wrapper\">\r\n            <div className=\"nav-icons\">\r\n              <div\r\n                role=\"button\"\r\n                className=\"bk-search\"\r\n                onClick={handleOpenSearch}\r\n                //ref={searchRef}\r\n              >\r\n                <FiSearch />\r\n                <input\r\n                  type=\"text\"\r\n                  className={openSearch ? 'active' : ''}\r\n                  onKeyDown={handleSearch}\r\n                  onBlur={handleSearchBlur}\r\n                  onChange={handleSearchText}\r\n                  value={searchTxt}\r\n                  placeholder=\"搜尋商品\"\r\n                  ref={inputRef}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <ul className=\"chin-productoptions\">\r\n              <li>\r\n                <Link to=\"/watch\" className=\"headerlist\">\r\n                  穿戴式裝置\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/headset\" className=\"headerlist\">\r\n                  耳機/喇叭\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/actioncamera\" className=\"headerlist\">\r\n                  運動攝影機\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/surrounding\" className=\"headerlist\">\r\n                  周邊\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/getCoupon\" className=\"headerlist\">\r\n                  優惠券專區\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/stories\" className=\"headerlist\">\r\n                  故事牆\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"nav-icons-wrapper\">\r\n            <Link to=\"/member/ShopCartList\">\r\n              <div className=\"Mao-items-Num\">\r\n                <div className=\"nav-icons\">\r\n                  <div className=\"Mao-items-abs\">{props.AddItem.length}</div>\r\n                  <FiShoppingBag />\r\n                </div>\r\n              </div>\r\n            </Link>\r\n            <Link to=\"/member/ShopCartLike\">\r\n              <div className=\"nav-icons\">\r\n                <FiHeart />\r\n              </div>\r\n            </Link>\r\n            {/* 會員依照登入狀態icon功能不同，登入連會員中心，未登入連登入畫面 */}\r\n            {memberstate ? (\r\n              <Link to=\"/memberedit\">\r\n                <div className=\"nav-icons\">\r\n                  <FiUser />\r\n                </div>\r\n              </Link>\r\n            ) : (\r\n              <Link to=\"/memberlogin\">\r\n                <div className=\"nav-icons\">\r\n                  <FiUser />\r\n                </div>\r\n              </Link>\r\n            )}\r\n            {memberstate ? (\r\n              <Link to=\"/memberlogin\" className=\"irene_member_logout\">\r\n                <div className=\"nav-icons\">\r\n                  <FiLogOut />\r\n                </div>\r\n              </Link>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  )\r\n\r\n  const mobileNav = (\r\n    <>\r\n      <div className={`bk-mobile-nav${hideMobileNav ? ' hide' : ''}`}>\r\n        <div className={`bk-nav-menu-icon${showMobileSideNav ? ' open' : ''}`} onClick={toggleSideNav}>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n        <div className='bk-nav-logo'>\r\n          <Link to='/'>\r\n          <img src={logo} />\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <div className='bk-mobile-nav-append'></div>\r\n    </>\r\n  )\r\n\r\n  const mobileSideNav = (\r\n    <>\r\n    <div className={`bk-mobile-side-nav${showMobileSideNav ? ' open' : ''}`}>\r\n      <div className='side-logo' onClick={toggleSideNav}>\r\n        <Link to='/'>\r\n           <img src='/biki-img/cccLogo.svg' />\r\n        </Link>\r\n      </div>\r\n      <ul>\r\n        <li style={{fontSize:'1.2rem'}}>\r\n          <FiSearch />\r\n        </li>\r\n        <li onClick={toggleSideNav}>\r\n          <Link to='/watch'>穿戴式裝置</Link>\r\n        </li>\r\n        <li onClick={toggleSideNav}>\r\n          <Link to='/headset'>耳機 / 喇叭</Link>\r\n        </li>\r\n        <li onClick={toggleSideNav}>\r\n          <Link to='/actioncamera'>運動攝影機</Link>\r\n        </li>\r\n        <li onClick={toggleSideNav}>\r\n          <Link to='/surrounding'>周邊</Link>\r\n        </li>\r\n        <li onClick={toggleSideNav}>\r\n          <Link to='/getCoupon'>優惠卷</Link>\r\n        </li>\r\n        <li onClick={toggleSideNav}>\r\n          <Link to='/stories'>故事牆</Link>\r\n        </li>\r\n        <li onClick={toggleSideNav}>\r\n          {localStorage.getItem('userId') \r\n          ? \r\n          (<Link to='/memberedit'>會員</Link>) : \r\n          (<Link to='/memberlogin'>登入</Link>)\r\n          }\r\n        </li>\r\n        {localStorage.getItem('userId') ? \r\n        (<li onClick={toggleSideNav} className=\"irene_member_logout\">\r\n          <Link to='/memberlogin'>登出</Link>\r\n        </li>)\r\n        : ''}\r\n      </ul>\r\n    </div>\r\n    <div \r\n    className={`bk-mobile-side-nav-backdrop${showMobileSideNav ? ' open' : ''}`}\r\n    onClick={toggleSideNav}\r\n    ></div>\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <header>\r\n        {headershow}\r\n        {navbar}\r\n        {mobileNav}\r\n        {mobileSideNav}\r\n      </header>\r\n    </>\r\n  )\r\n}\r\nconst mapStateToProps = store => {\r\n  return {\r\n    //購物車內容\r\n    // data: store.getShop,\r\n    AddItem: store.AddItem,\r\n  }\r\n}\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      AddCart,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n// export default withRouter(Header)\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header))\r\n","import {useEffect} from 'react'\r\nimport {useLocation} from 'react-router-dom'\r\n\r\nexport default function ScrollToTop(){\r\n    const {pathname} = useLocation()\r\n\r\n    useEffect(()=>{\r\n        window.scrollTo(0, 0)\r\n    }, [pathname])\r\n\r\n    return null\r\n}","import React, {useRef, useEffect, useState} from 'react'\r\n\r\nimport '../css/home.scss'\r\nimport { FiShoppingBag, FiHeart, FiStar } from \"react-icons/fi\";\r\nimport {Col} from 'react-bootstrap'\r\nimport {Link} from 'react-router-dom'\r\n\r\nfunction FeaturedProducts(props){\r\n\r\n    // console.log(props)\r\n\r\n    const [bag, setBag] = useState(false)\r\n    const [fav, setFav] = useState(false)\r\n\r\n    const toggleFav = (e)=>{\r\n        e.preventDefault()\r\n        setFav(!fav)\r\n        console.log(\"add to fave!!\")\r\n    }\r\n\r\n    const toggleBag = (e)=>{\r\n        e.preventDefault()\r\n        setBag(!bag)\r\n        console.log(\"add to bag!!\")\r\n    }\r\n\r\n    // if(!props.data) return <div>nope</div>\r\n\r\n    return(\r\n    <>\r\n        <Col>\r\n            <Link to={props.url}>\r\n                <div className=\"bk-featured-product-item\">\r\n                    <div className=\"bk-featured-img\">\r\n                        <img src={props.img} />\r\n                    </div>\r\n                    <div className=\"bk-featured-hover\">\r\n                        <div className=\"bk-featured-icon-list bk-icon\">\r\n                            <div role=\"button\" onClick={toggleFav}>\r\n                                <FiHeart className={!fav ? '' : 'active'} />\r\n                            </div>\r\n                            <div role=\"button\" onClick={toggleBag}>\r\n                                <FiShoppingBag className={!bag ? '' : 'active'} />   \r\n                            </div>\r\n                        </div>\r\n                        <div className=\"bk-featured-stars\">\r\n                            <FiStar />\r\n                            <FiStar />\r\n                            <FiStar />\r\n                            <FiStar />\r\n                            <FiStar />\r\n                        </div>\r\n                        <div className=\"bk-featured-info\">\r\n                            <div className=\"bk-featured-name\">\r\n                                <span className=\"bk-ftr-brand\">{props.data.brand}</span>\r\n                                <span className=\"bk-ftr-product-name\">{props.data.name}</span>\r\n                            </div> \r\n                            <div className=\"bk-featured-price\">{props.data.price}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </Col>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default FeaturedProducts","import React, {useState, useRef, useEffect, useCallback} from 'react'\r\nimport '../css/home.scss'\r\nimport { FiShoppingBag, FiHeart, FiStar } from \"react-icons/fi\";\r\nimport {Col, Container} from 'react-bootstrap'\r\nimport {Parallax, Background } from 'react-parallax'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nfunction Collection(props){\r\n\r\n    const [imgHeight, setimgHeight] = useState(0)\r\n\r\n    const imgRef = useCallback((node)=>{\r\n        if(node !== null){\r\n            // console.log(node.getBoundingClientRect().height)\r\n            setimgHeight(node.getBoundingClientRect().height)\r\n        }\r\n    })\r\n\r\n\r\n    return(\r\n    <>\r\n        <div className={\r\n            props.theme === 'white' ? \"bk-collection mt-5 \" + props.theme : \"bk-collection \" + props.theme\r\n        }>\r\n            <div className=\"bottom\">\r\n                <Parallax strength={300} bgImage={props.bg} style={{height: '100%'}}>\r\n                </Parallax>\r\n            </div>\r\n            \r\n            <Parallax \r\n            className='bk-collection-parallax'\r\n            style={{height: '100%'}}\r\n            strength={200}\r\n            bgImage={' '}\r\n            renderLayer={percentage=>{\r\n                // console.log('loaded')\r\n                return(\r\n                    <Container style={{height: '100%'}}>\r\n\r\n                        <div className='bk-collection-content'>\r\n                            <div className=\"collection-titles\" \r\n                            style={{\r\n                                // transform: `translateY(${percentage*100}%)`\r\n                                }}\r\n                            >\r\n                                <h1>{props.title}</h1>\r\n                                <h4>{props.titleCn}</h4>\r\n                            </div>\r\n                            <div className=\"content-bottom\"\r\n                            style={{\r\n                                // transform: `translateY(-${percentage*100}%)`\r\n                                }}\r\n                            >\r\n                                <div className=\"collection-info\">\r\n                                    {props.info}\r\n                                </div>\r\n                                <Link to={props.url}>\r\n                                    <div className=\"collection-button\">\r\n                                        <button>瀏覽更多</button>\r\n                                    </div>\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\"collection-img\"\r\n                            style={{\r\n                                // marginTop: `-${imgHeight * percentage}px`,\r\n                                // top: `${percentage*100}%`,\r\n                                transform: `translate(-50%, -${percentage*100}%)`\r\n                            }}\r\n                            ref={imgRef}\r\n                            >\r\n                                <img src={props.img} />\r\n                            </div>\r\n                        </div>\r\n                    </Container>\r\n                )\r\n            }}\r\n            >\r\n            </Parallax>\r\n        </div>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Collection","import React, {useRef, useEffect, useState, useChain} from 'react'\r\n// import { Container, Row, Col } from 'react-bootstrap'\r\nimport {useTransition, animated} from 'react-spring'\r\nimport { Link} from 'react-router-dom'\r\n\r\n\r\nfunction AdSlide(props){\r\n    //外層是section bk-ads\r\n\r\n    const [blockTxtHeight, setBlockTxtHeight] = useState(0)\r\n\r\n    const blockTextRef = useRef(null)\r\n\r\n    useEffect(()=>{\r\n        const height = blockTextRef.current.clientHeight;\r\n        setBlockTxtHeight(height)\r\n    },[blockTextRef.current])\r\n\r\n    // const Blocktransitions = useTransition(props.show, null, {\r\n    //     trail: 400,\r\n    //     from: {right: 0, width: '100%', height: '100%', background: 'black', position: 'absolute', top: 0, transform: 'translateX(-100%)'},\r\n    //     enter: {transform: 'translateX(0%)'},\r\n    //     leave: {transform: 'translateX(100%)'}\r\n    // })\r\n\r\n    // useChain(open ? [])\r\n\r\n    // console.log(props)\r\n    return(\r\n        <div className={`bk-ad${props.show ? '' : ' hidden'}`}>\r\n            <div className={`bk-ad-block animated ${props.show ? 'fadeInRight' : 'fadeOutLeft'}`}>\r\n                <div className=\"bk-block-num\">\r\n                    #{props.num}\r\n                </div>\r\n                <div className=\"bk-block-text\">\r\n                    <span className=\"bk-h3\">\r\n                        熱賣商品\r\n                    </span>\r\n                    <span className=\"bk-h5\">\r\n                        {''}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div className={`bk-ad-slide animated ${props.show ? 'fadeInRight' : 'fadeOutLeft'}`}>\r\n                <div className=\"bk-ad-img\">\r\n                    <img src={`/img/ad-img/${props.data.adImg}`} alt=\"\" />\r\n                </div>\r\n            </div>\r\n            <div \r\n            className={`bk-ad-text animated ${props.show ? 'fadeInRight' : 'fadeOutLeft'}`} \r\n            ref={blockTextRef}\r\n            style={{marginTop: `-${blockTxtHeight/2}px`}}\r\n            >\r\n                {/* {Blocktransitions.map(({item, key, props})=>{\r\n                    // console.log(item)\r\n                    return !item && (<animated.div className='bk-text-blocker' style={props}>\r\n                    </animated.div>)\r\n                })} */}\r\n                    <h3>{props.data.adName}</h3>\r\n                    <h6 className=\"bk-white\">\r\n                        {props.data.adTitle}\r\n                    </h6>\r\n                    <p>\r\n                        {props.data.adContent}\r\n                    </p>\r\n                    <Link to={'/commidty/'+ props.data.adLinkPlace} className=\"bk-btn-white\">\r\n                        查看商品\r\n                    </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdSlide","\r\n\r\n//------------stacey 優惠券 -----------------\r\n\r\n //回傳coupon\r\n export const showCoupon = val =>{\r\n  return {type:'SHOW_VALUE',value:val}\r\n}\r\n\r\nexport const getCoupon = val =>{\r\n  return {type:'GET_VALUE',index:val}\r\n}\r\n\r\nexport const countdownCoupon = val =>{\r\n  return {type:'COUNTDOWN_VALUE',value:val}\r\n}\r\n\r\nexport const countdownCouponGet = val =>{\r\n  return {type:'COUNTDOWN_GET',index:val}\r\n}\r\n\r\n\r\n//跟server要資料\r\nexport const fromServerCouponData = (val,id) => {\r\n  \r\n    return async dispatch => {\r\n      //getCoupon\r\n      const request = new Request('https://cccdb.herokuapp.com/getCoupon', {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n          headers: new Headers({\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n          }),\r\n          body:JSON.stringify({\r\n            page:val,\r\n            mb_id:id\r\n          })\r\n      })\r\n      const res = await fetch(request)\r\n      const data = await res.json()\r\n  \r\n      val === 0 ? dispatch(showCoupon(data.couponData)) : dispatch({type:'PAGE_VALUE',value:data.couponData})\r\n      \r\n      dispatch({type:'TOTAL_VALUE',value:data.total[0].cp_total})\r\n    }  \r\n \r\n}\r\n\r\n\r\n  export const fromServerCountdownCouponData = (id) => {\r\n    return async dispatch => {\r\n      const request = new Request('https://cccdb.herokuapp.com/getCoupon/countdownCoupon', {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n          headers: new Headers({\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n          }),\r\n          body:JSON.stringify({\r\n            mb_id:id\r\n          })\r\n      })\r\n      const res = await fetch(request)\r\n      const data = await res.json()\r\n    \r\n  \r\n      dispatch(countdownCoupon(data))\r\n    }\r\n  }\r\n\r\n\r\n\r\n//排序方式\r\n//依廠商名 (預設)\r\nexport const nameSort = val =>{\r\n  return dispatch =>{\r\n    val.sort(function(a,b){\r\n      return a.cp_vendor > b.cp_vendor ? 1 : -1\r\n    })\r\n    dispatch(showCoupon([...val]))\r\n  }\r\n}\r\n\r\n//依熱門程度\r\nexport const countSort = val =>{\r\n  return dispatch =>{\r\n    val.sort(function(a,b){\r\n      return a.cp_getedCount > b.cp_getedCount ? -1 : 1\r\n    })\r\n    dispatch(showCoupon([...val]))\r\n  }\r\n}\r\n\r\n//依最新時間\r\nexport const startTimeSort = val =>{\r\n  return dispatch =>{\r\n    val.sort(function(a,b){\r\n      return a.cp_created_at > b.cp_created_at ? -1 : 1\r\n    })\r\n    \r\n    dispatch(showCoupon([...val]))\r\n  }\r\n}\r\n\r\n//依結束時間\r\nexport const endTimeSort = val =>{\r\n  return dispatch =>{\r\n    val.sort(function(a,b){\r\n      return a.cp_due > b.cp_due ? 1 : -1\r\n    })\r\n    dispatch(showCoupon([...val]))\r\n  }\r\n}\r\n\r\n\r\n//領取的動作\r\nexport const getCouponToServer = (cp_id,mb_id) => {\r\n    return async dispatch => {\r\n      const request = new Request(`https://cccdb.herokuapp.com/getCoupon/geted`, {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        body:JSON.stringify({\r\n          mb_id,\r\n          cp_id\r\n        })\r\n      })\r\n      const res = await fetch(request)\r\n      const data = await res.json()\r\n    }\r\n  }\r\n\r\n\r\n//篩選的動作\r\nexport const addFilterCoupon = (obj,val) =>{\r\n  if(obj.isChecked){\r\n    return {type:'FILTER_VALUE',value:[obj.vendorName,...val]}\r\n  }else{\r\n    let ind = val.indexOf(obj.vendorName)\r\n    val.splice(ind,1)\r\n    return {type:'FILTER_VALUE',value:[...val]}\r\n  }\r\n}\r\n\r\n//會員的優惠券\r\nexport const showMemberCoupon = val =>{\r\n  return {type:'M_SHOW_VALUE',value:val}\r\n}\r\n\r\n//會員優惠券-全部種類\r\nexport const fromServerMemberCouponData = val => {\r\n  return async dispatch => {\r\n    const request = new Request('https://cccdb.herokuapp.com/getCoupon/memberCoupon', {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        body:JSON.stringify({\r\n          mb_id:val\r\n        })\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    dispatch(showMemberCoupon(data))\r\n    // dispatch(memberCouponFilter(data,'get'))\r\n  }\r\n}\r\n\r\n// //會員優惠券-分類\r\n// export const memberCouponFilter = (val,state) =>{\r\n//  \r\n//   let useList = []\r\n//   let dueEndList = []\r\n//   let getList = []\r\n//   const today = `${new Date().getFullYear()}-${(new Date().getMonth())+1}-${new Date().getDate()}`\r\n//   const add3days = `${new Date().getFullYear()}-${(new Date().getMonth())+1}-${new Date().getDate()+4}`\r\n\r\n//   const todayDateTime = (Date.parse(today)).valueOf()\r\n//   const add3daysTime = (Date.parse(add3days)).valueOf()\r\n\r\n\r\n//   for(let i=0;i<val.length;i++){\r\n\r\n//     let dueDateTime =  (Date.parse(val[i].cp_due)).valueOf()\r\n\r\n//     if(val[i].cpi_use){\r\n//       useList.push(val[i])\r\n//     }else if( dueDateTime <= add3daysTime){\r\n//       dueEndList.push(val[i])\r\n//     }else{\r\n//       getList.push(val[i])\r\n//     }\r\n//   }\r\n//     switch (state) {\r\n//       case 'use':\r\n//         return {type:'M_FILTER_VALUE',value:useList}\r\n//         break\r\n//       case 'dueEnd':\r\n//         return {type:'M_FILTER_VALUE',value:dueEndList}\r\n//         break\r\n//       case 'get':\r\n//         return {type:'M_FILTER_VALUE',value:getList}\r\n//         break\r\n//       default :\r\n//         return {type:'M_FILTER_VALUE',value:getList}\r\n//         break\r\n//     }\r\n// }\r\n\r\n\r\n\r\n//廣告\r\nexport const showAd = val =>{\r\n  return {type:'SHOW_AD',value:val}\r\n}\r\n\r\nexport const fromServerAdData = val => {\r\n \r\n  return async dispatch => {\r\n    const request = new Request('https://cccdb.herokuapp.com/getCoupon/adData', {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        })\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    dispatch(showAd(data))\r\n  }\r\n}\r\n\r\nexport const showMbData = val =>{\r\n  return {type:'SHOW_LIKE_VALUE',value:val}\r\n}\r\nexport const addMbData = val =>{\r\n  return {type:'ADD_LIKE_VALUE',value:val}\r\n}\r\n\r\nexport const delMbData = val =>{\r\n  return {type:'DEL_LIKE_VALUE',value:val}\r\n}\r\n\r\n//會員收藏\r\nexport const fromServerMbLikeData = val =>{\r\n  \r\n  return async dispatch => {\r\n    const request = new Request('https://cccdb.herokuapp.com/getCoupon/mbLike', {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        body:JSON.stringify({mb_id:val})\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    dispatch(showMbData(data))\r\n  }\r\n}\r\n\r\nexport const addMbLikeData = (mb_id,obj) =>{\r\n  return async dispatch => {\r\n    const request = new Request('https://cccdb.herokuapp.com/getCoupon/addMbLike', {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        body:JSON.stringify({mb_id,obj})\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    dispatch(fromServerMbLikeData(mb_id))\r\n  }\r\n}\r\n\r\nexport const delMbLikeData = (mb_id,obj) =>{\r\n  return async dispatch => {\r\n    const request = new Request('https://cccdb.herokuapp.com/getCoupon/delMbLike', {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n        body:JSON.stringify({mb_id,obj})\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    dispatch(fromServerMbLikeData(mb_id))\r\n\r\n  }\r\n}\r\n\r\nexport const showDiscountAction = (val,data) =>{\r\n  return { type: 'SHOW_DISCOUNT', value: {isShow:val,value:data }}\r\n}\r\n\r\nexport const goShopping = val =>{\r\n  return { type: 'ITEMNAME_VALUE', value: [val] }\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\nimport {Link} from 'react-router-dom'\r\n// import chunk from 'lodash/chunk';\r\n// import {throttle} from 'lodash';\r\nimport {useSpring, animated} from 'react-spring'\r\nimport {Parallax, Background } from 'react-parallax'\r\n\r\nimport 'animate.css/animate.min.css'\r\nimport './css/all.scss'\r\nimport './css/home.scss'\r\nimport './css/homeRWD.scss'\r\n\r\nimport FeaturedProducts from './components/FeaturedProducts'\r\nimport Collection from './components/Collection'\r\nimport AdSlide from './components/AdSlide'\r\n\r\n//廣告用 redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {fromServerAdData,fromServerMbLikeData} from '../stacey/actions/couponAction'\r\n\r\n\r\n\r\nfunction Home(props2){\r\n\r\n    const [loaded, setLoaded] = useState(false) //for loading animation 還沒做\r\n    const [adNum, setAdNum] = useState(0); //for ad slides\r\n    // const [docWidth, setDocWidth] = useState(window.innerWidth)\r\n    const [showMouse, setShowMouse] = useState(true)\r\n    const [isMobile, setIsMobile] = useState(window.innerWidth <= 640)\r\n    const [slideInterval, setSlideInterval] = useState(3000)\r\n\r\n    const [props, set] = useSpring(()=>({\r\n        offset: 0,\r\n    }))\r\n\r\n    const parallaxRef = useRef()\r\n    const mouseRef = useRef()\r\n\r\n    useEffect(()=>{\r\n        setTimeout(()=>{\r\n            setLoaded(true)\r\n        })\r\n\r\n        props2.fromServerAdData() //拿廣告資料\r\n        if(mb_id) props2.fromServerMbLikeData(mb_id)//拿會員收藏資料\r\n\r\n        window.addEventListener('scroll', handleScroll)\r\n        window.addEventListener('resize', handleWindowResize)\r\n\r\n        return ()=>{\r\n            window.removeEventListener('scroll', handleScroll)\r\n            window.removeEventListener('resize', handleWindowResize)\r\n        }\r\n    }, [])\r\n\r\n    //---------------------廣告設定 ↓-----------------\r\n    let adArr= []\r\n    let adForGroup= []\r\n\r\n    for(let i = 0 ; i < props2.adData.length;i++){\r\n        if(props2.adData[i].planGroup){\r\n            adForGroup.push(props2.adData[i])\r\n        }else{\r\n            adArr.push(props2.adData[i])\r\n        }\r\n    }\r\n\r\n    //取得會員id\r\n    const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n    //取得瀏覽紀錄\r\n    const hisItem = localStorage.getItem('hisitem') ? JSON.parse(localStorage.getItem('hisitem') ) : []\r\n    //取得購物車內容\r\n    const cartItem = localStorage.getItem('cartItem') ? JSON.parse(localStorage.getItem('cartItem') ) : []\r\n\r\n    function pushArr (obj){\r\n        if( adArr.findIndex(val=>val.planId === obj.planId ) === -1 ){\r\n            adArr.push(obj) \r\n        }\r\n    }\r\n\r\n    if(mb_id){\r\n        for(let i = 0 ; i < adForGroup.length;i++){\r\n           \r\n            if(adForGroup[i].groupHistoryItems){\r\n                if( hisItem.some((val,ind)=> val.name === adForGroup[i].planUsername)){\r\n                    pushArr(adForGroup[i])\r\n                } \r\n            }\r\n            if( adForGroup[i].groupHistoryCategory){\r\n                if( hisItem.some((val,ind)=> val.itemCategoryId === adForGroup[i].groupHistoryCategory) ){\r\n                    pushArr(adForGroup[i])\r\n                }\r\n            }\r\n            if( adForGroup[i].groupCartCategory ){\r\n                if( cartItem.some((val,ind)=> val.itemCategoryId === adForGroup[i].groupCartCategory) ) {\r\n                    pushArr(adForGroup[i])\r\n                }\r\n            }\r\n            if( adForGroup[i].groupCollectItems ){\r\n                if( props2.mbLikeData.some((val,ind)=> val.name === adForGroup[i].planUsername) ) {\r\n                    pushArr(adForGroup[i])\r\n                }\r\n            }\r\n\r\n            if( adForGroup[i].groupCollectCategory ){\r\n                if( props2.mbLikeData.some((val,ind)=> val.itemCategoryId === adForGroup[i].groupCollectCategory) ) {\r\n                    pushArr(adForGroup[i])\r\n                }\r\n            }\r\n        }\r\n    }\r\n    adArr.sort(function(a,b){\r\n        return a.plan_updates_at > b.plan_updates_at ? -1 : 1\r\n      })\r\n\r\n  \r\n    // ---------------------廣告設定 ↑----------------------------------------\r\n\r\n    const handleScroll = ()=>{\r\n        const posY = parallaxRef.current.getBoundingClientRect().top\r\n        const offset = posY - window.pageYOffset\r\n        // console.log(offset)\r\n        set({offset})\r\n\r\n        const opacity = window.pageYOffset - posY\r\n        set({opacity})\r\n        // console.log(opacity)\r\n\r\n        const mouseY = mouseRef.current.getBoundingClientRect().top\r\n        const offsetMouse = mouseY - window.pageYOffset\r\n\r\n        if(offsetMouse < 0){\r\n            // console.log('hide mouse!')\r\n            setShowMouse(false)\r\n        }else{\r\n            setShowMouse(true)\r\n        }\r\n    }\r\n\r\n    const calc = o => `translateY(${o* 0.1}px)`;\r\n    const calc2 = o => `translateY(${o* 0.1 * 0.5}px)`;\r\n\r\n    //------之後把handleScroll拿掉用的\r\n    const handleWindowResize = ()=>{\r\n        if(window.innerWidth <= 640){\r\n            setIsMobile(true)\r\n        }else{\r\n            setIsMobile(false)\r\n        }\r\n    }\r\n\r\n   \r\n\r\n    useInterval(()=>{\r\n        setAdNum((adNum + 1)% adArr.length)\r\n    })\r\n\r\n    function useInterval(callback) {\r\n        const savedCallback = useRef();\r\n      \r\n        // Remember the latest function.\r\n        useEffect(() => {\r\n          savedCallback.current = callback;\r\n        }, [callback]);\r\n      \r\n        // Set up the interval.\r\n        useEffect(() => {\r\n          function tick() {\r\n            savedCallback.current();\r\n          }\r\n          if (slideInterval !== null) {\r\n            let id = setInterval(tick, slideInterval);\r\n            return () => clearInterval(id);\r\n          }\r\n        }, [slideInterval]);\r\n      }\r\n\r\n    const btnNextSlide = ()=>{\r\n        setAdNum((adNum + 1)% adArr.length)\r\n        setSlideInterval(null)\r\n        setTimeout(()=>{\r\n            setSlideInterval(3000)\r\n        }, 1000)\r\n    }\r\n\r\n    const btnPrevSlide = ()=>{\r\n        setAdNum(prevAdNum=>{\r\n            let newNum = prevAdNum - 1\r\n            if(newNum < 0) newNum = adArr.length -1\r\n            return newNum\r\n        })\r\n        setSlideInterval(null)\r\n        setTimeout(()=>{\r\n            setSlideInterval(3000)\r\n        }, 1000)\r\n    }\r\n\r\n    const clickAdNum = (idx)=>{\r\n        setAdNum(idx)\r\n        setSlideInterval(null)\r\n        setTimeout(()=>{\r\n            setSlideInterval(3000)\r\n        }, 1000)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        // console.log(\"current ad:\", adNum)\r\n    }, [adNum])\r\nconst parallax = useRef()\r\n\r\n    return(\r\n        <>\r\n        <div className='bk-home-container'>\r\n            <section className=\"bk-home-slider\" >\r\n                <Parallax\r\n                    bgImage={\"/biki-img/josh-nuttall-uNQ-TTg_qNY-unsplash_.jpg\"}\r\n                    bgImageAlt='TRIPLEC'\r\n                    strength={600}\r\n                    className='bk-slides'\r\n                    contentClassName='bk-slide-content'\r\n                >\r\n                    <img className='mb-4' src='/biki-img/cccLogo.svg' />\r\n                    <h3>Get the best gear for your trip</h3>\r\n                    <h5>為你的旅途準備最好的裝備</h5>\r\n                </Parallax>\r\n                <div className={`bk-mouse animated ${showMouse ? 'fadeInDown' : 'fadeOutUp'}`}\r\n                    ref={mouseRef}\r\n                >\r\n                    <div className='bk-mouse-ball animated fadeOutDown infinite'></div>\r\n                </div>\r\n            </section>\r\n            <section className=\"bk-ads\">\r\n                <Container className='bk-ads-container'>\r\n                    {props2.adData.length && adArr.map((elm, idx)=>{\r\n                        return (\r\n                            <AdSlide \r\n                            key={idx+'a'} \r\n                            data={elm}\r\n                            show={adNum===idx}\r\n                            num={idx+1}\r\n                            />\r\n                        )\r\n                    })}\r\n                    <div className=\"bk-arrows\">\r\n                        <div className=\"bk-arrow-r\" onClick={btnPrevSlide}>\r\n                            <img src='/biki-img/arrowLeft.svg' />\r\n                        </div>\r\n                        <div className=\"bk-arrow-l\" onClick={btnNextSlide}>\r\n                        <img src='/biki-img/arrowRight.svg' />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"bk-ad-list-buttons\">\r\n                        <ul>\r\n                            {props2.adData.length && adArr.map((elm, idx)=>{\r\n                                return (\r\n                                    <li key={idx+'l'}\r\n                                     onClick={()=>{\r\n                                        clickAdNum(idx)\r\n                                    }}\r\n                                    className={adNum === idx ? 'active' : ''}\r\n                                    ></li>\r\n                                )\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                </Container>\r\n            </section>\r\n            <section className=\"bk-featured-products\" \r\n                ref={parallaxRef} >\r\n                <Container>\r\n                    <div className='bk-mb-featured-title'>\r\n                        <h3>FEATURED PRODUCTS</h3>\r\n                        <h5>精選商品</h5>\r\n                    </div>\r\n                    <Row className='bk-featured-wrapper row-cols-xl-3 row-cols-md-2 row-cols-1'>\r\n                        <animated.div style={isMobile ? {} : {transform: props.offset.interpolate(calc)}}>\r\n                            <FeaturedProducts \r\n                                img={`/chin-img/images/SONY 重低音降噪藍牙耳罩式耳機 WH-XB900N/0.jpg`}\r\n                                url='/commidty/116'\r\n                                data={{\r\n                                    brand: 'SONY',\r\n                                    name: 'SONY 重低音降噪藍牙耳罩式耳機 WH-XB900N',\r\n                                    price: 'NT$26,990'\r\n                                }}\r\n                            />\r\n                        </animated.div>\r\n                        <animated.div style={isMobile ? {} : {transform: props.offset.interpolate(calc2)}}>\r\n                            <FeaturedProducts \r\n                                img={`/chin-img/images/繽特力 Plantronics Voyager 6200UC 雙向降噪藍牙耳機 白色/0.jpg`}\r\n                                url='/commidty/171'\r\n                                data={{\r\n                                    brand: 'Plantronics繽特力',\r\n                                    name: '繽特力 Plantronics Voyager 6200UC 雙向降噪藍牙耳機 白色',\r\n                                    price: 'NT$12,800'\r\n                                }}\r\n                            />\r\n                        </animated.div>\r\n                        <animated.div style={isMobile? {} : {transform: props.offset.interpolate(calc)}}>\r\n                            <FeaturedProducts \r\n                                img={`/chin-img/images/GoPro-HERO8 Black全方位運動攝影機 單車騎士升級組/0.jpg`}\r\n                                url='/commidty/161'\r\n                                data={{\r\n                                    brand: 'GoPro',\r\n                                    name: 'GoPro-HERO8 Black全方位運動攝影機 單車騎士升級組',\r\n                                    price: 'NT$23,154'\r\n                                }}\r\n                            />\r\n                        </animated.div>\r\n                        <animated.div style={isMobile ? {} : {transform: props.offset.interpolate(calc)}}>\r\n                            <FeaturedProducts \r\n                                img={`/chin-img/images/Mavic Mini 充電管家/0.jpg`}\r\n                                url='/commidty/191'\r\n                                data={{\r\n                                    brand: 'DJI',\r\n                                    name: 'Mavic Mini 充電管家',\r\n                                    price: 'NT$12,659'\r\n                                }}\r\n                            />\r\n                        </animated.div>\r\n                        <animated.div style={isMobile ? {} : {transform: props.offset.interpolate(calc2)}}>\r\n                        <Col>\r\n                            <div className=\"bk-featured-product-item bk-box\">\r\n                                <div className=\"bk-box-content\">\r\n                                    <h3>FEATURED PRODUCTS</h3>\r\n                                    <h6 className=\"bk-white\">精選商品</h6>\r\n                                    <button className=\"bk-btn-white\">瀏覽商品</button>\r\n                                </div>\r\n                            </div>\r\n                        </Col>\r\n                        </animated.div>\r\n                        <animated.div style={isMobile ? {} : {transform: props.offset.interpolate(calc)}}>\r\n                            <FeaturedProducts \r\n                                img={`/chin-img/images/小米手環34 腕帶 替換帶 尼龍編織回環式錶帶 透氣舒適 運動智能錶帶/0.jpg`}\r\n                                url='/commidty/191'\r\n                                data={{\r\n                                    brand: 'DJI',\r\n                                    name: 'Mavic Mini 充電管家',\r\n                                    price: 'NT$12,659'\r\n                                }}\r\n                            />\r\n                        </animated.div>\r\n                        <animated.div style={isMobile ? {} : {transform: props.offset.interpolate(calc)}}>\r\n                            <FeaturedProducts \r\n                                img={`/chin-img/images/HTR 螺旋槳4726F 金銀槳 For Mavic Mini/0.jpg`}\r\n                                url='/commidty/191'\r\n                                data={{\r\n                                    brand: 'DJI',\r\n                                    name: 'Mavic Mini 充電管家',\r\n                                    price: 'NT$12,659'\r\n                                }}\r\n                            />\r\n                        </animated.div>\r\n                        <animated.div style={isMobile ? {} : {transform: props.offset.interpolate(calc2)}}>\r\n                            <FeaturedProducts \r\n                                img={`/chin-img/images/SONY 運動藍牙入耳式耳機 WI-SP500/0.jpg`}\r\n                                url='/commidty/191'\r\n                                data={{\r\n                                    brand: 'DJI',\r\n                                    name: 'Mavic Mini 充電管家',\r\n                                    price: 'NT$12,659'\r\n                                }}\r\n                            />\r\n                        </animated.div>\r\n                        <animated.div style={isMobile ? {} : {transform: props.offset.interpolate(calc)}}>\r\n                            <FeaturedProducts \r\n                                img={`/chin-img/images/Holy Stone HS210 迷你遙控飛機-三電版/0.jpg`}\r\n                                url='/commidty/191'\r\n                                data={{\r\n                                    brand: 'DJI',\r\n                                    name: 'Mavic Mini 充電管家',\r\n                                    price: 'NT$12,659'\r\n                                }}\r\n                            />\r\n                        </animated.div>\r\n                    </Row>\r\n                </Container>\r\n            </section>\r\n            <Collection \r\n            theme=\"white\" \r\n            title=\"WEARIBLE DEVICES\" \r\n            titleCn=\"穿戴式裝置\" \r\n            info={\r\n                <>\r\n                陪伴你度過每一分每一秒<br />\r\n                各種品項包含藍芽、聽音樂、收簡訊、檢測身體數據等功能，滿足您的需求\r\n                </>\r\n            } \r\n            img=\"/biki-img/wearible-devices.png\" \r\n            bg=\"/biki-img/person-on-body-of-water-2104152_.jpg\" \r\n            position=\"center\"\r\n            url='/watch'\r\n            />\r\n\r\n            <Collection \r\n            theme=\"blue\" \r\n            title=\"EARPHONES / SPEAKERS\" \r\n            titleCn=\"耳機/喇吧\" \r\n            info={\r\n                <>\r\n                即使獨自一人也不會感到寂寞。<br />\r\n                戴上耳機聆聽自己喜歡的音樂，可以沉浸在自己的世界中。\r\n                各種耳機樣式供你挑選。\r\n                </>\r\n            }\r\n            img=\"/biki-img/earphones-speakers.png\" \r\n            bg=\"/biki-img/man-standing-on-the-end-of-the-rock-1908647_.jpg\" \r\n            position=\"bottom\"\r\n            url='/headset'\r\n            />  \r\n\r\n            <Collection \r\n            theme=\"orange\" \r\n            title=\"ACTION CAMERAS\" \r\n            titleCn=\"運動攝影機\" \r\n            info={\r\n                <>\r\n                紀錄你活動的每一刻<br />\r\n                從攝影機到無人機，多種品項供你選擇，讓你能在任何情況紀錄你的身姿\r\n                </>\r\n            }\r\n            img=\"/biki-img/action-cameras.png\" \r\n            bg=\"/biki-img/person-doing-parkour-exhibition-316769_.jpg\" \r\n            position=\"bottom\"\r\n            url='/actioncamera'\r\n            />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n//廣告用\r\n//選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return  { adData: store.adData,\r\n        mbLikeData: store.memberLikeData}\r\n  }\r\n  //action\r\n  const mapDispatchToProps = dispatch =>{\r\n    return bindActionCreators({\r\n        fromServerAdData,fromServerMbLikeData\r\n    },dispatch)\r\n  }\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)","import React, { useState, useEffect, useRef } from 'react'\r\nimport { Card } from 'react-bootstrap'\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nimport {\r\n    FiThumbsUp,\r\n    FiMessageSquare,\r\n    FiEye\r\n  } from 'react-icons/fi'\r\n\r\nimport '../css/all.scss'\r\nimport '../css/stories.scss'\r\n\r\nfunction StoryCard(props){\r\n    // console.log(props.data.stryTags)\r\n    \r\n\r\n    const cardRef = useRef(null);\r\n    const [height, setHeight] = useState(0)\r\n    const [like, setLike] = useState(props.liked)\r\n    const [likeNum, setLikeNum] = useState(props.data.likes)\r\n    const [usrId, setUsrId] = useState(localStorage.getItem('userId'))\r\n\r\n    useEffect(()=>{\r\n        // console.log(cardRef.current.clientHeight);\r\n        setHeight(cardRef.current.clientHeight)\r\n    }, [props.loading])\r\n\r\n\r\n    const handleToggleLike = (id, evt)=>{\r\n        evt.preventDefault()\r\n        if(usrId){\r\n            console.log('set like to ', !like)\r\n            setLike(!like)\r\n\r\n            if(!like){\r\n                console.log('like!')\r\n                setLikeNum(likeNum + 1)\r\n                axios.post(`http://localhost:5500/stories/member/add-like/${props.data.stryId}?usrId=${usrId}`)\r\n            }else if(like){\r\n                console.log('unlike!')\r\n                setLikeNum(likeNum - 1)\r\n                axios({\r\n                    method: 'DELETE',\r\n                    url: `http://localhost:5500/stories/member/remove-like/${props.data.stryId}?usrId=${usrId}`\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleTagClick = (data, evt)=>{\r\n        evt.preventDefault()\r\n        // console.log(props)\r\n        // props.addTagsToArr(data)\r\n        props.history.push(`/stories?tag=${data}`)\r\n        // window.location.reload() //???\r\n    }\r\n\r\n    return(\r\n        <Link to={`/stories/story/${props.data.stryId}`} className=\"bk-card-linkwrapper\">\r\n            <Card className={`bk-card${height >= 630 ? ' bk-collapse' : ''}`}\r\n                ref={cardRef}\r\n                >\r\n                <Card.Header>\r\n                <div className=\"bk-card-user\">\r\n                        <div className=\"bk-card-userimg\">\r\n                            <img src={props.data.Img ? props.data.Img : './biki-img/svg/user.svg'} />\r\n                        </div>\r\n                        <div>\r\n                        <div>{props.data.Name || props.data.Account}</div>\r\n                            <div>{props.data.fromNow}</div>\r\n                        </div>\r\n                    </div>\r\n                </Card.Header>\r\n                <Card.Body className=\"bk-card-body\">\r\n                    <h3>{props.data.stryTitle}</h3>\r\n                    <div className='bk-tags'>{JSON.parse(props.data.stryTags).map((elm, idx)=>{\r\n                        return (<div \r\n                                className='bk-tag bk-hover'\r\n                                key={`${elm}-${idx}`}\r\n                                onClick={(evt)=>{\r\n                                    handleTagClick(elm, evt)\r\n                                }}\r\n                                >\r\n                                    {elm}\r\n                                </div>)\r\n                    })}</div>\r\n                    <div dangerouslySetInnerHTML={{__html: props.content}}></div>\r\n                </Card.Body>\r\n                <Card.Footer className='bk-card-footer'>\r\n                    <div>\r\n                        <span className='bk-stry-icons'><FiThumbsUp /> {likeNum}</span>\r\n                        <span className='bk-stry-icons'><FiMessageSquare /> {props.data.rplyTotal}</span>\r\n                        <span className='bk-stry-icons'><FiEye /> {props.data.stryViews}</span>\r\n                    </div>\r\n                    <div \r\n                    className={`bk-press-like${like ? ' active' : ''}${usrId ? '' : ' inactive'}`} onClick={(evt)=>{handleToggleLike(props.data.stryId, evt)}}>\r\n                        <span><FiThumbsUp /> {usrId ? '按讚' : '請登入'}</span>\r\n                    </div>\r\n                </Card.Footer>\r\n            </Card>\r\n            <div className=\"bk-masonry-itm-backdrop\"></div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default withRouter(StoryCard)","import React, { useState, useEffect, useRef, useCallback } from 'react'\r\n// import { Container, Row, Col } from 'react-bootstrap'\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport { convertFromRaw } from 'draft-js'\r\nimport {stateToHTML} from 'draft-js-export-html';\r\nimport axios from 'axios'\r\n\r\nimport {\r\n    FiMoreHorizontal,\r\n    FiChevronDown\r\n  } from 'react-icons/fi'\r\n\r\nimport useStorySearch from './utils/useStorySearch'\r\n\r\nimport './css/stories.scss'\r\nimport './css/storiesRWD.scss'\r\n\r\nimport StoryCard from './components/StoryCard'\r\nimport Masonry from 'react-masonry-component';\r\n\r\nimport {\r\n    FiX,\r\n    FiSearch\r\n  } from 'react-icons/fi'\r\n\r\n\r\nfunction Stories(props){\r\n\r\n    const [pageNumber, setPageNumber] = useState(1)\r\n    // const [showBtn, setShowBtn] = useState(false)\r\n    const [showSort, setShowSort] = useState(false)\r\n    const [sortName, setSortName] = useState(null)\r\n    const [sortNameCn, setSortNameCn] = useState(null)\r\n    const [usrId, setUsrId] = useState(localStorage.getItem('userId'))\r\n    const [stryLikes, setStryLikes] = useState(null)\r\n    // const [tags, setTags] = useState(props.location.search.replace(/[\\?\\&]tag\\d=/g, ' ').split(' '))\r\n    const [tag, setTag] = useState(props.location.search)\r\n    const [search, setSearch] = useState('')\r\n    const [goSearch, setGoSearch] = useState('')\r\n\r\n    const {\r\n        loading,\r\n        hasMore,\r\n        stories,\r\n        stryTotal,\r\n        showBtn,\r\n        error,\r\n    } = useStorySearch(pageNumber, sortName, tag, goSearch)\r\n\r\n    const observer = useRef(null)\r\n\r\n    //查看使用者按讚的故事\r\n    useEffect(()=>{\r\n        // if(props.location) setTag(props.location.search)\r\n        if(!usrId) return;\r\n\r\n        axios.get(`http://localhost:5500/stories/member/like?usrId=${usrId}`)\r\n        .then(r=>{\r\n            let arrLikes = [];\r\n            r.data.forEach(elm=>{\r\n                arrLikes.push(elm.stryId)\r\n            })\r\n            // console.log(arrLikes)\r\n            setStryLikes(arrLikes)\r\n        })\r\n    }, [])\r\n\r\n    // useEffect(()=>{\r\n    //     console.log('stryLikes:', stryLikes)\r\n    // }, [stryLikes])\r\n\r\n    useEffect(()=>{\r\n        setTag(props.location.search)\r\n        // console.log(props.location.search)\r\n\r\n    }, [props.location.search])\r\n\r\n    const lastStoryElementRef = useCallback(node => {\r\n        if(loading) return\r\n        // console.log(node)\r\n        if(observer.current) observer.current.disconnect()\r\n        observer.current = new IntersectionObserver(entries => {\r\n            if(entries[0].isIntersecting && hasMore){\r\n                //滑動一次需要手動增加頁面\r\n                if(pageNumber%2 !== 0){\r\n                    console.log(pageNumber)\r\n                    console.log('get stuff')\r\n                    setPageNumber(prevPageNumber => prevPageNumber + 1)\r\n                }\r\n            }\r\n        })\r\n        if(node) observer.current.observe(node)\r\n    })\r\n\r\n    const handleButtonMore = ()=>{\r\n        setPageNumber(prevPageNumber => prevPageNumber + 1)\r\n    }\r\n\r\n    const toggleShowSort = ()=>{\r\n        setShowSort(!showSort)\r\n    }\r\n\r\n    const handleSortName = (name, nameCn)=>{\r\n        setSortName(name)\r\n        setSortNameCn(nameCn)\r\n        setShowSort(false)\r\n    }\r\n\r\n    // const addTagsToArr = (tag)=>{\r\n    //     setTags(prevTags=>{\r\n    //         return [...prevTags, tag]\r\n    //     })\r\n    // }\r\n\r\n    useEffect(()=>{\r\n        if(sortName) setPageNumber(1)\r\n        // if(tags.length) setPageNumber(1)\r\n        if(tag) setPageNumber(1)\r\n    }, [sortName, tag])\r\n    \r\n\r\n    const items =  stories.map((itm, idx)=>{\r\n        if(!stryLikes && usrId) return '';\r\n\r\n        let options = {\r\n            blockStyleFn: (block) => {\r\n                switch(block.type){\r\n                    case 'ALIGNLEFT':\r\n                        return {style:{textAlign: 'left'}}\r\n                    case 'ALIGNCENTER':\r\n                        return {style:{textAlign: 'center'}}\r\n                    case 'ALIGNRIGHT':\r\n                        return {style:{textAlign: 'right'}}\r\n                }\r\n            }\r\n          }\r\n\r\n        let story = stateToHTML(convertFromRaw(JSON.parse(itm.stryContent)), options)\r\n\r\n        if(stories.length === idx+1){\r\n            return (\r\n                <div className=\"bk-masonry-brick\" \r\n                    ref={lastStoryElementRef} \r\n                    key={`${itm.stryId}-${itm.userId}`} \r\n                >\r\n                    <StoryCard \r\n                        content={story} \r\n                        data={itm}\r\n                        liked={stryLikes ? (stryLikes.indexOf(itm.stryId) !== -1) : null}\r\n                        // addTagsToArr={addTagsToArr}\r\n                        // tags={tags}\r\n                    />\r\n                </div>\r\n            )\r\n        }else{\r\n            return (\r\n                <div className=\"bk-masonry-brick\" \r\n                    key={`${itm.stryId}-${itm.userId}`} \r\n                >\r\n                    <StoryCard \r\n                        content={story} \r\n                        data={itm}\r\n                        liked={stryLikes ? !(stryLikes.indexOf(itm.stryId) === -1) : null}\r\n                        // addTagsToArr={addTagsToArr}\r\n                        // tags={tags}\r\n                    />\r\n                </div>\r\n            )\r\n        }\r\n    })\r\n\r\n    const handleSearch = (evt)=>{\r\n        setSearch(evt.target.value)\r\n    }\r\n\r\n    const handleGoSearch = (evt) =>{\r\n        if(evt.key === 'Enter'){\r\n            // let keySearchStr;\r\n            // if(props.location.search.length){\r\n            //     keySearchStr = `&key=${search}`\r\n            // }else{\r\n            //     keySearchStr = `?key=${search}`\r\n            // }\r\n            // props.history.push(props.location.pathname + props.location.search + keySearchStr)\r\n            setGoSearch(search)\r\n            setPageNumber(1)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <div className = 'bk-page-top'>\r\n                <div className='bk-page-title'>\r\n                    <span>STORIES</span>\r\n                    <span>故事牆</span>\r\n                </div>\r\n                <div className='bk-sort'>\r\n                    <div role=\"button\" onClick={toggleShowSort}>{sortName ? sortNameCn : '排序方式'} <FiChevronDown /></div>\r\n                    <ul className={showSort ? 'active' : ''}>\r\n                        <li onClick={()=>{\r\n                            handleSortName('time', '最新故事')\r\n                            // setPageNumber(1)\r\n                        }}>最新故事</li>\r\n                        <li onClick={()=>{\r\n                            handleSortName('views', '觀看次數')\r\n                            // setPageNumber(1)\r\n                        }}>觀看次數</li>\r\n                        <li onClick={()=>{\r\n                            handleSortName('likes', '按讚次數')\r\n                            // setPageNumber(1)\r\n                        }}>按讚次數</li>\r\n                        <li onClick={()=>{\r\n                            handleSortName('replies', '回覆數量')\r\n                            // setPageNumber(1)\r\n                        }}>回覆數量</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            {/* {tags.length ? \r\n            (<div className='bk-tags bk-dark mt-5'>\r\n                {tags.map((elm, idx)=>{\r\n                    return (\r\n                    <div className='bk-tag' key={`${elm}-${idx}`}>\r\n                        {elm}\r\n                    </div>\r\n                )\r\n                })}\r\n            </div>)\r\n            : ''} */}\r\n            <div className='bk-story-search'>\r\n                <FiSearch />\r\n                <input type=\"text\" \r\n                onChange={handleSearch} \r\n                onKeyUp={handleGoSearch}\r\n                placeholder='搜尋故事'\r\n                 />\r\n            </div>\r\n\r\n            {tag ? \r\n            (<div className='bk-tags bk-dark mt-3'>\r\n                <div className='bk-tag' style={{display:'flex', alignItems:'center'}}>\r\n                    {decodeURI(tag.replace('?tag=', ''))}\r\n                    <FiX style={{marginLeft:'7.5px'}} onClick={()=>{\r\n                        setPageNumber(1)\r\n                        setTag('')\r\n                        props.history.push('/stories')\r\n                    }} />\r\n                </div>\r\n            </div>)\r\n            : ''}\r\n\r\n            <main className=\"mt-5\">\r\n                <div className=\"bk-stories-container\">\r\n                    <Masonry\r\n                        className={'my-gallery-class'} // default ''\r\n                        elementType={'div'} // default 'div'\r\n                        // options={{\r\n                        //     transitionDuration: 0\r\n                        // }}\r\n                        disableImagesLoaded={false} // default false\r\n                        updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\r\n                    >\r\n                       {items}\r\n                    </Masonry>\r\n                </div>\r\n                <button className={`bk-btn-more${showBtn ? '' : ' hidden'}`} onClick={handleButtonMore}>\r\n                    <FiMoreHorizontal />\r\n                </button>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(Stories)","import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\nexport default function useStorySearch(pageNumber, sortName, tag, search){\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [hasMore, setHasMore] = useState(false)\r\n    const [stories, setStories] = useState([])\r\n    const [error, setError] = useState(false)\r\n    const [stryTotal, setStryTotal] = useState(0)\r\n    const [showBtn, setShowBtn] = useState(false)\r\n\r\n    useEffect(()=>{\r\n        // console.log('tag', tag)\r\n        setLoading(true)\r\n        setError(false)\r\n        // console.log('page or sortname has been changed')\r\n\r\n        // let cancel;\r\n\r\n        if(pageNumber === Math.ceil(stryTotal / 15)){\r\n            setShowBtn(false)\r\n        }\r\n\r\n        let url = `http://localhost:5500/stories/${pageNumber}`\r\n\r\n        if(tag){\r\n            url += `${tag}`\r\n        }\r\n\r\n        // if(tag){\r\n        //     tag.forEach((elm, idx)=>{\r\n        //         if(idx === 0){\r\n        //             url += `?tag${idx}=${elm}`\r\n        //         }else{\r\n        //             url += `&tag${idx}=${elm}`\r\n        //         }\r\n        //     })\r\n        // }\r\n\r\n        if(sortName){\r\n            if(tag){\r\n                url += `&orderby=${sortName}`;\r\n            }else{\r\n                url += `?orderby=${sortName}`;\r\n            }\r\n        }\r\n\r\n        if(search){\r\n            if(tag || sortName){\r\n                url += `&key=${search}`\r\n            }else{\r\n                url += `?key=${search}`\r\n            }\r\n        }\r\n\r\n\r\n        axios({\r\n            method: 'GET',\r\n            url: url,\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            }\r\n        }).then(response=>{\r\n            // console.log(response)\r\n            setStories(prevStories=>{\r\n                return [...prevStories, ...response.data.data]\r\n            })\r\n            setStryTotal(response.data.stryTotal)\r\n            setHasMore(response.data.data.length > 0)\r\n            if(pageNumber === Math.ceil(stryTotal / 15)){\r\n                setShowBtn(false)\r\n            }else{\r\n                setShowBtn(response.data.data.length > 0)\r\n            }\r\n            setLoading(false)\r\n        }).catch(err=>{\r\n            // if(axios.isCancel(err)) return\r\n            console.log('error:', err)\r\n            setError(true)\r\n            // return;\r\n        })\r\n        // return ()=> cancel()\r\n\r\n    }, [pageNumber, sortName, tag, search])\r\n\r\n    useEffect(()=>{\r\n        // if(sortName){\r\n            // console.log('resetting stories..')\r\n            setStories([])\r\n        // }\r\n    }, [sortName, tag, search])\r\n\r\n    return {loading, hasMore, stories, stryTotal, showBtn, error}\r\n}","import React from 'react'\r\n\r\nimport {\r\n    FiBold,\r\n    FiItalic,\r\n    FiUnderline,\r\n    FiAlignCenter,\r\n    FiAlignLeft,\r\n    FiAlignRight,\r\n    FiImage\r\n  } from 'react-icons/fi'\r\n\r\n\r\nexport const inlineStyles = [\r\n    { label: \"bold\", style: \"BOLD\", icon: <FiBold />},\r\n    { label: \"italic\", style: \"ITALIC\", icon: <FiItalic />},\r\n    { label: 'underline', style: 'UNDERLINE', icon: <FiUnderline />}\r\n\r\n]\r\n\r\nexport const blockStyles = [\r\n    { label: 'align-left', style: \"ALIGNLEFT\", icon: <FiAlignLeft />},\r\n    { label: 'align-center', style: \"ALIGNCENTER\", icon: <FiAlignCenter />},\r\n    { label: 'align-right', style: \"ALIGNRIGHT\", icon: <FiAlignRight />}\r\n\r\n]\r\n\r\nexport const styleMap = {\r\n    // 'ALIGNCENTER':{ display: 'block', textAlign: 'center'},\r\n    // 'ALIGNRIGHT':{ display: 'block', textAlign: 'right'},\r\n    // 'ALIGNLEFT':{ display: 'block', textAlign: 'left'}\r\n}\r\n\r\nexport function getBlockType(block){\r\n    switch(block.getType()){\r\n        case 'ALIGNCENTER':\r\n            return 'align-center'\r\n        case 'ALIGNLEFT':\r\n            return 'align-left'\r\n        case 'ALIGNRIGHT':\r\n            return 'align-right'\r\n        default:\r\n            return null\r\n    }\r\n}\r\n\r\nfunction Toolbar(props){\r\n\r\n    const {editorState} = props\r\n\r\n    const isActive = style =>{\r\n        const currentStyle = editorState.getCurrentInlineStyle();\r\n        return currentStyle.has(style)\r\n    }\r\n\r\n    //settings for block type elements\r\n    const selection = editorState.getSelection();\r\n\r\n    const blockType = editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();\r\n\r\n    return(\r\n        <>\r\n            <div className=\"bk-draft-toolbar\">\r\n\r\n            {/* render inline styles buttons */}\r\n                {inlineStyles.map((item, idx)=>{\r\n                    return (\r\n                    <div role=\"button\" \r\n                    className={ isActive(item.style) ? 'active' : \"\" }\r\n                    key={`${item.label}-${idx}`} \r\n                    onClick = {(e)=>{\r\n                        props.renderInlineStyles(e, item.style)\r\n                    }}\r\n                    >\r\n                        {item.icon || item.label}\r\n                    </div>\r\n                    )\r\n                })}\r\n\r\n                <div role=\"button\" onClick={props.confirmMedia}>\r\n                    <FiImage />\r\n                    <form name=\"imgForm\" ref={props.imgFormRef}>\r\n                    <input name=\"image\" type=\"file\" ref={props.imgRef} onChange={props.fileOnChange} hidden multiple accept=\"image/*\" />\r\n                    </form>\r\n                </div>\r\n\r\n            {/* render block styles buttons */}\r\n\r\n                {blockStyles.map((item, idx)=>{\r\n                    return (\r\n                    <div role=\"button\" \r\n                    className={ item.style === blockType ? 'active' : \"\" }\r\n                    onToggle={props.onToggle}\r\n                    key={`${item.label}-${idx}`} \r\n                    onClick = {(e)=>{\r\n                        e.preventDefault()\r\n                        props.onToggle(item.style)\r\n                    }}\r\n                    >\r\n                        {item.icon || item.label}\r\n                    </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Toolbar\r\n\r\n","import React, {useState, useEffect} from \"react\"\r\n\r\nimport {\r\n    FiX\r\n  } from 'react-icons/fi'\r\n\r\n\r\nfunction TagInput(props){\r\n\r\n    const [tags, setTags] = useState([]);\r\n\r\n    const addTags = event => {\r\n        if (event.key === \"Enter\" && event.target.value !== \"\") {\r\n            setTags([...tags, event.target.value]);\r\n            props.selectedTags([...tags, event.target.value])\r\n            event.target.value = \"\";\r\n        }\r\n    };\r\n\r\n    const removeTags = index =>{\r\n        setTags([...tags.filter(tag => tags.indexOf(tag) !== index)]);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(props.tags){\r\n            setTags(props.tags)\r\n        }\r\n    }, [props.tags])\r\n\r\n    return (\r\n        <div className=\"bk-tags-input\">\r\n            <ul>\r\n                {tags.map((tag, index) => (\r\n                    <li key={index}>\r\n                        <span>{tag}</span>\r\n                        <FiX onClick={() => removeTags(index)} className='bk-close' />\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            <input\r\n                type=\"text\"\r\n                onKeyUp={event => addTags(event)}\r\n                placeholder=\"按 Enter 鍵加入新標籤\"\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TagInput","import React from \"react\";\r\nimport { EditorState, convertToRaw, AtomicBlockUtils } from \"draft-js\";\r\n\r\n// renderer for Editor\r\nexport function mediaBlockRenderer(block){\r\n\r\n    if(block.getType() === 'atomic'){\r\n        return{\r\n            component: Media,\r\n            editable: false\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\n//the rendered item\r\n// const Image = props =>{\r\n//     if(!!props.src){\r\n//         return <img src={props.src} />\r\n//     }\r\n//     return null\r\n// }\r\n\r\n//the component\r\nconst Media = props =>{\r\n\r\n    // console.log(\"entity key:\", props.block.getEntityAt(0))\r\n    console.log('Media props: ',props)\r\n\r\n    const entity = props.contentState.getEntity(props.block.getEntityAt(0))\r\n    const {src} = entity.getData()\r\n    const type = entity.getType()\r\n\r\n    let media;\r\n    if(type === 'image' && src){\r\n        media = <img src={src} />\r\n    }\r\n    return media\r\n}\r\n\r\n\r\nexport async function renderMedia(urlValue, editorState, setEditorState, setUrlValue){\r\n\r\n    console.log('rendering media for', urlValue)\r\n\r\n    const contentState = await editorState.getCurrentContent()\r\n    const contentStateWithEntity = await contentState.createEntity(\r\n        'image',\r\n        'IMMUTABLE',\r\n        {src: urlValue} //entity data\r\n    )\r\n    const entityKey = contentStateWithEntity.getLastCreatedEntityKey()\r\n\r\n    //update editor with image\r\n    // const newEditorState = EditorState.set(\r\n    //     editorState,\r\n    //     {currentContent: contentStateWithEntity}\r\n    // )\r\n    \r\n    //log it into the editorstate hook\r\n    setEditorState(prevEditorState=>{\r\n        console.log('prevEditorState', convertToRaw(prevEditorState.getCurrentContent()))\r\n\r\n        return AtomicBlockUtils.insertAtomicBlock(\r\n            prevEditorState,\r\n            entityKey,\r\n            ' '\r\n        )\r\n    })\r\n    setUrlValue('')\r\n    console.log('done')\r\n\r\n}","import React, {useState, useEffect, useRef} from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {stateToHTML} from 'draft-js-export-html';\r\nimport {Editor, EditorState, RichUtils, convertToRaw} from 'draft-js';\r\nimport Swal from 'sweetalert2/dist/sweetalert2'\r\n\r\nimport Toolbar, {styleMap, getBlockType} from './EditorComponents/Toolbar'\r\n// import TagBlock from './EditorComponents/TagBlock'\r\nimport TagInput from './TagInput'\r\n\r\n//utils for media rendering\r\nimport { renderMedia, mediaBlockRenderer } from './entities/mediaBlockRenderer'\r\n\r\n//utils for debouncing\r\nimport useDebounce from '../utils/useDebounce'\r\n\r\n//css\r\nimport '../css/Draft.css'\r\nimport '../css/storyEditor.scss'\r\n\r\nfunction DraftEditor(props){\r\n\r\n    // console.log(props)\r\n\r\n    //initialize editor state\r\n    const [editorState, setEditorState] = useState(EditorState.createEmpty());\r\n    const [editorContent, setEditorContent] = useState(null);\r\n    const [saveDraft, setSaveDraft] = useState(false)\r\n    const [draftSaved, setDraftSaved] = useState(false)\r\n    const [urlValue, setUrlValue] = useState('')\r\n    // const [uploading, setUploading] = useState(false)\r\n    const [foldername, setFoldername] = useState('')\r\n    const [title, setTitle] = useState('')\r\n    const [id, setId] = useState(0)\r\n    const [story, setStory] = useState([]) //for debouncing & checking content\r\n    const [tags, setTags] = useState([])\r\n    const [message, setMessage] = useState('')\r\n    const [usrId, setUsrId] = useState(localStorage.getItem('userId'))\r\n\r\n    const editorRef = useRef(null); //for focusing\r\n    const imgRef = useRef(null)\r\n    const imgFormRef = useRef(null)\r\n    const tagsRef = useRef(null)\r\n\r\n    //set editor content when Editor has content\r\n    useEffect(()=>{\r\n        let content = editorState.getCurrentContent()\r\n        let newContent = convertToRaw(content);\r\n        if(newContent.blocks.length > 1 || newContent.blocks[0].text !== ''){\r\n            setEditorContent(newContent)\r\n        }\r\n    }, [editorState])\r\n\r\n    //set story when Story has content, and initialize saveDraft\r\n    useEffect(()=>{\r\n        if(editorContent || title.length || tags.length){\r\n            // console.log(editorContent)\r\n            setStory([{'content': editorContent}, {'title': title}, {'tags': tags}])\r\n            setSaveDraft(true)\r\n            // setMessage('已儲存至草稿')\r\n        }\r\n    }, [editorContent, title, tags])\r\n\r\n    //auto save when Story has content\r\n    const {debouncedValue, msg} = useDebounce(story, 1000, '正在儲存至草稿...', saveDraft)\r\n\r\n    useEffect(()=>{\r\n        if(story.length && draftSaved && saveDraft){\r\n            // console.log(saveDraft)\r\n            console.log('autosaving...')\r\n            saveData()\r\n        }\r\n    }, [debouncedValue])\r\n\r\n    useEffect(()=>{\r\n        if(msg) setMessage(msg)\r\n    }, [msg])\r\n\r\n    useEffect(()=>{\r\n        if(saveDraft){\r\n            console.log('submitting draft...')\r\n            submitDraft()\r\n            setMessage('已儲存至草稿')\r\n        }\r\n    }, [saveDraft])\r\n\r\n    const handleTitle = (e)=>{\r\n        // console.log(e.target.value)\r\n        setTitle(e.target.value)\r\n    }\r\n\r\n    const selectedTags = tags => {\r\n        setTags(tags)\r\n    };\r\n    \r\n    // basically just sets state...\r\n    const onChange = editorState =>{\r\n        return  setEditorState(editorState);\r\n    };\r\n\r\n    //inline styles\r\n    const renderInlineStyles = (e, style) =>{\r\n        e.preventDefault()\r\n        setEditorState(RichUtils.toggleInlineStyle(editorState, style))\r\n    }\r\n\r\n    //block styles, eg h1, h2, block quote...etc.\r\n    const toggleBlockType = block =>{\r\n        setEditorState(RichUtils.toggleBlockType(editorState, block))\r\n    }\r\n\r\n    //keyboard shortcuts?\r\n    function  handleKeyCommand(command) {\r\n        const newState = RichUtils.handleKeyCommand(editorState, command);\r\n        if (newState) {\r\n          onChange(newState);\r\n          return 'handled';\r\n        }\r\n        return 'not-handled';\r\n    }\r\n      \r\n    //button on click\r\n    function confirmMedia(e){\r\n        imgRef.current.click()\r\n    }\r\n\r\n    //when file submitted, upload to public & render element in Editor\r\n    async function fileOnChange(e){\r\n        // setUploading(true)\r\n        e.preventDefault()\r\n\r\n        const formdata = new FormData(imgFormRef.current)\r\n        formdata.append('foldername', foldername)\r\n\r\n        const response = await fetch('http://localhost:5500/stories/api/editor-imgs',{\r\n            method: 'POST',\r\n            body: formdata,\r\n        })\r\n\r\n        const data = await response.json()\r\n        console.log(data);\r\n\r\n        await setFoldername(data.foldername)\r\n        \r\n        for(let i = 0 ; i < data.url.length ; i++){\r\n            await renderMedia(data.url[i], editorState, setEditorState, setUrlValue)\r\n        }\r\n    }\r\n\r\n\r\n    //first submit to draft\r\n    async function submitDraft(){\r\n        console.log('initiating draft...')\r\n\r\n        const contentState = await editorState.getCurrentContent()\r\n\r\n        const response = await fetch(`http://localhost:5500/stories/member/initiate-draft?usrId=${usrId}`, {\r\n            method: 'post',\r\n            body: JSON.stringify({\r\n                content: convertToRaw(contentState),\r\n                title: title,\r\n                tags: tags\r\n            }),\r\n            headers: new Headers({\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            })\r\n        })\r\n        const data = await response.json()\r\n        await console.log(data)\r\n        await setId(data.data)\r\n        await setDraftSaved(true)\r\n    }\r\n\r\n    //autosave to draft\r\n    async function saveData(){\r\n        if(!saveDraft) return;\r\n        const contentState = await editorState.getCurrentContent()\r\n        const response = await fetch(`http://localhost:5500/stories/member/draft/save-draft/${id}?usrId=${usrId}`, {\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                content: convertToRaw(contentState),\r\n                title: title,\r\n                tags: tags\r\n            }),\r\n            headers: new Headers({\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            })\r\n        })\r\n        const data = await response.json()\r\n        await console.log(data)\r\n        setMessage('已儲存至草稿')\r\n    }\r\n\r\n    const checkContent = ()=>{\r\n        const contentState = editorState.getCurrentContent()\r\n\r\n        //判斷是否有內容\r\n        let c = convertToRaw(contentState)\r\n        let str = ''\r\n        let flag = false\r\n        for(let i = 0 ; i < c.blocks.length ; i++){\r\n            // console.log(c.blocks)\r\n            str += c.blocks[i].text\r\n            if(c.blocks[i].type === 'atomic') flag = true\r\n        }\r\n        if(!str.trim().length && !flag){\r\n            Swal.fire({\r\n                position: 'top-end',\r\n                icon: 'warning',\r\n                text: '請填寫內容',\r\n                confirmButtonText: '確定',\r\n                buttonsStyling: false,\r\n                showConfirmButton: true,\r\n                position:'center',\r\n                customClass: {\r\n                    popup: 'bk-swl-popup',\r\n                    icon: 'bk-swl-icon',\r\n                    content: 'bk-swl-content',\r\n                    confirmButton: 'bk-swl-confirm-button',\r\n                  }\r\n              })  \r\n            return false;\r\n        }else if(title === '' || !title.trim().length){\r\n            // console.log(\"no title\")\r\n            Swal.fire({\r\n                position: 'top-end',\r\n                icon: 'warning',\r\n                text: '請填寫標題',\r\n                confirmButtonText: '確定',\r\n                showConfirmButton: true,\r\n                buttonsStyling: false,\r\n                position:'center',\r\n                customClass: {\r\n                    popup: 'bk-swl-popup',\r\n                    icon: 'bk-swl-icon',\r\n                    content: 'bk-swl-content',\r\n                    confirmButton: 'bk-swl-confirm-button',\r\n                  }\r\n              })  \r\n            return false;\r\n        }\r\n\r\n        console.log(\"you may pass\")\r\n        return true;\r\n    }\r\n\r\n    //final submit\r\n    async function uploadStory(){\r\n\r\n        if(!checkContent()) return;\r\n\r\n        const contentState = await editorState.getCurrentContent()\r\n\r\n        //fetch\r\n        const response = await fetch(`http://localhost:5500/stories/member/upload?usrId=${usrId}`, {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                content: convertToRaw(contentState),\r\n                title: title,\r\n                tags: tags\r\n            }),\r\n            headers: new Headers({\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            })\r\n        })\r\n        const data = await response.json()\r\n        await console.log(data)\r\n        await updateDraftAfterSubmit()\r\n        await setSaveDraft(false)\r\n\r\n        Swal.fire({\r\n            position: 'top-end',\r\n            icon: 'success',\r\n            text: '上傳成功',\r\n            confirmButtonText: '確定',\r\n            showConfirmButton: true,\r\n            buttonsStyling: false,\r\n            // timer: 1500,\r\n            position:'center',\r\n            customClass: {\r\n                popup: 'bk-swl-popup',\r\n                icon: 'bk-swl-icon',\r\n                content: 'bk-swl-content',\r\n              }\r\n          })\r\n          .then(r=>{\r\n            props.history.push('/stories')\r\n          })\r\n        return;\r\n    }\r\n\r\n    //final submit -> update draft to submitted\r\n    async function updateDraftAfterSubmit(){\r\n        const response = await fetch(`http://localhost:5500/stories/member/draft/submit-draft/${id}?usrId=${usrId}`, {\r\n            method: 'PATCH',\r\n            headers: new Headers({\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            })\r\n        })\r\n        const data = await response.json()\r\n        await console.log(data)\r\n    }\r\n\r\n    const btnClickSave = ()=>{\r\n        Swal.fire({\r\n            position: 'top-end',\r\n            icon: 'success',\r\n            text: '儲存成功',\r\n            confirmButtonText: '確定',\r\n            showConfirmButton: true,\r\n            buttonsStyling: false,\r\n            // timer: 1500,\r\n            position:'center',\r\n            customClass: {\r\n                popup: 'bk-swl-popup',\r\n                icon: 'bk-swl-icon',\r\n                content: 'bk-swl-content',\r\n              }\r\n          })  \r\n          .then(result=>{\r\n            props.history.push('/member/stories/drafts')\r\n            console.log(result)\r\n          })\r\n    }\r\n\r\n    //focus back to editor after img insert\r\n    useEffect(()=>{\r\n        setTimeout(()=>{\r\n            editorRef.current.focus()\r\n        }, 0)\r\n    }, [urlValue])\r\n\r\n    return(\r\n        <>\r\n            <div className='bk-editor-message'>{message ? message : ''}</div>\r\n            <div className=\"bk-form-control\">\r\n                <label>標題</label>\r\n                <input type=\"text\" onChange={handleTitle} />\r\n            </div>\r\n            {/* <div className=\"bk-form-control\"> */}\r\n                <label>標籤</label>\r\n                <TagInput selectedTags={selectedTags} tags={tags} />\r\n            {/* </div> */}\r\n            <div className=\"bk-draft-editor-container\">\r\n                <div>\r\n                    <Toolbar\r\n                    renderInlineStyles={renderInlineStyles}\r\n                    editorState={editorState}\r\n                    onToggle={toggleBlockType}\r\n                    confirmMedia={confirmMedia}\r\n                    imgRef={imgRef}\r\n                    fileOnChange={fileOnChange}\r\n                    imgFormRef={imgFormRef}\r\n                     />\r\n                    <Editor\r\n                    placeholder=\"hello\"\r\n                    editorState={editorState}\r\n                    handleKeyCommand={handleKeyCommand}\r\n                    onChange={onChange} //update state on change\r\n                    readOnly={false} //should be true before editing\r\n                    customStyleMap= {styleMap} //custom inline styles\r\n                    blockStyleFn={getBlockType} //custom block type settings with class\r\n                    ref={editorRef}\r\n                    blockRendererFn={mediaBlockRenderer}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className='bk-btn-group'>\r\n                <button className=\"bk-btn-black\" onClick={uploadStory}>上傳</button>\r\n                <button className=\"bk-btn-black-bordered\" onClick={()=>{\r\n                    saveData();\r\n                    btnClickSave();\r\n                }}>儲存草稿</button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(DraftEditor)\r\n\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nexport default function useDebounce(value, delay, message, saveDraft) {\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n    const [msg, setMsg] = useState(null)\r\n    useEffect(\r\n      () => {\r\n        if(message && saveDraft){\r\n          // console.log(message)\r\n          setMsg(message)\r\n        }\r\n        const handler = setTimeout(() => {\r\n          setDebouncedValue(value);\r\n          if(saveDraft) setMsg('已儲存至草稿')\r\n        }, delay);\r\n        return () => {\r\n          clearTimeout(handler);\r\n        };\r\n      },[value]);\r\n  \r\n    return {debouncedValue, msg};\r\n}","import Swal from 'sweetalert2'\r\n\r\nexport const userRegister = userData => ({\r\n  type: 'USER_REGISTER',\r\n  data: userData,\r\n})\r\n//補:檢查填寫格式\r\nexport const userRegisterAsync = (userData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request('http://localhost:5500/member/insert', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData),\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    })\r\n\r\n    // console.log(JSON.stringify(userData))\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    // console.log('resgister', data)\r\n\r\n    // 設定資料\r\n    dispatch(userRegister(data))\r\n    callback()\r\n    localStorage.removeItem('userdata')\r\n    localStorage.removeItem('userId')\r\n    localStorage.setItem('userdata', JSON.stringify(userData))\r\n    localStorage.setItem('userId', JSON.stringify(data.result.insertId))\r\n    const loginsucess = localStorage.getItem(\r\n      'userId',\r\n      JSON.stringify(data.result.insertId)\r\n    )\r\n    if (loginsucess) {\r\n      window.location = `http://localhost:3000/memberedit/${userData.username}`\r\n    } else {\r\n      window.location = `http://localhost:3000/memberlogin`\r\n    }\r\n  }\r\n}\r\n\r\n//登入\r\nexport const userLogin = userData => ({\r\n  type: 'USER_LOGIN',\r\n  data: userData,\r\n})\r\n\r\nexport const userLoginAsync = (userData, callback) => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      'http://localhost:5500/member/test?memberaccount=' + userData.username,\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n\r\n    // console.log(JSON.stringify(userData))\r\n\r\n    const response = await fetch(request)\r\n    const data = await response.json()\r\n    // console.log('res data', data)\r\n\r\n    if (data.length > 0) {\r\n      if (\r\n        data[0].Account === userData.username &&\r\n        data[0].Pwd === userData.password\r\n      ) {\r\n        // console.log(data)\r\n        // 設定資料\r\n        dispatch(userLogin(userData))\r\n        //存入localstorage\r\n        localStorage.setItem('userdata', JSON.stringify(userData))\r\n        localStorage.setItem('userId', data[0].ID)\r\n        window.location = `http://localhost:3000/memberedit/${userData.username}`\r\n\r\n        // alert(`${userData.username}登入成功`)\r\n        // console.log('登入成功')\r\n      } else {\r\n        alert('帳密錯誤')\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n//回傳memberId\r\nexport const getMember = userData => ({\r\n  type: 'SHOW_MEMBERID',\r\n  data: userData,\r\n})\r\n\r\n//member跟server要資料\r\nexport const getserverMember = () => {\r\n  const account = localStorage.getItem('userdata')\r\n  const datafromlocalstorage = JSON.parse(account)\r\n  // console.log('account', account)\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      'http://localhost:5500/member/' + datafromlocalstorage.username,\r\n      {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n    // console.log('datafromlocalstorage', datafromlocalstorage.username)\r\n    // console.log('userData', userData)\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    console.log('hehehe', data)\r\n\r\n    dispatch(getMember(data))\r\n  }\r\n}\r\n\r\n//會員資料更新\r\nexport const updateMember = userData => ({\r\n  type: 'UPDATE_MEMBERINFO',\r\n  data: userData,\r\n})\r\n\r\nexport const updateServerMember = val => {\r\n  // const account = localStorage.getItem('userdata')\r\n  // const datafromlocalstorage = JSON.parse(account)\r\n  // console.log('account', account)\r\n  return async dispatch => {\r\n    const request = new Request('http://localhost:5500/member/update', {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      headers: new Headers({\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      }),\r\n      body: JSON.stringify(val),\r\n    })\r\n    // console.log('datafromlocalstorage', datafromlocalstorage.username)\r\n    // console.log('userData', userData)\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    // console.log('upval', val)\r\n    // console.log('updata', data)\r\n    dispatch(updateMember(data))\r\n    if (data.result.affectedRows) {\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: '更新成功!',\r\n        timer: 2000,\r\n      })\r\n    } else {\r\n      // alert('無成功更新')\r\n    }\r\n  }\r\n}\r\n\r\n//回傳訂單資料跟server要會員的訂單資料\r\nexport const getMemberOrder = userData => ({\r\n  type: 'SHOW_MEMBERORDER',\r\n  data: userData,\r\n})\r\n\r\nexport const getServerMemberOrder = () => {\r\n  const accountId = localStorage.getItem('userId')\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      'http://localhost:5500/member/searchorder/' + accountId,\r\n      {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: new Headers({\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        }),\r\n      }\r\n    )\r\n    // console.log('account', accountId)\r\n    // console.log('userData', userData)\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    // console.log('the', data)\r\n\r\n    dispatch(getMemberOrder(data))\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  withRouter,\r\n} from 'react-router-dom'\r\nimport { Form, Button, Table, Modal, Row, Col, Toast } from 'react-bootstrap'\r\n\r\nimport MemberSidebar from './components/MemberSidebar'\r\nimport './I_css/MemberOrder.scss'\r\n\r\nimport DatePicker from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport { FaInfoCircle } from 'react-icons/fa'\r\nimport $ from 'jquery'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport { getServerMemberOrder } from './actions/memberAction'\r\n\r\nfunction MemberOrder(props) {\r\n  // console.log('props', props.data[0].orderId)\r\n  // console.log('orderdata', orderdata)\r\n\r\n  const [startDate, setStartDate] = useState(new Date('2020/01/01'))\r\n  const [endDate, setEndDate] = useState(new Date(new Date()))\r\n\r\n  // for訂單細節內容彈出\r\n  const [showA, setShowA] = useState(false)\r\n  const [searchbar, setSearchbar] = useState('')\r\n  const toggleShowA = () => setShowA(!showA)\r\n\r\n  // let orderdata = JSON.stringify(props.data)\r\n  console.log('props.data', props.data)\r\n\r\n  useEffect(() => {   \r\n    props.getServerMemberOrder()\r\n  }, [])\r\n\r\n  function ShowMyOrderDetail() {\r\n    return (\r\n      <Row>\r\n        <Col xs={6}>\r\n          <Modal show={showA} onClose={toggleShowA}>\r\n            <Modal.Header>\r\n              <img\r\n                src=\"holder.js/20x20?text=%20\"\r\n                className=\"rounded mr-2\"\r\n                alt=\"\"\r\n              />\r\n              <strong className=\"mr-auto\">Bootstrap</strong>\r\n              <small>11 mins ago</small>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              Woohoo, you're reading this text in a Toast!\r\n            </Modal.Body>\r\n            <button onClick={toggleShowA}>X</button>\r\n          </Modal>\r\n        </Col>        \r\n      </Row>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    // var searchword = $('.searchbar').val()\r\n    // console.log('searchword', searchbar)\r\n    if (searchbar !== '') {\r\n      $('.irene-ordernumber')\r\n        .parent('tr')\r\n        .css('display', 'none')\r\n      $('.irene-ordernumber')\r\n        .find(\":contains('\" + searchbar + \"')\")\r\n        .parent()\r\n        .parent('tr')\r\n        .css('display', 'table-row')\r\n    } else {\r\n      $('.irene-ordernumber')\r\n        .parent('tr')\r\n        .css('display', 'table-row')\r\n      // console.log('nothing')\r\n    }\r\n  }, [searchbar])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row d-flex\">\r\n        <MemberSidebar />\r\n        {/* 會員訂單 */}\r\n\r\n        <div className=\"memberorder col\">\r\n          <h3>交易紀錄</h3>\r\n          <hr></hr>\r\n          <div className=\"memberorderquery\">\r\n            <div className=\"d-flex\">\r\n              <span>快速查詢：</span>\r\n              <Form>\r\n                {/* 單選 */}\r\n                {['radio'].map(type => (\r\n                  <div key={`inline-${type}`} className=\"mb-3\">\r\n                    <Form.Check\r\n                      inline\r\n                      label=\"1個月內訂單\"\r\n                      type={type}\r\n                      name={type}\r\n                    />\r\n\r\n                    <Form.Check\r\n                      inline\r\n                      label=\"1年內訂單\"\r\n                      type={type}\r\n                      name={type}\r\n                    />\r\n                    <Form.Check\r\n                      inline\r\n                      label=\"未出貨訂單\"\r\n                      type={type}\r\n                      name={type}\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </Form>\r\n            </div>\r\n            <div className=\"d-flex\">\r\n              <span>訂單時間：</span>\r\n              <div className=\"\">\r\n                <DatePicker\r\n                  selected={startDate}\r\n                  onChange={date => setStartDate(date)}\r\n                  selectsStart\r\n                  startDate={startDate}\r\n                  endDate={endDate}\r\n                  maxDate={endDate}\r\n                />\r\n                <span>至</span>\r\n                <DatePicker\r\n                  selected={endDate}\r\n                  onChange={date => setEndDate(date)}\r\n                  selectsEnd\r\n                  startDate={startDate}\r\n                  endDate={endDate}\r\n                  minDate={startDate}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div style={{ marginTop: '10px' }}>\r\n              <span>訂單編號：</span>\r\n              <input\r\n                type=\"text\"\r\n                className=\"searchbar\"\r\n                onChange={e => setSearchbar(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <Button className=\"querysubmit text-right\" variant=\"dark\">\r\n                查詢\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <div className=\"irene_memberorder_list\">\r\n            <Table>\r\n              {/* 抓取訂單資料 */}\r\n              <thead>\r\n                <tr>\r\n                  <th>訂單成立時間</th>\r\n                  <th>訂單編號</th>\r\n                  <th>訂單狀態</th>\r\n                  <th>退貨</th>\r\n                  <th>商品評價</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {props.data.map((v, i) => (\r\n                  <tr>\r\n                    <td>{v.created_at}</td>\r\n                    <td className=\"irene-ordernumber\">\r\n                      <span>{v.orderId}</span>\r\n                      <button\r\n                        class=\"btn memberorderdetail\"\r\n                        type=\"button\"\r\n                        onClick={toggleShowA}\r\n                      >\r\n                        <FaInfoCircle />                       \r\n                      </button>\r\n                      <div>\r\n                      <Row>\r\n        <Col xs={6}>\r\n          <Modal show={showA} onClose={toggleShowA}>\r\n          <div>\r\n          <p>商品資料</p>\r\n          <table>\r\n            <th>商品名稱</th>\r\n            <th>商品價格</th>         \r\n            <th>商品數量</th>\r\n          </table>\r\n          <tbody>\r\n<tr><td></td></tr>\r\n          </tbody>\r\n          </div>\r\n            {/* <Modal.Header>\r\n              <img\r\n                src=\"holder.js/20x20?text=%20\"\r\n                className=\"rounded mr-2\"\r\n                alt=\"\"\r\n              />\r\n              <strong className=\"mr-auto\">Bootstrap</strong>             \r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              Woohoo, you're reading this text in a Toast!\r\n            </Modal.Body> */}\r\n            <button onClick={toggleShowA}>X</button>\r\n          </Modal>\r\n        </Col>        \r\n      </Row></div>\r\n                    </td>\r\n                    <td>{v.outStatus}</td>\r\n                    <td>\r\n                      <button className=\"irene-memberreturnbtn\">退貨</button>\r\n                    </td>\r\n                    <td>\r\n                      <button className=\"irene-membercommentbtn\">評價</button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { data: store.getMemberOrder }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getServerMemberOrder,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(MemberOrder)\r\n)\r\n","import React, { useEffect, useState } from 'react'\r\nimport '../I_css/MemberEdit.scss'\r\nimport { Form, ListGroup, Button } from 'react-bootstrap'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport MemberOrder from '../MemberOrder'\r\nimport $ from 'jquery'\r\n\r\nimport {\r\n  FiChevronDown\r\n} from 'react-icons/fi'\r\n\r\nfunction MemberSidebar(props) {\r\n  const memberdata = localStorage.getItem('userdata')\r\n  const account = JSON.parse(memberdata)\r\n  const usernametrue = account.username\r\n  const imgid=localStorage.getItem('userId')\r\n  console.log('imgid',imgid)\r\n  // console.log('memberdata.username', account)\r\n  // console.log('username', usernametrue)\r\n  function openNav() {\r\n    // alert('ya')\r\n    document.querySelector('.irene-side-nav').style.width = '250px'\r\n  }\r\n  function closeNav() {\r\n    document.querySelector('.irene-side-nav').style.width = '0'\r\n  }\r\n\r\n  const [storyListOpen, setStoryListOpen] = useState(false)\r\n  const toggleStories = () => {\r\n    setStoryListOpen(!storyListOpen)\r\n  }\r\n  return (\r\n    <>\r\n      {/* 要加<div className=\"row d-flex justify-content-center\">才可以flex */}\r\n      {/* <MemberSidebar/> */}\r\n      <div className=\"membersidebar col-3\">\r\n        <ListGroup>\r\n          <ListGroup.Item>         \r\n            <div className='editPic'>\r\n              <div className='userPic'>\r\n               <img className=\"image\" src={require(`../irene-img/${imgid}.png`)} alt=\"Background\" />\r\n              </div>\r\n              <Nav.Link className=\"edit\">編輯</Nav.Link>\r\n            </div>\r\n          </ListGroup.Item>\r\n          <ListGroup.Item>\r\n            <Nav.Link href={'/memberedit/' + usernametrue}>\r\n              基本資料管理\r\n            </Nav.Link>\r\n          </ListGroup.Item>\r\n          <ListGroup.Item>\r\n            <Nav.Link href={'/memberedit/memberorder/' + usernametrue}>\r\n              交易紀錄\r\n            </Nav.Link>\r\n          </ListGroup.Item>\r\n          <ListGroup.Item>\r\n            <Nav.Link href=\"/memberedit/ShopCartLike\">我的收藏</Nav.Link>\r\n          </ListGroup.Item>\r\n          <ListGroup.Item>\r\n            <Nav.Link href=\"/memberedit/memberCoupon\">優惠券</Nav.Link>\r\n          </ListGroup.Item>\r\n          <ListGroup.Item className='bk-member-nav-story-group'>\r\n            <div \r\n            className={`bk-member-nav-button nav-link ${storyListOpen ? 'active' : ''}`}\r\n            onClick={toggleStories} \r\n            role=\"button\"\r\n            >\r\n              我的故事 <FiChevronDown />\r\n            </div>\r\n            <div\r\n              className={`bk-member-nav-stories-list${\r\n                storyListOpen ? ' active' : ''\r\n              }`}\r\n            >\r\n              <Nav.Link href=\"/member/upload-stories\">寫故事</Nav.Link>\r\n              <Nav.Link href=\"/member/stories\">已發布故事</Nav.Link>\r\n              <Nav.Link href=\"/member/stories/drafts\">草稿</Nav.Link>\r\n            </div>\r\n          </ListGroup.Item>\r\n        </ListGroup>\r\n      </div>\r\n      <div className=\"irene-openRWDbtn\">\r\n        <button\r\n          className=\"irene-openside-btn\"\r\n          onClick={event => openNav(event)}\r\n        >\r\n          side\r\n        </button>\r\n      </div>\r\n      <div className=\"irene-RWD-membersidebar irene-side-nav\">\r\n        <Nav className=\"flex-column\">\r\n          <Nav.Link>\r\n            <button\r\n              className=\"irene-closeside-btn\"\r\n              style={{ textAlign: 'left' }}\r\n              onClick={event => closeNav(event)}\r\n            >\r\n              X\r\n            </button>\r\n          </Nav.Link>\r\n          <div className=\"irene-image-div\">\r\n            <img className=\"image\" src=\"https://fakeimg.pl/150x150/\" alt=\"\" />\r\n          </div>\r\n          <Nav.Link>基本資料管理</Nav.Link>\r\n          <Nav.Link>交易紀錄</Nav.Link>\r\n          <Nav.Link>我的收藏</Nav.Link>\r\n          <Nav.Link>優惠券</Nav.Link>\r\n          <Nav.Link>\r\n            <div onClick={toggleStories} role=\"button\">\r\n              我的故事 <FiChevronDown />\r\n            </div>\r\n            <div\r\n              className={`bk-member-nav-stories-list${\r\n                storyListOpen ? ' active' : ''\r\n              }`}\r\n            >\r\n              <Nav.Link href=\"/member/upload-stories\">寫故事</Nav.Link>\r\n              <Nav.Link href=\"/member/stories\">已發布故事</Nav.Link>\r\n              <Nav.Link href=\"/member/stories/drafts\">草稿</Nav.Link>\r\n            </div>\r\n          </Nav.Link>\r\n        </Nav>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MemberSidebar\r\n","import React from 'react'\r\nimport DraftEditor from './components/DraftEditor'\r\nimport { Row, Col } from 'react-bootstrap'\r\n\r\nimport MemberSidebar from '../Irene/components/MemberSidebar'\r\n\r\n\r\nimport './css/storyEditor.scss'\r\n\r\nfunction UploadStory(){\r\n    return(\r\n        <>\r\n            <Row>\r\n                <MemberSidebar />\r\n                <Col lg={9} className='bk-member-main-container'>\r\n                    <h3>上傳故事</h3>\r\n                    <DraftEditor />\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UploadStory","import {useState, useEffect} from 'react'\r\n\r\nexport default function useTextareaRows(){\r\n\r\n    const [rows, setRows] = useState(1)\r\n    const [enters, setEnters] = useState(0)\r\n\r\n    const handleRows = (evt)=>{\r\n        if(evt.target.value.match(/\\n/gm)){\r\n            setEnters(evt.target.value.match(/\\n/gm).length)\r\n            if(rows < 4){\r\n                setRows(evt.target.value.match(/\\n/gm).length + 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleKey = (evt)=>{\r\n        if(evt.key === 'Backspace' && enters <= 4 && rows > 1){\r\n            setRows(rows - 1)\r\n        }\r\n    }\r\n\r\n    return {rows, handleRows, handleKey}\r\n}","import React, {useState, useRef, useEffect} from 'react'\r\n// import useReplyTextarea from '../utils/useReplyTextarea'\r\nimport useTextareaRows from '../utils/useTextareaRows'\r\n\r\nfunction StoryReply(props){\r\n\r\n    const [txtContent, setTxtContent] = useState('')\r\n    const [showReplyTo, setShowReplyTo] = useState(false)\r\n    const [replyTo, setReplyTo] = useState(null)\r\n    const user = localStorage.getItem('userId')\r\n    // const [user, setUser] = useState(localStorage.getItem('userId'))\r\n\r\n    const {\r\n        rows, \r\n        handleRows, \r\n        handleKey\r\n    } = useTextareaRows()\r\n\r\n    useEffect(()=>{\r\n        if(props.openRplyTo !== props.id){\r\n            setShowReplyTo(false)\r\n            if(user){\r\n                setTxtContent('')\r\n            }\r\n        }\r\n    }, [props.openRplyTo])\r\n\r\n    const handleChange = (data, evt)=>{\r\n        setTxtContent(evt.target.value)\r\n        setReplyTo(data)\r\n    }\r\n\r\n    const handleToggleShow = (id)=>{\r\n        if(showReplyTo && user){\r\n            setTxtContent('')\r\n        }else{\r\n            setReplyTo(id)\r\n        }\r\n        setShowReplyTo(!showReplyTo)\r\n    }\r\n\r\n    const rplyRef = useRef(null)\r\n\r\n    return (\r\n        <div className=\"bk-story-replies\" id={props.id} ref={rplyRef}>\r\n            {props.data.rplyToName ? (\r\n                <div className='bk-txt-small rply-to'>\r\n                {`回覆給 ${props.data.rplyToName}`}\r\n            </div>\r\n            ) : ''}\r\n            \r\n            <div className='bk-rply-head'>\r\n                <div className='bk-rply-user-img'>\r\n                    <img src={props.data.Img ? props.data.Img : '/biki-img/SVG/user.svg'} />\r\n                </div>\r\n                <div>\r\n                    {props.data.Name || props.data.Account} <br />\r\n                    {props.data.fromNow}\r\n                </div>\r\n            </div>\r\n            <div className=\"bk-rply-body\">\r\n                <div>{props.data.rplyContent}</div>\r\n            </div>\r\n            <div className=\"bk-rply-foot\">\r\n                <div onClick={()=>{\r\n                    handleToggleShow(props.id)\r\n                    props.onClick(props.id)\r\n                    }} \r\n                    role=\"button\"\r\n                    className='bk-hover'\r\n                >\r\n                    {showReplyTo ? '取消' : '回覆'}\r\n                </div>\r\n            </div>\r\n            <div className={`bk-reply-textarea${!showReplyTo ? ' hidden' : ''}`}>\r\n                <textarea \r\n                    rows={rows}\r\n                    value={user ? txtContent : '請先登入才能回復'} \r\n                    onChange={(evt)=>{\r\n                        handleRows(evt);\r\n                        handleChange(props.data.rplyId, evt);\r\n                    }} \r\n                    onKeyDown={handleKey}\r\n                    disabled={user ? false : true}\r\n                ></textarea>\r\n                <div className='bk-reply-btn-group'>\r\n                    <button \r\n                    onClick={handleToggleShow} \r\n                    className={`${user ? 'bk-btn-black-bordered' : 'bk-btn-grey-bordered'} bk-hover`}\r\n                    disabled={user ? false : true}\r\n                    >取消</button>\r\n                    <button \r\n                    onClick={()=>{\r\n                        props.handlers.submit(replyTo, txtContent)\r\n                    }}\r\n                    className={`${user ? '' : 'bk-btn-grey'} bk-hover`}\r\n                    disabled={user ? false : true}\r\n                    >回覆</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StoryReply","import React, { useState, useEffect } from 'react';\r\nimport StoryReply from '../components/StoryReply'\r\n\r\nexport default function useRecursive(){\r\n}\r\n\r\nexport const getRecursiveJson = (children, parents)=>{\r\n    let leftoutchildren = [...children]\r\n    children.forEach(child=>{\r\n        parents.some(parent=>{\r\n            if(parent.rplyId === child.rplyTo){\r\n                child.rplyToName = parent.Name || parent.Account;\r\n                (parent.children || (parent.children = [])).push(child)\r\n                if(leftoutchildren.indexOf(child) !== -1){\r\n                    leftoutchildren.splice(leftoutchildren.indexOf(child), 1)\r\n                }\r\n                return true;\r\n            }\r\n        })\r\n    })\r\n    // console.log('leftouts:',leftoutchildren)\r\n    if(leftoutchildren.length > 0){\r\n        getRecursiveJson(leftoutchildren, children)\r\n    }\r\n    // console.log('parents:', parents)\r\n\r\n    return parents;\r\n}\r\n\r\n// export const mapRecursive = (data)=>{\r\n//     return data.map((elm, idx)=>{\r\n//         let child = [\r\n//             <StoryReply\r\n//                     key={elm.rplyId}\r\n//                     // handlers={{\r\n//                     //     submit: handleSubmit\r\n//                     // }}\r\n//                     data={{\r\n//                         name: elm.Name,\r\n//                         img: elm.Image,\r\n//                         id: elm.rplyId,\r\n//                         content: elm.rplyContent,\r\n//                         to: elm.rplyToId,\r\n//                         date: elm.rplyUpdate,\r\n//                         fromNow: elm.fromNow\r\n//                     }}\r\n//                 />\r\n//         ]\r\n//         if(elm.children){\r\n//             child.push(mapRecursive(elm.children))\r\n//         }\r\n//     return <div className=\"bk-r\">{child}</div>\r\n//     })\r\n// }","import React, { useState, useEffect } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport {stateToHTML} from 'draft-js-export-html';\r\nimport { convertFromRaw } from 'draft-js'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport Swal from 'sweetalert2/dist/sweetalert2'\r\n\r\nimport StoryReply from './components/StoryReply'\r\n// import useReplyTextarea from './utils/useReplyTextarea'\r\nimport useTextareaRows from './utils/useTextareaRows'\r\nimport {getRecursiveJson} from './utils/useRecursive'\r\n\r\nimport {\r\n    FiThumbsUp,\r\n    FiMessageSquare,\r\n    FiEye\r\n  } from 'react-icons/fi'\r\n\r\n// import './css/stories.scss'\r\n\r\nfunction Story(props){\r\n\r\n    const [data, setData] = useState(null)\r\n    const [loaded, setLoaded] = useState(false)\r\n    const [rplyData, setRplyData] = useState(null)\r\n    const [user, setUser] = useState(localStorage.getItem('userId'))\r\n    const [txtContent, setTxtContent] = useState('')\r\n    const [replyTo, setReplyTo] = useState(null)\r\n    const [like, setLike] = useState(false)\r\n    const [likeNum, setLikeNum] = useState(0)\r\n\r\n    const [openRplyTo, setOpenRplyTo] = useState(null)\r\n\r\n    const {\r\n        rows, \r\n        handleRows, \r\n        handleKey\r\n    } = useTextareaRows()\r\n\r\n    const handleChange = (data, evt)=>{\r\n        setTxtContent(evt.target.value)\r\n        setReplyTo(data)\r\n    }\r\n\r\n    const handleOnclick = (id)=>{\r\n        setOpenRplyTo(id)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        \r\n        let url = `http://localhost:5500/stories/story/${props.match.params.id}` //gets story\r\n        let url2 = `http://localhost:5500/stories/api/view-story/${props.match.params.id}` //adds view\r\n        let url3 = `http://localhost:5500/stories/story/replies/${props.match.params.id}` //gets replies\r\n        let url4 = `http://localhost:5500/stories//member/like/${props.match.params.id}${user ? `?usrId=${user}` : ''}` //gets like or not\r\n        // console.log(props.location.search)\r\n        // console.log(url3)\r\n\r\n        axios.all([\r\n            axios.get(url),\r\n            axios.patch(url2),\r\n            axios.get(url3),\r\n            axios.get(url4)\r\n        ])\r\n        .then(axios.spread((...res)=>{\r\n            // console.log('like or not:', res[3].data.length)\r\n            if(res[3].data.length){\r\n                // console.log('set like')\r\n                setLike(true)\r\n            }\r\n            // console.log(res[2].data)\r\n\r\n            let options = {\r\n                blockStyleFn: (block) => {\r\n                    // console.log('block type:', block.type)\r\n                    switch(block.type){\r\n                        case 'ALIGNLEFT':\r\n                            return {style:{textAlign: 'left'}}\r\n                        case 'ALIGNCENTER':\r\n                            return {style:{textAlign: 'center'}}\r\n                        case 'ALIGNRIGHT':\r\n                            return {style:{textAlign: 'right'}}\r\n                    }\r\n                }\r\n              }\r\n\r\n            res[0].data.data.forEach(element => {\r\n                element.stryContent = stateToHTML(convertFromRaw(JSON.parse(element.stryContent)), options)\r\n            });\r\n\r\n            let arr = [] //沒有\r\n            let arr2 = [] //有to\r\n\r\n            res[2].data.forEach(elm=>{\r\n                if(!elm.rplyTo){\r\n                    arr.push(elm)\r\n                }else{\r\n                    arr2.push(elm)\r\n                }\r\n            })\r\n\r\n            let results = getRecursiveJson(arr2, arr)\r\n            // console.log(results)\r\n\r\n            setData(res[0].data.data)\r\n            setLikeNum(res[0].data.data[0].likes)\r\n            setRplyData(results)\r\n            setLoaded(true)\r\n        }))\r\n        .catch(err=>{\r\n            if(axios.isCancel(err)) return\r\n        })\r\n    }, [])\r\n\r\n    const handleSubmit = (replyTo, txtContent)=>{\r\n\r\n        //沒有內容不給發送\r\n        if(!txtContent.trim().length){\r\n            return;\r\n        }\r\n\r\n        let url = `http://localhost:5500/stories/reply/${props.match.params.id}` + (replyTo ? `?toId=${replyTo}` : '') + (replyTo ? `&usrId=${user}` : `?usrId=${user}`)\r\n\r\n        axios({\r\n            method: 'POST',\r\n            url: url,\r\n            data: {\r\n                content: txtContent\r\n            }\r\n        })\r\n        .then(res=>{\r\n            axios.get(`http://localhost:5500/stories/story/replies/${props.match.params.id}?rplyId=${res.data.insertId}`)\r\n            .then(r=>{\r\n                // setTempRplyTo(r.data[0])\r\n                setTxtContent('')\r\n                setOpenRplyTo(null)\r\n                setRplyData(prevData=>{\r\n                    if(r.data[0].rplyTo === null){\r\n                        return [r.data[0], ...prevData]\r\n                    }else{\r\n                        let getObjPos = (obj, arr)=>{\r\n                            // console.log('obj:', obj)\r\n                            let newArr = [...arr]\r\n                            newArr.some(elm=>{\r\n                                if(elm.rplyId === obj.rplyTo){\r\n                                    obj.rplyToName = elm.Name || elm.Account;\r\n                                    (elm.children || (elm.children = [])).push(obj)\r\n                                    // console.log('found!')\r\n                                    return true;\r\n                                }else{\r\n                                    if(elm.children){\r\n                                        // console.log('continue finding...')\r\n                                        getObjPos(obj, elm.children)\r\n                                    }\r\n                                }\r\n                            })\r\n                            // console.log('newArr:', newArr)\r\n                            return newArr\r\n                        }\r\n                        return getObjPos(r.data[0], prevData)\r\n                    }\r\n                })\r\n            })\r\n\r\n            Swal.fire({\r\n                position: 'top-end',\r\n                text: '成功回覆',\r\n                showConfirmButton: true,\r\n                // timer: 1500,\r\n                buttonsStyling: false,\r\n                position:'center',\r\n                customClass: {\r\n                    popup: 'bk-swl-popup',\r\n                    content: 'bk-swl-content',\r\n                    confirmButton: 'bk-swl-confirm-button',\r\n                  }\r\n              })  \r\n            // console.log(res.data)\r\n        })\r\n    }\r\n\r\n    const handleToggleLike = (id, evt)=>{\r\n        evt.preventDefault()\r\n        if(user){\r\n            // console.log('set like to ', !like)\r\n            setLike(!like)\r\n\r\n            if(!like){\r\n                // console.log('like!')\r\n                setLikeNum(likeNum + 1)\r\n                axios.post(`http://localhost:5500/stories/member/add-like/${props.match.params.id}?usrId=${user}`)\r\n            }else if(like){\r\n                // console.log('unlike!')\r\n                setLikeNum(likeNum - 1)\r\n                axios({\r\n                    method: 'DELETE',\r\n                    url: `http://localhost:5500/stories/member/remove-like/${props.match.params.id}?usrId=${user}`\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    const mapRecursive = (data)=>{\r\n        return data.map((elm, idx)=>{\r\n            let key = elm.rplyId\r\n            let child = [\r\n                <StoryReply\r\n                    key={elm.rplyId}\r\n                    handlers={{\r\n                        submit: handleSubmit\r\n                    }}\r\n                    data={elm}\r\n                    id={`${elm.rplyId}-${elm.usrId}`}\r\n                    onClick={handleOnclick}\r\n                    openRplyTo={openRplyTo}\r\n                />\r\n            ]\r\n            if(elm.children){\r\n                child.push(mapRecursive(elm.children))\r\n            }\r\n            return <div className=\"bk-r\" key={key+'r'}>{child}</div>\r\n        })\r\n    }\r\n    \r\n    if(loaded){\r\n        return (\r\n            <>\r\n                <div className=\"bk-story-head mt-4\">\r\n                    <div className='bk-story-container'>\r\n                        <div className='title'>{data[0].stryTitle}</div>\r\n                        <div className='user'>\r\n                            <div className='img'>\r\n                                <img src={data[0].Img ? data[0].Img : '/biki-img/SVG/user.svg'} />\r\n                            </div>\r\n                            <div>\r\n                                <div className='name'>{data[0].Name || data[0].Account}</div>\r\n                                <div className='date'>{data[0].updated_at}</div>\r\n                            </div>\r\n                        </div>\r\n                        {JSON.parse(data[0].stryTags).length \r\n                        ? \r\n                        (<div className='bk-tags bk-dark mt-5'>\r\n                            {JSON.parse(data[0].stryTags).map((elm, idx)=>{\r\n                            return (<div key={`${elm}-idx`} className='bk-tag'>\r\n                                    {elm}\r\n                                </div>)\r\n                            })}\r\n                        </div>)\r\n                        :\r\n                        ''}\r\n                    </div>\r\n                </div>\r\n                <div className=\"bk-story-wrapper\">\r\n                    <div className='bk-story-container'>\r\n                        <div className='bk-story-content'>            \r\n                            <div dangerouslySetInnerHTML={{__html: data[0].stryContent}}></div>\r\n                            <hr />\r\n                            <div className={`add-like pt-4${like ? ' active' : ''}`}>\r\n                                <span onClick={(evt)=>{handleToggleLike(data[0].stryId, evt)}} className={`like bk-hover${user ? '' : ' disabled'}`}>\r\n                                    <FiThumbsUp /> <b>按讚</b> \r\n                                </span>\r\n                                <span className='bk-txt-small ml-4'>目前已有 {likeNum} 人按讚</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='bk-reply-wrapper'>\r\n                    <div className='bk-reply-container'>\r\n                        <div className=\"bk-story-reply\">\r\n                            <label>留言</label>\r\n                            <textarea \r\n                            rows={rows} \r\n                            onChange={(evt)=>{\r\n                                handleRows(evt);\r\n                                handleChange(null, evt)\r\n                            }} \r\n                            value={user ? txtContent : '請先登入才能回復'}\r\n                            onKeyDown={handleKey} \r\n                            disabled={user ? false : true}\r\n                            // defaultValue={user ? '' : '請先登入才能回復'}\r\n                            />\r\n                            <button \r\n                            className={`${user ? 'bk-btn-black' : 'bk-btn-grey'} bk-hover`}\r\n                            onClick={()=>{\r\n                                handleSubmit(replyTo, txtContent)\r\n                            }}\r\n                            disabled={user ? false : true}\r\n                            >回覆</button>\r\n                        </div>\r\n                        <div className='bk-recursive-replies-container'>\r\n                            {rplyData.length ? mapRecursive(rplyData) : '目前還沒有留言'}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }else{\r\n        return (\r\n            <>\r\n                <div className=\"bk-story-container\">\r\n                    <Col lg={4}>\r\n                        <div className=\"bk-story-side\">\r\n                            <div className=\"bk-story-top\">\r\n                            </div>\r\n                            <div className=\"bk-story-bottom\">\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                    <Col lg={8}>\r\n                        <div className='bk-story-content'>            \r\n                        </div>\r\n                        <div className=\"bk-story-replies\">\r\n                        </div>\r\n                    </Col>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Story)","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport Swal from 'sweetalert2/dist/sweetalert2'\r\nimport axios from 'axios'\r\n\r\n\r\nimport {\r\n    FiThumbsUp,\r\n    FiMessageSquare,\r\n    FiEye,\r\n  } from 'react-icons/fi'\r\n\r\n\r\nfunction MemberStoryList(props){\r\n\r\n    const [isHidden, setIsHidden] = useState(props.data.stryStatus)\r\n    const [deleted, setDeleted] = useState(false)\r\n    const [usrId, setUsrId] = useState(localStorage.getItem('userId'))\r\n\r\n\r\n    const handleDelete = (id)=>{\r\n        Swal.fire({\r\n            position: 'top-end',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: '確定',\r\n            cancelButtonText: '取消',\r\n            text: '確定要刪除？',\r\n            position:'center',\r\n            buttonsStyling: false,\r\n            customClass: {\r\n                popup: 'bk-swl-popup',\r\n                icon: 'bk-swl-icon',\r\n                content: 'bk-swl-content',\r\n                confirmButton: 'bk-swl-confirm-button',\r\n                cancelButton: 'bk-swl-cancel-button',\r\n              }\r\n          }) \r\n          .then(result=>{\r\n              if(result.value){\r\n                axios({\r\n                    method: 'DELETE',\r\n                    url: `http://localhost:5500/stories/member/story/${id}?usrId=${usrId}`\r\n                })\r\n                .then(r=>{\r\n                    console.log(r)\r\n                    Swal.fire({\r\n                        text: '刪除成功！',\r\n                        icon: 'success',\r\n                        buttonsStyling: false,\r\n                        confirmButtonText: '確定',\r\n                        customClass: {\r\n                            popup: 'bk-swl-popup',\r\n                            icon: 'bk-swl-icon',\r\n                            content: 'bk-swl-content',\r\n                            confirmButton: 'bk-swl-confirm-button',\r\n                            cancelButton: 'bk-swl-cancel-button',\r\n                          }\r\n                    })\r\n                    strydelete()\r\n                })\r\n              }\r\n          })\r\n    }\r\n\r\n    const handleShow = (id)=>{\r\n        Swal.fire({\r\n            position: 'top-end',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: '確定',\r\n            cancelButtonText: '取消',\r\n            text: '確定將故事設為顯示？',\r\n            position:'center',\r\n            buttonsStyling: false,\r\n            customClass: {\r\n                popup: 'bk-swl-popup',\r\n                icon: 'bk-swl-icon',\r\n                content: 'bk-swl-content',\r\n                confirmButton: 'bk-swl-confirm-button',\r\n                cancelButton: 'bk-swl-cancel-button',\r\n              }\r\n          }) \r\n          .then(result=>{\r\n              if(result.value){\r\n                axios({\r\n                    method: 'PATCH',\r\n                    url: `http://localhost:5500/stories/member/story/show-story/${id}?usrId=${usrId}`\r\n                })\r\n                .then(r=>{\r\n                    console.log(r)\r\n                    stryshow()\r\n                })\r\n              }\r\n          })\r\n    }\r\n\r\n    const handleHide = (id)=>{\r\n        Swal.fire({\r\n            position: 'top-end',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: '確定',\r\n            cancelButtonText: '取消',\r\n            title: '確定要隱藏？',\r\n            text: '隱藏後將不再顯示於故事牆上，但您可以隨時恢復',\r\n            position:'center',\r\n            buttonsStyling: false,\r\n            customClass: {\r\n                popup: 'bk-swl-popup',\r\n                icon: 'bk-swl-icon',\r\n                content: 'bk-swl-content',\r\n                confirmButton: 'bk-swl-confirm-button',\r\n                cancelButton: 'bk-swl-cancel-button',\r\n              }\r\n          }) \r\n          .then(result=>{\r\n              if(result.value){\r\n                axios({\r\n                    method: 'PATCH',\r\n                    url: `http://localhost:5500/stories/member/story/hide-story/${id}?usrId=${usrId}`\r\n                })\r\n                .then(r=>{\r\n                    console.log(r)\r\n                    stryhide()\r\n                })\r\n              }\r\n          })\r\n    }\r\n\r\n    const strydelete = ()=>{\r\n        setDeleted(true)\r\n    }\r\n    \r\n    const stryhide = ()=>{\r\n        setIsHidden('hidden')\r\n    }\r\n\r\n    const stryshow = ()=>{\r\n        setIsHidden('active')\r\n    }\r\n\r\n    return (\r\n        <li key={props.data.stryId} \r\n        className={isHidden === 'active' ? '' : 'inactive'}\r\n        style={deleted ? {display: 'none'} : {}}\r\n        >\r\n            <div className='bk-story-li-content'>\r\n                <h5>{props.data.stryTitle}</h5>\r\n                <div className='bk-txt-small'>{props.data.time}</div>\r\n                <div className='py-2'>{props.data.contentStr}</div>\r\n\r\n                <div className='bottom'>\r\n                    <div className='stats'>\r\n                        <span className='bk-stry-icons' key={'ak'}><FiThumbsUp /> {props.data.likes}</span>\r\n                        <span className='bk-stry-icons' key={'bg'}><FiEye /> {props.data.stryViews}</span>\r\n                        <span className='bk-stry-icons' key={'c'}><FiMessageSquare /> {props.data.rplyTotal}</span>\r\n                    </div>\r\n\r\n                    <div className='funcs'>\r\n                        <div role='button' className='bk-hover'>\r\n                            <Link to={`/member/stories/${props.data.stryId}/replies`}>\r\n                                查看評論\r\n                            </Link>\r\n                        </div>\r\n                        <div role='button' className='bk-hover'>\r\n                            <Link to={`/member/stories/story/${props.data.stryId}`}>\r\n                                編輯\r\n                            </Link>\r\n                        </div>\r\n\r\n                        {isHidden === 'active' ? \r\n                            <div role='button' onClick={()=>{ handleHide(props.data.stryId) }} className='bk-hover'>隱藏</div>\r\n                            :\r\n                            <div role='button' onClick={()=>{ handleShow(props.data.stryId) }} className='bk-hover'>顯示</div>\r\n                        }\r\n\r\n                        <div role='button' onClick={()=>{ handleDelete(props.data.stryId) }} className='bk-hover'> 刪除</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n\r\n}\r\n\r\nexport default MemberStoryList","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport { Row, Col } from 'react-bootstrap'\r\n// import { convertFromRaw } from 'draft-js'\r\n// import {stateToHTML} from 'draft-js-export-html';\r\nimport {Link} from 'react-router-dom'\r\n// import Swal from 'sweetalert2/dist/sweetalert2'\r\nimport MemberStoryList from './components/MemberStoryList'\r\nimport MemberSidebar from '../Irene/components/MemberSidebar'\r\n\r\n\r\nfunction MemberStories(){\r\n\r\n    const [data, setData] = useState([])\r\n    const [usrId, setUsrId] = useState(localStorage.getItem('userId'))\r\n\r\n    useEffect(()=>{\r\n    \r\n        axios({\r\n            method: 'GET',\r\n            url: `http://localhost:5500/stories/member/stories?usrId=${usrId}`\r\n        })\r\n        .then(r=>{\r\n            if(r.data){\r\n                r.data.forEach(elm=>{\r\n                    let str = ''\r\n                    for(let i = 0 ; i < JSON.parse(elm.stryContent).blocks.length ; i++){\r\n                        str += JSON.parse(elm.stryContent).blocks[i].text\r\n                    }\r\n                    if(str.length > 100){\r\n                        str = str.substring(1, 100) + '...'\r\n                    }\r\n                    elm.contentStr = str\r\n                })\r\n            }\r\n            setData(r.data)\r\n        })\r\n\r\n    }, [])\r\n\r\n    return(\r\n        <>\r\n            <Row>\r\n                <MemberSidebar />\r\n                <Col lg={9} className='bk-member-main-container'>\r\n                    <div className='bk-story-top'>\r\n                        <h3>我的故事</h3>\r\n                        <Link to='/member/upload-stories'>\r\n                            <button className='bk-hover'>去寫故事</button>\r\n                        </Link>\r\n                    </div>\r\n                    <ul className='bk-story-list'>\r\n                        {!data.length ? '沒有張貼故事' : data.map(elm=>{\r\n                            return <MemberStoryList \r\n                            data={elm} \r\n                             />\r\n                        })}\r\n                    </ul>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MemberStories\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport {Link} from 'react-router-dom'\r\nimport Swal from 'sweetalert2/dist/sweetalert2'\r\n\r\nimport MemberSidebar from '../Irene/components/MemberSidebar'\r\n\r\n\r\nfunction MemberDrafts(){\r\n\r\n    // const [user, setUser] = useState(localStorage.getItem('userId'))\r\n    const user = localStorage.getItem('userId')\r\n    const [data, setData] = useState([])\r\n\r\n    useEffect(()=>{\r\n        axios({\r\n            method: 'GET',\r\n            url: `http://localhost:5500/stories/member/drafts?usrId=${user}`\r\n        })\r\n        .then(r=>{\r\n            // console.log(r.data)\r\n            r.data.forEach(elm=>{\r\n                let str = ''\r\n                for(let i = 0 ; i < JSON.parse(elm.drftContent).blocks.length ; i++){\r\n                    str += JSON.parse(elm.drftContent).blocks[i].text\r\n                }\r\n                if(str.length > 50){\r\n                    str = str.substring(1, 50) + '...'\r\n                }\r\n                elm.contentStr = str\r\n            })\r\n            setData(r.data)\r\n        })\r\n    }, [])\r\n\r\n    const handleDelete = (id)=>{\r\n        Swal.fire({\r\n            position: 'top-end',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: '確定',\r\n            cancelButtonText: '取消',\r\n            text: '確定要刪除？',\r\n            position:'center',\r\n            buttonsStyling: false,\r\n            customClass: {\r\n                popup: 'bk-swl-popup',\r\n                icon: 'bk-swl-icon',\r\n                content: 'bk-swl-content',\r\n                confirmButton: 'bk-swl-confirm-button',\r\n                cancelButton: 'bk-swl-cancel-button',\r\n              }\r\n          }) \r\n          .then(result=>{\r\n              if(result.value){\r\n                axios({\r\n                    method: 'DELETE',\r\n                    url: `http://localhost:5500/stories/member/draft/${id}?usrId=${user}`\r\n                })\r\n                .then(r=>{\r\n                    console.log(r)\r\n                    Swal.fire({\r\n                        text: '刪除成功！',\r\n                        icon: 'success',\r\n                        buttonsStyling: false,\r\n                        confirmButtonText: '確定',\r\n                        customClass: {\r\n                            popup: 'bk-swl-popup',\r\n                            icon: 'bk-swl-icon',\r\n                            content: 'bk-swl-content',\r\n                            confirmButton: 'bk-swl-confirm-button',\r\n                            cancelButton: 'bk-swl-cancel-button',\r\n                          }\r\n                    })\r\n                })\r\n              }\r\n          })\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Row>\r\n                <MemberSidebar />\r\n                <Col lg={9} className='bk-member-main-container'>\r\n                <div className='bk-story-top'>\r\n                        <h3>我的草稿</h3>\r\n                        <Link to='/member/upload-stories'>\r\n                            <button>去寫故事</button>\r\n                        </Link>\r\n                    </div>\r\n                    <ul className='bk-story-list'>\r\n                        {!data.length ? '沒有草稿' : data.map(elm=>{\r\n                            return (\r\n                            <li key={elm.drftId}>\r\n                                <div className='bk-story-li-content'>\r\n                                    <h5>{elm.drftTitle}</h5>\r\n                                    <div className='bk-txt-small'>{elm.time}</div>\r\n                                    <div className='py-2'>{elm.contentStr}</div>\r\n                                    <div className='bottom' style={{justifyContent: 'flex-end'}}>\r\n                                        <div className='funcs'>\r\n                                            <div role='button' onClick={()=>{ handleDelete(elm.drftId) }}>刪除</div>\r\n                                            <div role='button'>\r\n                                                <Link to={`/member/stories/draft/${elm.drftId}`}>\r\n                                                    編輯\r\n                                                </Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MemberDrafts","import React, {useState, useEffect, useRef} from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {Editor, EditorState, RichUtils, convertToRaw, convertFromRaw} from 'draft-js';\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2/dist/sweetalert2'\r\n\r\nimport Toolbar, {styleMap, getBlockType} from './EditorComponents/Toolbar'\r\n// import TagBlock from './EditorComponents/TagBlock'\r\nimport TagInput from './TagInput'\r\n\r\n//utils for media rendering\r\nimport { renderMedia, mediaBlockRenderer } from './entities/mediaBlockRenderer'\r\n\r\n\r\nfunction DraftEditorEdit(props){\r\n\r\n    // console.log(props.editorState);\r\n    const [editorState, setEditorState] = useState(EditorState.createEmpty())\r\n    // const [editorContent, setEditorContent] = useState(null);\r\n    const [urlValue, setUrlValue] = useState('')\r\n    const [foldername, setFoldername] = useState('')\r\n    const [title, setTitle] = useState('')\r\n    const [tags, setTags] = useState([])\r\n    // const [message, setMessage] = useState('')\r\n    const [readOnly, setReadOnly] = useState(false)\r\n    const [functionSubmit, setFunctionSubmit] = useState(null)\r\n    const [usrId, setUsrId] = useState(null)\r\n    const [id, setId] = useState(null)\r\n    const [buttons, setButtons] = useState(null)\r\n\r\n    const editorRef = useRef(null); //for focusing\r\n    const imgRef = useRef(null)\r\n    const imgFormRef = useRef(null)\r\n\r\n    useEffect(()=>{\r\n        setUsrId(localStorage.getItem('userId'))\r\n        if(props.match) setId(props.match.params.id)\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        \r\n        console.log(props.type)\r\n        switch(props.type){\r\n            case 'story':\r\n                setButtons(<button className=\"bk-btn-black\" onClick={updateStory}>更新</button>)\r\n                break;\r\n            case 'draft':\r\n                setButtons(\r\n                    <>\r\n                    <button className=\"bk-btn-black\" onClick={uploadDraft}>上傳</button>\r\n                    <button className=\"bk-btn-black-bordered\" onClick={saveDraft}>儲存草稿</button>\r\n                    </>\r\n                )\r\n                break;\r\n        }\r\n    }, [props.type])\r\n\r\n    useEffect(()=>{\r\n        if(props.content){\r\n            setEditorState(EditorState.createWithContent(props.content))\r\n            setTitle(props.title)\r\n            setTags(props.tags)\r\n        }\r\n    }, [props.content])\r\n\r\n    const handleTitle = (e)=>{\r\n        // console.log(e.target.value)\r\n        setTitle(e.target.value)\r\n    }\r\n\r\n    const selectedTags = tags => {\r\n        setTags(tags)\r\n    };\r\n    \r\n    // basically just sets state...\r\n    const onChange = editorState =>{\r\n        return setEditorState(editorState);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        let s = editorState.getCurrentContent()\r\n        // console.log(convertToRaw(s))\r\n    },[editorState])\r\n\r\n    //inline styles\r\n    const renderInlineStyles = (e, style) =>{\r\n        e.preventDefault()\r\n        setEditorState(RichUtils.toggleInlineStyle(editorState, style))\r\n    }\r\n\r\n    //block styles, eg h1, h2, block quote...etc.\r\n    const toggleBlockType = block =>{\r\n        setEditorState(RichUtils.toggleBlockType(editorState, block))\r\n    }\r\n\r\n    //keyboard shortcuts?\r\n    function  handleKeyCommand(command) {\r\n        const newState = RichUtils.handleKeyCommand(editorState, command);\r\n        if (newState) {\r\n          onChange(newState);\r\n          return 'handled';\r\n        }\r\n        return 'not-handled';\r\n    }\r\n      \r\n    //button on click\r\n    function confirmMedia(e){\r\n        imgRef.current.click()\r\n    }\r\n\r\n    //when file submitted, upload to public & render element in Editor\r\n    async function fileOnChange(e){\r\n        // setUploading(true)\r\n        e.preventDefault()\r\n\r\n        const formdata = new FormData(imgFormRef.current)\r\n        formdata.append('foldername', foldername)\r\n\r\n        const response = await fetch('http://localhost:5500/stories/api/editor-imgs',{\r\n            method: 'POST',\r\n            body: formdata,\r\n        })\r\n\r\n        const data = await response.json()\r\n        console.log(data);\r\n\r\n        await setFoldername(data.foldername)\r\n        \r\n        for(let i = 0 ; i < data.url.length ; i++){\r\n            await console.log(data.url[i])\r\n            await renderMedia(data.url[i], editorState, setEditorState, setUrlValue)\r\n        }\r\n    }\r\n\r\n    //檢查內容（在submit之前）\r\n    const checkContent = ()=>{\r\n        const contentState = editorState.getCurrentContent()\r\n\r\n        //判斷是否有內容\r\n        let c = convertToRaw(contentState)\r\n        let str = ''\r\n        let flag = false\r\n        console.log(c)\r\n        for(let i = 0 ; i < c.blocks.length ; i++){\r\n            // console.log(c.blocks)\r\n            str += c.blocks[i].text\r\n            if(c.blocks[i].type === 'atomic') return flag = true\r\n        }\r\n        if(!str.trim().length && !flag){\r\n            // console.log(title)\r\n            // console.log(\"no content\")\r\n            Swal.fire({\r\n                position: 'top-end',\r\n                icon: 'warning',\r\n                text: '請填寫內容',\r\n                showConfirmButton: true,\r\n                confirmButtonText: '確定',\r\n                buttonsStyling: false,\r\n                position:'center',\r\n                customClass: {\r\n                    popup: 'bk-swl-popup',\r\n                    icon: 'bk-swl-icon',\r\n                    content: 'bk-swl-content',\r\n                    confirmButton: 'bk-swl-confirm-button',\r\n                  }\r\n              })  \r\n            return false;\r\n        }else if(title === '' || !title.trim().length){\r\n            // console.log(\"no title\")\r\n            Swal.fire({\r\n                position: 'top-end',\r\n                icon: 'warning',\r\n                text: '請填寫標題',\r\n                showConfirmButton: true,\r\n                confirmButtonText: '確定',\r\n                position:'center',\r\n                buttonsStyling: false,\r\n                customClass: {\r\n                    popup: 'bk-swl-popup',\r\n                    icon: 'bk-swl-icon',\r\n                    content: 'bk-swl-content',\r\n                    confirmButton: 'bk-swl-confirm-button',\r\n                  }\r\n              })  \r\n            return false;\r\n        }\r\n\r\n        console.log(\"you may pass\")\r\n        return true;\r\n    }\r\n\r\n    //update STORY\r\n    async function updateStory(){\r\n\r\n        if(!checkContent()) return;\r\n        const contentState = await editorState.getCurrentContent()\r\n\r\n        //fetch\r\n        const response = await fetch(`http://localhost:5500/stories/member/story/${id}?usrId=${usrId}`, {\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                content: convertToRaw(contentState),\r\n                title: title,\r\n                tags: tags\r\n            }),\r\n            headers: new Headers({\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            })\r\n        })\r\n        const data = await response.json()\r\n        await console.log(data)\r\n        \r\n        setReadOnly(true)\r\n\r\n        Swal.fire({\r\n            position: 'top-end',\r\n            icon: 'success',\r\n            text: '更新成功！',\r\n            confirmButtonText: '確定',\r\n            showConfirmButton: true,\r\n            // timer: 1500,\r\n            position:'center',\r\n            buttonsStyling: false,\r\n            customClass: {\r\n                popup: 'bk-swl-popup',\r\n                icon: 'bk-swl-icon',\r\n                content: 'bk-swl-content',\r\n              }\r\n          }) \r\n          .then(r=>{\r\n            props.history.push('/member/stories')\r\n          })\r\n        return;\r\n    }\r\n\r\n    //save DRAFT to STORY\r\n    async function uploadDraft(){\r\n\r\n        if(!checkContent()) return;\r\n        const contentState = editorState.getCurrentContent()\r\n\r\n        const response = await fetch(`http://localhost:5500/stories/member/draft/submit-draft/${props.match.params.id}?usrId=${localStorage.getItem('userId')}`,{\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                content: convertToRaw(contentState),\r\n                title: title,\r\n                tags: tags\r\n            }),\r\n            headers: new Headers({\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            })\r\n        })\r\n        const data = await response.json()\r\n        const r = await fetch(`http://localhost:5500/stories/member/upload?usrId=${localStorage.getItem('userId')}`,{\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                content: convertToRaw(contentState),\r\n                title: title,\r\n                tags: tags\r\n            }),\r\n            headers: new Headers({\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            })\r\n        })\r\n        const d = await r.json()\r\n\r\n        Swal.fire({\r\n            position: 'top-end',\r\n            icon: 'success',\r\n            text: '上傳成功',\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n            position:'center',\r\n            buttonsStyling: false,\r\n            customClass: {\r\n                popup: 'bk-swl-popup',\r\n                icon: 'bk-swl-icon',\r\n                content: 'bk-swl-content',\r\n              }\r\n            })  \r\n            .then(r=>{\r\n                props.history.push('/member/stories')\r\n            })\r\n\r\n        console.log(r)\r\n\r\n    }\r\n\r\n    //save draft\r\n    async function saveDraft(){\r\n        if(!saveDraft) return;\r\n        const contentState = editorState.getCurrentContent()\r\n        console.log(convertToRaw(contentState))\r\n\r\n        const response = await fetch(`http://localhost:5500/stories/member/draft/save-draft/${id}?usrId=${usrId}`, {\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                content: convertToRaw(contentState),\r\n                title: title,\r\n                tags: tags\r\n            }),\r\n            headers: new Headers({\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            })\r\n        })\r\n        const data = await response.json()\r\n        // setMessage('已儲存至草稿')\r\n\r\n        Swal.fire({\r\n            position: 'top-end',\r\n            icon: 'success',\r\n            text: '儲存成功',\r\n            showConfirmButton: false,\r\n            buttonsStyling: false,\r\n            timer: 1500,\r\n            position:'center',\r\n            customClass: {\r\n                popup: 'bk-swl-popup',\r\n                icon: 'bk-swl-icon',\r\n                content: 'bk-swl-content',\r\n              }\r\n            })  \r\n        setTimeout(()=>{\r\n            props.history.push('/member/stories/drafts')\r\n        }, 1500)\r\n    }\r\n\r\n    //focus back to editor after img insert\r\n    useEffect(()=>{\r\n        if(editorRef) editorRef.current.focus()\r\n    }, [urlValue])\r\n\r\n    return(\r\n        <>\r\n            {/* <div className='bk-editor-message'>{message ? message : ''}</div> */}\r\n            <div className=\"bk-form-control\">\r\n                <label>標題</label>\r\n                <input disabled={readOnly} type=\"text\" onChange={(evt)=>{\r\n                    handleTitle(evt)\r\n                }} defaultValue={title} />\r\n            </div>\r\n            {/* <div className=\"bk-form-control\"> */}\r\n                <label>標籤</label>\r\n                <TagInput selectedTags={selectedTags} tags={tags} />\r\n            {/* </div> */}\r\n            <div className=\"bk-draft-editor-container\">\r\n                <div>\r\n                    <Toolbar\r\n                    renderInlineStyles={renderInlineStyles}\r\n                    editorState={editorState}\r\n                    onToggle={toggleBlockType}\r\n                    confirmMedia={confirmMedia}\r\n                    imgRef={imgRef}\r\n                    fileOnChange={fileOnChange}\r\n                    imgFormRef={imgFormRef}\r\n                     />\r\n                    <Editor\r\n                    // placeholder=\"\"\r\n                    editorState={editorState}\r\n                    handleKeyCommand={handleKeyCommand}\r\n                    onChange={onChange} //update state on change\r\n                    readOnly={readOnly}\r\n                    customStyleMap= {styleMap} //custom inline styles\r\n                    blockStyleFn={getBlockType} //custom block type settings with class\r\n                    ref={editorRef}\r\n                    blockRendererFn={mediaBlockRenderer}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className='bk-btn-group'>\r\n                {props.type === 'story' &&\r\n                    <button className=\"bk-btn-black\" onClick={updateStory}>更新</button>\r\n                }\r\n                {props.type === 'draft' &&\r\n                    <>\r\n                        <button className=\"bk-btn-black\" onClick={uploadDraft}>上傳</button>\r\n                        <button className=\"bk-btn-black-bordered\" onClick={saveDraft}>儲存草稿</button>\r\n                    </>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(DraftEditorEdit)\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport DraftEditorEdit from './components/DraftEditorEdit'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport { withRouter } from 'react-router-dom'\r\nimport {EditorState, convertFromRaw} from 'draft-js';\r\nimport axios from 'axios'\r\n\r\nimport MemberSidebar from '../Irene/components/MemberSidebar'\r\n\r\n\r\nfunction MemberStory(props){\r\n\r\n    const [c, setC] = useState(null)\r\n    const [t, setT] = useState('')\r\n    const [tgs, setTgs] = useState([])\r\n\r\n    useEffect(()=>{\r\n        // console.log(props.location.search)\r\n        if(!props.location) return;\r\n        let url = `http://localhost:5500/stories/member/draft/${props.match.params.id}?usrId=${localStorage.getItem('userId')}`\r\n\r\n        axios.get(url)\r\n        .then(r=>{\r\n            setT(r.data.drftTitle)\r\n            setTgs(JSON.parse(r.data.drftTags))\r\n            return convertFromRaw(JSON.parse(r.data.drftContent))\r\n        })\r\n        .then(content=>{\r\n            setC(content);    \r\n        })\r\n    }, [])\r\n\r\n    return(\r\n        <Row>\r\n            <MemberSidebar />\r\n            <Col lg={9} className='bk-member-main-container'>\r\n                <h3>編輯草稿</h3>\r\n                <DraftEditorEdit\r\n                    type='draft'\r\n                    content = {c}\r\n                    tags = {tgs}\r\n                    title = {t}\r\n                />\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default withRouter(MemberStory)","import React, {useEffect, useState} from 'react'\r\nimport DraftEditorEdit from './components/DraftEditorEdit'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport { withRouter } from 'react-router-dom'\r\nimport {EditorState, convertFromRaw} from 'draft-js';\r\nimport axios from 'axios'\r\n\r\nimport MemberSidebar from '../Irene/components/MemberSidebar'\r\n\r\n\r\nfunction MemberStory(props){\r\n    \r\n    const [c, setC] = useState(null)\r\n    const [t, setT] = useState('')\r\n    const [tgs, setTgs] = useState([])\r\n\r\n    useEffect(()=>{\r\n        // console.log(props.location.search)\r\n        if(!props.location) return;\r\n        let url = `http://localhost:5500/stories/member/story/${props.match.params.id}?usrId=${localStorage.getItem('userId')}`\r\n\r\n        axios.get(url)\r\n        .then(r=>{\r\n            setT(r.data.stryTitle)\r\n            setTgs(JSON.parse(r.data.stryTags))\r\n            return convertFromRaw(JSON.parse(r.data.stryContent))\r\n        })\r\n        .then(content=>{\r\n            setC(content);    \r\n        })\r\n    }, [])\r\n\r\n    return(\r\n        <Row>\r\n            <MemberSidebar />\r\n            <Col lg={9} className='bk-member-main-container'>\r\n                <h3>編輯故事</h3>\r\n                <DraftEditorEdit\r\n                    type = 'story'\r\n                    content = {c}\r\n                    tags = {tgs}\r\n                    title = {t}\r\n                />\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default withRouter(MemberStory)","import React, {useEffect, useState} from 'react'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport { withRouter } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\n\r\nimport MemberSidebar from '../Irene/components/MemberSidebar'\r\nimport StoryReply from './components/StoryReply'\r\nimport {getRecursiveJson} from './utils/useRecursive'\r\n\r\n// import './css/stories.scss'\r\n\r\n\r\nfunction MemberStoryReplies(props){\r\n    \r\n    const [data, setData] = useState([])\r\n    const [openRplyTo, setOpenRplyTo] = useState(null)\r\n    const [id, setId] = useState(props.match.params.id)\r\n\r\n    useEffect(()=>{\r\n        if(!getRecursiveJson) return;\r\n\r\n        // let id = props.match.params.id\r\n        console.log(id)\r\n\r\n        axios.get(`http://localhost:5500/stories/member/${id}/replies`)\r\n        .then(r=>{\r\n\r\n            let arr = [] //沒有\r\n            let arr2 = [] //有to\r\n\r\n            r.data.forEach(elm=>{\r\n                if(!elm.rplyTo){\r\n                    arr.push(elm)\r\n                }else{\r\n                    arr2.push(elm)\r\n                }\r\n            })\r\n            let results = getRecursiveJson(arr2, arr)\r\n\r\n            setData(results)\r\n        })\r\n    }, [])\r\n\r\n    const handleOnclick = (id)=>{\r\n        setOpenRplyTo(id)\r\n    }\r\n\r\n    const handleSubmit = (replyTo, txtContent)=>{\r\n\r\n        if(!txtContent.trim().length){\r\n            return\r\n        }\r\n\r\n        let url = `http://localhost:5500/stories/reply/${id}?usrId=${localStorage.getItem('userId')}` + (replyTo ? `&toId=${replyTo}` : '')\r\n\r\n        axios({\r\n            method: 'POST',\r\n            url: url,\r\n            data: {\r\n                content: txtContent\r\n            }\r\n        })\r\n        .then(res=>{\r\n            Swal.fire({\r\n                position: 'top-end',\r\n                text: '成功回覆',\r\n                showConfirmButton: true,\r\n                // timer: 1500,\r\n                buttonsStyling: false,\r\n                confirmButtonText: '確定',\r\n                position:'center',\r\n                customClass: {\r\n                    popup: 'bk-swl-popup',\r\n                    icon: 'bk-swl-icon',\r\n                    content: 'bk-swl-content',\r\n                    confirmButton: 'bk-swl-confirm-button',\r\n                  }\r\n            })\r\n            console.log(res.data)\r\n        })\r\n    }\r\n\r\n    const mapRecursive = (data)=>{\r\n        return data.map((elm, idx)=>{\r\n            let child = [\r\n                <StoryReply\r\n                    key={elm.rplyId}\r\n                    handlers={{\r\n                        submit: handleSubmit\r\n                    }}\r\n                    data={{\r\n                        name: elm.Name,\r\n                        account: elm.Account,\r\n                        img: elm.Image,\r\n                        id: elm.rplyId,\r\n                        content: elm.rplyContent,\r\n                        to: elm.rplyToId,\r\n                        date: elm.rplyUpdate,\r\n                        fromNow: elm.fromNow\r\n                    }}\r\n                    id={`${elm.rplyId}-${elm.usrId}`}\r\n                    onClick={handleOnclick}\r\n                    openRplyTo={openRplyTo}\r\n                />\r\n            ]\r\n            if(elm.children){\r\n                child.push(mapRecursive(elm.children))\r\n            }\r\n        return <div className=\"bk-r\">{child}</div>\r\n        })\r\n    }\r\n\r\n\r\n    return(\r\n        <Row>\r\n                <MemberSidebar />\r\n                <Col lg={9}>\r\n                    <div className='bk-member-main-container bk-reply-page'>\r\n                        <h3>回覆留言</h3>\r\n                    </div>\r\n                    <div className=\"bk-recursive-replies-container bk-reply-page\">\r\n                        {!data.length ? \r\n                        <div className=\"bk-story-replies\" style={{background: 'transparent'}}>暫時沒有留言</div> \r\n                        :\r\n                         mapRecursive(data) }\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n    )\r\n}\r\n\r\nexport default withRouter(MemberStoryReplies)","import React, { useEffect, useState } from 'react'\r\nimport { Link} from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n    AddCart,\r\n    getShopCart,\r\n    AddCartItem,\r\n    DelCartItem,\r\n    CalShopCart,\r\n    Handle_AddMyFavorite,AddCartNewItem_sendcal} from '../../mao/actions/ShopCartAction'\r\n\r\nimport {addMbLikeData,delMbLikeData} from '../../stacey/actions/couponAction'\r\n\r\nimport { FiHeart ,FiShoppingBag} from 'react-icons/fi'\r\nimport {\r\n  IoIosStarOutline,\r\n  IoIosStar,\r\n} from 'react-icons/io'\r\nimport Swal from 'sweetalert2'\r\n\r\n\r\n\r\nfunction Commoditycomponents(props){\r\n\r\n\r\nconst [forMyfavor,setForMyfavor]=useState(false)\r\nconst [newHisitem,setNewHisitem]=useState([])\r\nconst [alertType,setAlertType]=useState('')\r\n\r\n\r\n//會員\r\nconst mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\n\r\n// useEffect(() => {\r\n//   if(mb_id) {\r\n//     props.fromServerMbLikeData(mb_id)\r\n//   }\r\n// }, [])\r\n\r\nasync function ItemToLocalStorage(value) {\r\n\r\n  const currentHisitem = JSON.parse(localStorage.getItem('hisitem')) || []\r\n  if(currentHisitem.length===0){\r\n    const newHisitem = [...currentHisitem, value]\r\n    localStorage.setItem('hisitem', JSON.stringify(newHisitem))\r\n  }\r\n\r\n  let box=[]\r\n  currentHisitem.map((val,ind)=>{\r\n    box.push(val.itemId)\r\n  })\r\n    let index = box.findIndex(e=>e==value.itemId)\r\n    if(index === -1){\r\n      const newHisitem = [...currentHisitem, value]\r\n      localStorage.setItem('hisitem', JSON.stringify(newHisitem))\r\n    }else{}\r\n  // 設定資料\r\n  setNewHisitem(newHisitem)\r\n}\r\n\r\nconst checkAlertType=showTpye=>{\r\n  switch(showTpye){\r\n      case '加入購物車':\r\n          Swal.fire({\r\n              position: 'center',\r\n              icon: 'success',\r\n              title: '已加入購物車',\r\n              showConfirmButton: false,\r\n              timer: 1000\r\n            })\r\n            break\r\n      case '加入我的最愛':\r\n          Swal.fire({\r\n              position: 'center',\r\n              icon:'success',\r\n              title: '已加入我的最愛',\r\n              showConfirmButton: false,\r\n              timer: 1000\r\n            })\r\n            break\r\n            case '已取消我的最愛':\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon:'error',\r\n                    title: '已取消我的最愛',\r\n                    showConfirmButton: false,\r\n                    timer: 1000\r\n                  })\r\n                  break\r\n      default:\r\n          break                \r\n  }\r\n}\r\n\r\n    return(\r\n        <>\r\n              <div className=\"chin-commodity-item\">\r\n                    <ul className=\"chin-star-heart-bag\">\r\n                        <li><IoIosStar className=\"chin-star\"/></li>\r\n                        <li><IoIosStar className=\"chin-star\"/></li>\r\n                        <li><IoIosStar className=\"chin-star\"/></li>\r\n                        <li><IoIosStar className=\"chin-star\"/></li>\r\n                        <li><IoIosStar className=\"chin-star\"/></li>\r\n                        <li className=\"chin-heart-bag\">\r\n                        \r\n                          <FiHeart className={`chin-heart ${props.mbLike ? 'Mao-like-red':''}`}  \r\n                          onClick={()=>{\r\n                            if(mb_id){\r\n                              props.mbLike ? props.delMbLikeData(mb_id,props.data) : props.addMbLikeData(mb_id,props.data)\r\n                            // props.Handle_AddMyFavorite(!props.mbLike,props.data, props.MyFavorite)\r\n                            // setForMyfavor(!forMyfavor)\r\n                            let info=!props.mbLike?\"加入我的最愛\":\"已取消我的最愛\"\r\n                            checkAlertType(info)\r\n                            }else{\r\n                              alert('請先登入')\r\n                            }}\r\n                                  }/>\r\n\r\n                            <FiShoppingBag  className=\"chin-bag\"  onClick={()=>{\r\n                              props.AddCartNewItem_sendcal(props.data,props.AddItem) \r\n                              checkAlertType(\"加入購物車\")\r\n                              \r\n                            }}\r\n                            />\r\n                        </li>\r\n                    </ul>\r\n                    <Link to={'/commidty/'+props.data.itemId} onClick={()=>{ItemToLocalStorage(props.data)}}>\r\n                      <img className=\"chin-watchs\" src={`./chin-img/images/${props.data.itemName}/${props.data.itemImg}`} alt=\"\"/>\r\n                      <h6>{props.data.name}</h6>\r\n                      <h4>{props.data.itemName}</h4>\r\n                      <h5>NT{props.data.itemPrice}</h5>\r\n                    </Link>\r\n            </div>\r\n          \r\n        </>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = store => {\r\n    return {\r\n      AddItem: store.AddItem,\r\n      MyFavorite: store.MyFavorite,\r\n      CtrlData: store.ControlDataState,\r\n    }\r\n  }\r\n  \r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n        AddCart,\r\n        getShopCart,\r\n        AddCartItem,\r\n        DelCartItem,\r\n        CalShopCart,\r\n        Handle_AddMyFavorite,\r\n        AddCartNewItem_sendcal,\r\n        delMbLikeData,\r\n        addMbLikeData,\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  export default connect(mapStateToProps, mapDispatchToProps)(Commoditycomponents)\r\n  \r\n\r\n// export default Commoditycomponents","import React, {useEffect, useState} from 'react'\r\nimport axios from 'axios'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nimport Commoditycomponents from '../chin/components/Commoditycomponents'\r\n\r\nimport './css/search.scss'\r\n\r\nfunction Search(props){\r\n\r\n    const [data, setData] = useState([])\r\n    const [searchKey, setSearchKey] = useState(props.location.search.replace('?key=', '').trim())\r\n\r\n    useEffect(()=>{\r\n        \r\n        if(!props.location.search.replace('?key=', '').trim().length){\r\n            //console.log(\"請填入搜尋資訊\")\r\n            return;\r\n        }\r\n        \r\n        setSearchKey(props.location.search.replace('?key=', '').trim())\r\n\r\n        axios.get(`http://localhost:5500/home/search${props.location.search}`)\r\n        .then(r=>{\r\n            setData(r.data)\r\n        })\r\n    }, [props.location.search])\r\n\r\n    useEffect(()=>{\r\n        console.log(data)\r\n    }, [data])\r\n\r\n    return(\r\n        <>\r\n        <div className='bk-page-top'>\r\n            <div className='bk-page-title'>\r\n                <span>SEARCH RESULTS</span>\r\n                <span>搜尋結果</span>\r\n                <span>{decodeURI(searchKey)} 共找到 {data.length} 個商品</span>\r\n            </div>\r\n        </div>\r\n            <div className='bk-search-results'>\r\n                {!data.length ? '沒有類似的結果' : data.map((elm, idx)=>{\r\n                    return(\r\n                        <Commoditycomponents\r\n                            key={elm.itemId}\r\n                            data={elm}\r\n                        />\r\n                    )\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(Search)","//---------------------------------------------------------------------------chin商品列表 ---------------------------------------\r\n//回傳showItems\r\nexport const showItems = val => {\r\n  return { type: 'SHOW_ITEMS', value: val }\r\n}\r\n//跟node要資料\r\nexport const formServerItemsData = val => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://localhost:5500/items/${val}`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n\r\n    dispatch(showItems(data))\r\n  }\r\n}\r\n//  I AM YOUR FATHER\r\nexport const showRANDItemId = val => {\r\n  return { type: 'SHOW_RAND_ITEMID', value: val }\r\n}\r\n\r\nexport const commidtyRANDItemId = val => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://localhost:5500/items/allitems`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    // await console.log('lllllll', data)\r\n    dispatch(showRANDItemId(data))\r\n  }\r\n}\r\n\r\n//回傳showItemId\r\nexport const showItemId = val => {\r\n  return { type: 'SHOW_ITEMID', value: val }\r\n}\r\nexport const commidtyItemId = val => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://localhost:5500/items/commidty/${val}`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    dispatch(showItemId(data))\r\n  }\r\n}\r\n//回傳showMultipleItemId\r\nexport const showMultipleItemId = val => {\r\n  return { type: 'SHOW_MULTIPLE', value: val }\r\n}\r\nexport const multiple_imagesItemId = val => {\r\n  return async dispatch => {\r\n    const request = new Request(\r\n      `http://localhost:5500/items/multiple_images/${val}`,\r\n      {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n      }\r\n    )\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    dispatch(showMultipleItemId(data))\r\n  }\r\n}\r\n//-------------商品排序-------------//\r\nexport const PriceHightToLow = val => {\r\n  return dispatch => {\r\n    val.sort(function(a, b) {\r\n      return a.itemPrice < b.itemPrice ? 1 : -1\r\n    })\r\n    dispatch(showItems([...val]))\r\n  }\r\n}\r\n\r\nexport const PriceLowToHight = val => {\r\n  return dispatch => {\r\n    val.sort(function(a, b) {\r\n      return a.itemPrice > b.itemPrice ? 1 : -1\r\n    })\r\n    dispatch(showItems([...val]))\r\n  }\r\n}\r\n\r\nexport const NewTimeSort = val => {\r\n  return dispatch => {\r\n    val.sort(function(a, b) {\r\n      return a.created_at > b.created_at ? 1 : -1\r\n    })\r\n    dispatch(showItems([...val]))\r\n  }\r\n}\r\n//itemQty商品數量\r\nexport const HotItemsSort = val => {\r\n  return dispatch => {\r\n    val.sort(function(a, b) {\r\n      return a.itemQty > b.itemQty ? 1 : -1\r\n    })\r\n    dispatch(showItems([...val]))\r\n  }\r\n}\r\nexport const AllItemsSort = val => {\r\n  return dispatch => {\r\n    val.sort(function(a, b) {\r\n      return a.itemId > b.itemId ? 1 : -1\r\n    })\r\n    dispatch(showItems([...val]))\r\n  }\r\n}\r\n\r\n//list品牌\r\n\r\nexport const ListItemName = (obj, val) => {\r\n  if (obj.isChecked) {\r\n    return { type: 'ITEMNAME_VALUE', value: [obj.name, ...val] }\r\n  } else {\r\n    let ind = val.indexOf(obj.name)\r\n    val.splice(ind, 1)\r\n    let newList = val.map((val, ind) => {\r\n      if (val !== obj.name) {\r\n        return val\r\n      }\r\n    })\r\n    return { type: 'ITEMNAME_VALUE', value: newList }\r\n  }\r\n}\r\n\r\nexport const ResetListItemName = (obj, val) => {\r\n  const newList = []\r\n  return { type: 'ITEMNAME_RESET', value: newList }\r\n}\r\n//Price金錢塞選\r\n\r\nexport const ListItemPrice = (val)=>{\r\n  if(val){\r\n    return { type: 'ITEMPRICE_VALUE', value: val }\r\n  }\r\n}\r\nexport const ListItemPrice2 = (val)=>{\r\n  if(val){\r\n    return { type: 'ITEMPRICE_VALUETWO', value: val }\r\n  }\r\n}\r\nexport const ResetListItemPrice = (obj, val) => {\r\n  const newprice = []\r\n  return { type: 'ITEMPRICE_RESETCOM', value: newprice }\r\n}\r\n//-----itemscompare------------------------\r\n\r\nexport const ItemscompareNocompare = value => ({ type: 'NP_COMPARE', value: value })\r\nexport const ItemscompareNo = (val, product, data) => {\r\n  // console.log(val, product, data)\r\n  let pIdBox = []\r\n  data.map((v, i) => {\r\n    pIdBox.push(v.itemId)\r\n  })\r\n  let newData = [...data]\r\n  return dispatch => {\r\n    if (val == true) {\r\n      if(newData.length<4){\r\n        newData.push(product)\r\n      }else{\r\n         newData=data\r\n      }\r\n    } else if (val == false) {\r\n      let delIndex = pIdBox.findIndex(e => e == product.itemId)\r\n      let delpId = data.filter(e => e !== data[delIndex])\r\n      newData = [...delpId]\r\n    } else {\r\n      return newData\r\n    }\r\n    dispatch(ItemscompareNocompare(newData))\r\n  }\r\n}\r\n  export const ResetListItemNameCom = (obj, val) => {\r\n    const newdata = []\r\n    return { type: 'ITEMNAME_RESETCOM', value: newdata }\r\n  }\r\n//-----------------------------usercomments--------------------------------------------\r\n//回傳usercomments\r\nexport const showUsers = val => {\r\n  return { type: 'SHOW_USER', value: val }\r\n}\r\n//跟node要usercomments資料\r\nexport const formServerUsersData = val => {\r\n  return async dispatch => {\r\n    const request = new Request(`http://localhost:5500/items/users/${val}`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n\r\n    dispatch(showUsers(data))\r\n  }\r\n}\r\n\r\n\r\n","import React,{useState, useEffect} from 'react'\r\nimport { Link} from 'react-router-dom'\r\n//classnames\r\nimport classNames from 'classnames'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport { ItemscompareNo} from '../actions/itemsActions'\r\nimport { Popper } from '@material-ui/core'\r\n\r\nfunction Commoditycomponents(props){\r\n\r\n  const [compatrtrue,setCompatrtrue]=useState(false)\r\n  const [compatritems,setCompatritems]=useState()\r\n  const CompareClassName = classNames('chin-commodity-item-compare', {\r\n    active:compatrtrue \r\n  })\r\n  // const course = document.querySelector('.chin-commodity-item-compare').classList.add('chin-zzzzzzzzzz')\r\n  // props.compare.length>4?CompareClassName:'chin-commmmmm'\r\n  function delitemsss(){\r\n    props.sendx(compatritems)\r\n  }\r\n  useEffect(()=>{\r\n    if(props.delitems===props.data.itemId)setCompatrtrue(false)\r\n    delitemsss()\r\n  },[props.delitems])\r\n    return(\r\n        <>\r\n            <div className={CompareClassName} onClick={()=>{\r\n                                                            props.ItemscompareNo(!compatrtrue,props.data,props.compare)\r\n                                                            //我得比較store小於4個才可以做狀態更改\r\n                                                            if(props.compare.length < 4) setCompatrtrue(!compatrtrue)\r\n                                                            //如果等於true才會進來\r\n                                                            if(compatrtrue) setCompatrtrue(!compatrtrue)\r\n                                                           }}>\r\n                <div className=\"chin-commodity-item-watch\">\r\n                    <img src=\"./chin-img/plus.svg\"/>\r\n                </div>\r\n                <ul className=\"chin-star-heart-bag\">\r\n                </ul>\r\n                <img className=\"chin-watchs\" src={`./chin-img/images/${props.data.itemName}/${props.data.itemImg}`} alt=\"\"/>\r\n                <h6>{props.data.name}</h6>\r\n                <h4>{props.data.itemName}</h4>\r\n                <h5>NT{props.data.itemPrice}</h5>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = store => {\r\n    return { compare: store.getItemscompare}\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n        ItemscompareNo,\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(Commoditycomponents)\r\n  ","/*-----------------------Commoditylist.js的功能--------------------------*/\r\nimport React,{useState,useEffect} from 'react'\r\n\r\n//classnames\r\nimport classNames from 'classnames'\r\nfunction Features(){\r\n    const [features,setFeatures] = useState(false)\r\n    const FeaturesClassName= classNames('chin-features',{active:features})\r\n\r\n    return(\r\n        <>\r\n        <li className={FeaturesClassName}>\r\n            <div className=\"chin-price3\" onClick={()=>{setFeatures(!features)}}>\r\n                <span>功能</span>\r\n                <img src=\"/chin-img/chevron-down-black.svg\" alt=\"\"/>\r\n            </div>\r\n            <div>\r\n                <ul>\r\n                    <li className=\"chin-brand-checkbox\"  >\r\n                        <input id=\"color-input6\" type=\"checkbox\"/>\r\n                        <label for=\"color-input6\" className=\"chin-label\">\r\n                        <div className=\"chin-box\"></div>\r\n                        GPS 定位 \r\n                        </label>      \r\n                    </li>\r\n                    <li className=\"chin-brand-checkbox\"  >\r\n                        <input id=\"color-input7\" type=\"checkbox\"/>\r\n                        <label for=\"color-input7\" className=\"chin-label\">\r\n                        <div className=\"chin-box\"></div>\r\n                        運動偵測 \r\n                        </label>      \r\n                    </li>\r\n                    <li className=\"chin-brand-checkbox\"  >\r\n                        <input id=\"color-input8\" type=\"checkbox\"/>\r\n                        <label for=\"color-input8\" className=\"chin-label\">\r\n                        <div className=\"chin-box\"></div>\r\n                        藍芽 \r\n                        </label>      \r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </li>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Features","/*-----------------------Commoditylist.js的品牌--------------------------*/\r\nimport React,{useState,useEffect} from 'react'\r\n\r\n//classnames\r\nimport classNames from 'classnames'\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {ListItemName,ResetListItemName} from '../actions/itemsActions'\r\nimport {showDiscountAction} from '../../stacey/actions/couponAction'\r\n\r\n\r\nimport { CommunicationCallSplit } from 'material-ui/svg-icons'\r\n\r\n\r\nfunction Brand(props){\r\n    const [brand,setBrand] = useState(false)\r\n    const BrandClassName= classNames('chin-brand',{active:brand})\r\n\r\n    const filter = function (e){\r\n        props.ListItemName({isChecked:e.target.checked,name:e.target.value},props.itemList)\r\n        props.showDiscountAction(false,{})\r\n    }\r\n    \r\n\r\n    useEffect(()=>{\r\n    \r\n        // setTimeout(()=>{\r\n            // if( props.itemList.length > 0 ) {\r\n            //     setBrand(true)\r\n            // } \r\n            // else{\r\n            //     setBrand(false)\r\n\r\n            // }\r\n        //    },2000)\r\n\r\n        return () => props.ResetListItemName()\r\n    },[])\r\n\r\n   useEffect(()=>{\r\n    if( props.itemList.length > 0 ) {\r\n        setBrand(true)\r\n    } \r\n        \r\n    },[props.itemList])\r\n    \r\n\r\n    \r\n    return(\r\n        <>\r\n        <li className={BrandClassName}>\r\n            <div className=\"chin-price2\" onClick={()=>{setBrand(!brand)}}>\r\n                <span>品牌</span>\r\n                <img src=\"/chin-img/chevron-down-black.svg\" alt=\"\"/>\r\n            </div>\r\n            <div>\r\n                <ul onChange={(e)=>filter(e)}>\r\n                {props.list.map((val,ind)=>{\r\n\r\n                   let checked =  ''\r\n                   if (props.itemList.indexOf(val) > -1 ) checked = 'checked'\r\n\r\n                  return  <li className=\"chin-brand-checkbox\"  key={ind}>\r\n                        <input name={val} id={val} value={val} type=\"checkbox\" checked={checked}/>\r\n                        <label for={val} className=\"chin-label\">\r\n                        <div className=\"chin-box\"></div>\r\n                        {val}\r\n                        </label>      \r\n                    </li>\r\n                })}\r\n                </ul>\r\n            </div>\r\n        </li>\r\n        </>\r\n    )\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {itemList: store.getListitemName}\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch =>{\r\n    return bindActionCreators({\r\n        ListItemName,ResetListItemName,showDiscountAction\r\n    },dispatch)\r\n  }\r\n  \r\n  \r\n  export default connect(mapStateToProps,mapDispatchToProps)(Brand)","/*-----------------------Commoditylist.js的優惠--------------------------*/\r\nimport React,{useState,useEffect} from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {} from '../../stacey/actions/couponAction'\r\n\r\n//classnames\r\nimport classNames from 'classnames'\r\nimport { filter } from 'bluebird'\r\n\r\nfunction Discount(props){\r\n\r\n    const [dis,setDis] = useState(true)\r\n\r\n    const DiscountClassName= classNames('chin-discount',{active:dis})\r\n\r\n\r\n    let object,rule,discount\r\n\r\n        if(props.data.cp_id){\r\n            //設定優惠字樣\r\n            //目標\r\n            switch(props.data.cpr_object){\r\n                case 0:\r\n                object = \"全部商品\"\r\n                break\r\n                case 1:\r\n                object = \"穿戴式裝置分類\"\r\n                break\r\n                case 2:\r\n                object = \"耳機/喇叭分類\"\r\n                break\r\n                case 3:\r\n                object = \"運動攝影機分類\"\r\n                break\r\n                case 4:\r\n                object = \"周邊商品分類\"\r\n                break\r\n                case 5:\r\n                object = \"指定商品\"\r\n                break\r\n            }\r\n            //條件\r\n          \r\n            switch(props.data.cpr_rule){\r\n                case 0:\r\n                rule = \"一律\"\r\n                break\r\n                case 1:\r\n                rule = `滿${props.data.cpr_ruleNum}件`\r\n                break\r\n                case 2:\r\n                rule = `滿${props.data.cpr_ruleNum}元`\r\n                break\r\n            }\r\n            //金額\r\n            \r\n            switch(props.data.cpr_discount){\r\n                case 0:\r\n                discount = `打${props.data.cpr_discountNum}折`\r\n                break\r\n                case 1:\r\n                discount = `折扣${props.data.cpr_discountNum}元`\r\n                break\r\n            }\r\n        }\r\n            \r\n     \r\n    \r\n\r\n      \r\n    return(\r\n        <>\r\n        <li className={DiscountClassName}>\r\n            <div className=\"chin-price4 sty-dis\" onChange={()=>{setDis(!dis)}}>\r\n                <span>優惠</span>\r\n                <img src=\"/chin-img/chevron-down-black.svg\" alt=\"\"/>\r\n            </div>\r\n            <div>\r\n                <ul>\r\n                    { props.data.cp_id \r\n                    ? \r\n                    <li className=\"chin-brand-checkbox\"  key={props.data.cpi_cp_id}>\r\n                        <label for={props.data.cpi_cp_id} className=\"chin-label\" > \r\n                        [ {props.data.cp_vendor} ] - {object}{rule}{discount}\r\n                        </label>\r\n                    </li>\r\n                    :\r\n                    '' }\r\n                </ul>\r\n            </div>\r\n        </li>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return { \r\n              }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch =>{\r\n    return bindActionCreators({\r\n     \r\n    },dispatch)\r\n  }\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(Discount))","import React, { useState, useEffect } from 'react'\r\nimport Features from '../small components/Features'\r\nimport Brand from '../small components/Brand'\r\n// import Price from '../small components/Price'\r\nimport Discount from '../small components/Discount'\r\nimport { withRouter } from 'react-router-dom'\r\n//classnames\r\nimport classNames from 'classnames'\r\n//redux\r\nimport { connect ,useDispatch } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {ListItemPrice,ListItemPrice2,ResetListItemPrice} from '../actions/itemsActions'\r\n\r\n\r\nfunction Commoditylist(props) {\r\n\r\nconst [price,setPrice] = useState(false)\r\nconst [volume, setVolume] = useState([0,40000]);\r\nconst PriceClassName= classNames('chin-totalprice',{active:price})\r\n  const dispatch = useDispatch()\r\n  useEffect(()=>{\r\n    return ()=>dispatch({type:'SHOW_DISCOUNT',value:{isShow:false,value:{}}})\r\n  },[])\r\n\r\n  \r\n  let nameList = []\r\n  for (let i = 0; i < props.data.length; i++) {\r\n    if (nameList.indexOf(props.data[i].name) === -1) {\r\n      nameList.push(props.data[i].name)\r\n    }\r\n  }\r\n  nameList.sort()\r\n\r\n  const Itemprice = function (e){\r\n    props.ListItemPrice({itemPrice:e.target.value})\r\n  }\r\n  const Itemprice2 = function (e){\r\n    props.ListItemPrice2({itemPrice2:e.target.value})\r\n  }\r\n  return (\r\n    <ul className=\"chin-commoditylist\">\r\n    <li className={PriceClassName} >\r\n                <div className=\"chin-price\" onClick={()=>{setPrice(!price)\r\n                                                          props.sendprice(!props.price)\r\n                                                          props.ResetListItemPrice()\r\n                                                          }}>\r\n                    <span>價格</span>\r\n                    <img src=\"./chin-img/chevron-down-black.svg\" alt=\"\"/>\r\n                </div>\r\n                <div className=\"chin-slide\">\r\n                    <div className=\"chin-price-input\">\r\n                        <input type=\"text\" placeholder=\"$0\"  onBlur={(e)=>Itemprice(e)}/>\r\n                        <input type=\"text\" placeholder=\"$40,000\" onBlur={(e)=>Itemprice2(e)}/>\r\n                    </div>\r\n                    {/* {CustomizedSlider()} */}\r\n                </div>\r\n      </li>\r\n      {/* <Price price={props.data} /> */}\r\n      {props.showDiscount.isShow ? <Discount data={props.showDiscount.value}/> : ''}\r\n      <Brand list={nameList} />\r\n      <Features />\r\n    </ul>\r\n  )\r\n}\r\n\r\n\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { showDiscount: store.showDiscount, \r\n            ItemPrice: store.getListitemPrice,\r\n          ItemPrice2:store.getListitemPrice2\r\n           }\r\n}\r\n//action\r\nconst mapDispatchToProps = dispatch =>{\r\n  return bindActionCreators({\r\n    ListItemPrice,\r\n    ListItemPrice2,\r\n    ResetListItemPrice\r\n  },dispatch)\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps,mapDispatchToProps)(Commoditylist)\r\n)\r\n\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  Switch,\r\n  withRouter,\r\n} from 'react-router-dom'\r\n//classnames\r\nimport classNames from 'classnames'\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  PriceHightToLow,\r\n  PriceLowToHight,\r\n  NewTimeSort,\r\n  HotItemsSort,\r\n  AllItemsSort,\r\n  ResetListItemNameCom,\r\n} from '../actions/itemsActions'\r\n\r\nfunction CompareProductSort(props) {\r\n  const [featuredproducts, setFeaturedproducts] = useState(false)\r\n  const [sortname, setSortname] = useState('排序方式')\r\n  const SortClassName = classNames('chin-sort-featuredproducts', {\r\n    active: featuredproducts,\r\n  })\r\n\r\n    return(\r\n      <>\r\n    <div className=\"chin-title\">\r\n        <div className=\"chin-title-text\">\r\n            <span>{props.englishname}</span>\r\n            <span>{props.data[0] ? props.data[0].itemCategoryId : ''}</span>\r\n        </div>\r\n        <div className=\"chin-rwd-sort-features\">\r\n            <button className=\"chin-rwd-features\">功能</button>\r\n            <button className=\"chin-rwd-sort\">排序方式</button>\r\n        </div>\r\n        <div className=\"chin-comparegoods-sort\">\r\n        {props.match.url==\"/surrounding\"?'':\r\n            <button className=\"chin-comparegoods\" onClick={()=>{props.sendText(!props.test)\r\n                                                                props.ResetListItemNameCom()}}>\r\n                <span>比較商品</span>\r\n                <img src=\"./chin-img/align-justify.svg\" alt=\"\"/>\r\n            </button>\r\n          }\r\n            <div className={SortClassName}>\r\n                <label className=\"chin-sort\" onClick={()=>{setFeaturedproducts(!featuredproducts)}}>\r\n                        <span>{sortname}</span>\r\n                        <img src=\"./chin-img/chevron-down-black.svg\" alt=\"\"/>\r\n                </label>\r\n                <ul className=\"chin-featuredproducts\">\r\n                    <li onClick={()=>{\r\n                                      setFeaturedproducts(!featuredproducts)\r\n                                      setSortname(\"排序方式\")\r\n                                      props.AllItemsSort(props.data)}}>全部商品</li>\r\n                    <li onClick={()=>{\r\n                                      setFeaturedproducts(!featuredproducts)\r\n                                      setSortname(\"熱銷商品\")\r\n                                      props.HotItemsSort(props.data)}}>熱銷商品</li>\r\n                    <li onClick={()=>{\r\n                                      setFeaturedproducts(!featuredproducts)\r\n                                      setSortname(\"最新商品\")\r\n                                     props.NewTimeSort(props.data)}}>最新商品</li>\r\n                    <li onClick={()=>{\r\n                                      setFeaturedproducts(!featuredproducts)\r\n                                      setSortname(\"價格:從高到低\")\r\n                                     props.PriceHightToLow(props.data)}}>價格:從高到低</li>\r\n                    <li onClick={()=>{\r\n                                      setFeaturedproducts(!featuredproducts)\r\n                                      setSortname(\"價格:從低到高\")\r\n                                     props.PriceLowToHight(props.data)}}>價格:從低到高</li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { data: store.getItems }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      PriceHightToLow,\r\n      PriceLowToHight,\r\n      NewTimeSort,\r\n      HotItemsSort,\r\n      AllItemsSort,\r\n      ResetListItemNameCom,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CompareProductSort))\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  Switch,\r\n  withRouter,\r\n} from 'react-router-dom'\r\n//scss\r\nimport './chin-css/items.scss'\r\nimport '../css/main.scss'\r\n//components\r\nimport Commoditycomponents2 from './components/Commoditycomponents2'\r\nimport Commoditycomponents from './components/Commoditycomponents'\r\nimport Commoditylist from './components/Commoditylist'\r\nimport CompareProductSort from './components/CompareProductSort'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport { formServerItemsData, ResetListItemName,ResetListItemNameCom,ItemscompareNo } from './actions/itemsActions'\r\n\r\nimport {fromServerMbLikeData} from '../stacey/actions/couponAction'\r\n\r\n\r\nfunction Headset(props) {\r\n  const [englishnameHeadset, setEnglishnameHeadset] = useState('HEADPHONE/SPEAKER')\r\n  const [delitems,setDelitems] = useState()\r\n  const [commodity, setCommdity] = useState(false)\r\n  const [commodityPrice, setCommdityPrice] = useState(false)\r\n\r\n  //會員id\r\n  const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    props.formServerItemsData('headset')\r\n    if(mb_id) {\r\n      props.fromServerMbLikeData(mb_id)\r\n    }\r\n    return ()=> props.ResetListItemName()\r\n  }, [])\r\n\r\n  const itemlist = props.data.map((val, ind) => {\r\n    //判斷是否我的最愛\r\n    let mbLike = false\r\n    if(props.mbLikeData.findIndex((v)=>v.itemId === val.itemId) > -1 ){\r\n      mbLike = true\r\n    }\r\n    if (props.headset.indexOf(val.name) > -1) {\r\n      return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind} mbLike={mbLike}/>\r\n    }\r\n  })\r\n  const allitemlist = props.data.map((val, ind) => {\r\n    //判斷是否我的最愛\r\n    let mbLike = false\r\n    if(props.mbLikeData.findIndex((v)=>v.itemId === val.itemId) > -1 ){\r\n      mbLike = true\r\n    }\r\n    return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind} mbLike={mbLike}/>\r\n  })\r\n  const commodityItems = props.data.map((val, ind) => {\r\n    if (props.headset.indexOf(val.name) > -1) {\r\n      return <Commoditycomponents2 key={val.itemId} data={val} arrIndex={ind} delitems={delitems} sendx={v=>{setDelitems(v)}}/>\r\n    }\r\n  })\r\n  const allcommodityItems = props.data.map((val, ind) => {\r\n    return <Commoditycomponents2 key={val.itemId} data={val} arrIndex={ind} delitems={delitems} sendx={v=>{setDelitems(v)}}/>\r\n  })\r\n  const ItemPrice = props.data.map((val,ind)=>{\r\n    if(props.ItemPrice.itemPrice < val.itemPrice || props.ItemPrice2.itemPrice2 > val.itemPrice){\r\n        // console.log(val)\r\n      return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind} />\r\n    }\r\n  })\r\n\r\n\r\n  return (\r\n    <>\r\n      <main className=\"chin-main\">\r\n        <section className=\"chin-section\">\r\n          <Commoditylist data={props.data}  price={commodityPrice}  sendprice={v => {\r\n                setCommdityPrice(v)\r\n              }}/>\r\n          <div className=\"chin-commodity-title\">\r\n            <CompareProductSort\r\n              data={props.data}\r\n              englishname={englishnameHeadset}\r\n              test={commodity}\r\n              sendText={text => {\r\n                setCommdity(text)\r\n              }}\r\n            />\r\n            <div className=\"chin-commodity\">\r\n            {commodityPrice?ItemPrice:commodity\r\n                  ? \r\n                  props.headset.length\r\n                  ? commodityItems\r\n                  : allcommodityItems\r\n                  : \r\n                  props.headset.length\r\n                  ? itemlist\r\n                  : allitemlist}\r\n              {/* {commodity\r\n                ? props.headset.length\r\n                  ? commodityItems\r\n                  : allcommodityItems\r\n                : props.headset.length\r\n                ? itemlist\r\n                : allitemlist} */}\r\n            </div>\r\n            {commodity ? (\r\n              <div className=\"chin-article\">\r\n                <div className=\"chin-itemcompares\">\r\n                {props.compare.map((val,ind)=>{\r\n                  return(\r\n                      <div className=\"chin-compares\">\r\n                        <img src=\"./chin-img/x.svg\" className=\"chin-x\" onClick={()=>{\r\n                                                                                props.ItemscompareNo(false,val,props.compare)\r\n                                                                                setDelitems(val.itemId)\r\n                                                                                }}/>\r\n                        <div><img src={`/chin-img/images/${val.itemName}/${val.itemImg}`} className=\"chin-watch3\"/></div>\r\n                        <span>{val.itemName}</span>\r\n                      </div>\r\n                      )\r\n                })}\r\n                </div>\r\n                <div className=\"chin-button-compares\">{props.compare.length>1?\r\n                  <Link to=\"/Comparepagesheadset\" className=\"chin-com-a\"><button>功能比較</button></Link>:\r\n                    <Link to=\"/Comparepagesheadset\" className=\"chin-com-a\"><button disabled='true' style={{cursor:\"no-drop\"}}>功能比較</button></Link>}\r\n                    <button onClick={()=>{setCommdity(!commodity)\r\n                                        props.ResetListItemNameCom()}}>關閉</button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n             ''\r\n            )}\r\n            <div className=\"circle\">\r\n              <div className=\"circle1\">\r\n                <div className=\"circle3\"></div>\r\n                <div className=\"circle3\"></div>\r\n                <div className=\"circle3\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { data: store.getItems, \r\n           headset: store.getListitemName,\r\n           ItemPrice: store.getListitemPrice,\r\n           ItemPrice2:store.getListitemPrice2,\r\n           compare:store.getItemscompare,\r\n           mbLikeData:store.memberLikeData,\r\n          rest: store.reset}\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      formServerItemsData,\r\n      ResetListItemName,\r\n      ResetListItemNameCom,\r\n      ItemscompareNo,\r\n      fromServerMbLikeData,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(Headset)\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  Switch,\r\n  withRouter,\r\n} from 'react-router-dom'\r\n//scss\r\nimport './chin-css/items.scss'\r\nimport '../css/main.scss'\r\n//components\r\nimport Commoditycomponents2 from './components/Commoditycomponents2'\r\nimport Commoditycomponents from './components/Commoditycomponents'\r\nimport Commoditylist from './components/Commoditylist'\r\nimport CompareProductSort from './components/CompareProductSort'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport { formServerItemsData, ResetListItemName,ResetListItemNameCom,ItemscompareNo} from './actions/itemsActions'\r\n\r\nimport {fromServerMbLikeData} from '../stacey/actions/couponAction'\r\n\r\n\r\nfunction Watch(props) {\r\n  const [englishnameWatch, setEnglishnameWatch] = useState('WEARABLE DEVICES')\r\n  const [delitems,setDelitems] = useState()\r\n  const [commodity, setCommdity] = useState(false)\r\n  const [commodityPrice, setCommdityPrice] = useState(false)\r\n\r\n  //會員id\r\n  const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    props.formServerItemsData('watch')\r\n    if(mb_id) {\r\n      props.fromServerMbLikeData(mb_id)\r\n    }\r\n    return ()=> props.ResetListItemName()\r\n  }, [])\r\n\r\n  const itemlist = props.data.map((val, ind) => {\r\n    //判斷是否我的最愛\r\n    let mbLike = false\r\n    if(props.mbLikeData.findIndex((v)=>v.itemId === val.itemId) > -1 ){\r\n      mbLike = true\r\n    }\r\n    if (props.watch.indexOf(val.name) > -1) {\r\n      return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind} mbLike={mbLike} />\r\n    }\r\n  })\r\n\r\n  const allitemlist = props.data.map((val, ind) => {\r\n    //判斷是否我的最愛\r\n    let mbLike = false\r\n    if(props.mbLikeData.findIndex((v)=>v.itemId === val.itemId) > -1 ){\r\n      mbLike = true\r\n    }\r\n    return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind}  mbLike={mbLike}/>\r\n\r\n  })\r\n\r\n\r\n  const commodityItems = props.data.map((val, ind) => {\r\n    if (props.watch.indexOf(val.name) > -1) {\r\n      return <Commoditycomponents2 key={val.itemId} data={val} arrIndex={ind} delitems={delitems} sendx={v=>{setDelitems(v)}}/>\r\n    }\r\n  })\r\n  const allcommodityItems = props.data.map((val, ind) => {\r\n    return <Commoditycomponents2 key={val.itemId} data={val} arrIndex={ind} delitems={delitems} sendx={v=>{setDelitems(v)}}/>\r\n  })\r\n  const ItemPrice = props.data.map((val,ind)=>{\r\n    if(props.ItemPrice.itemPrice < val.itemPrice || props.ItemPrice2.itemPrice2 > val.itemPrice){\r\n        // console.log(val)\r\n      return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind} />\r\n    }\r\n  })\r\n  \r\n\r\n\r\n  return (\r\n    <>\r\n      <main className=\"chin-main\">\r\n        <section className=\"chin-section\">\r\n          <Commoditylist data={props.data} price={commodityPrice}  sendprice={v => {\r\n                setCommdityPrice(v)\r\n              }}/>\r\n          <div className=\"chin-commodity-title\">\r\n            <CompareProductSort\r\n              data={props.data}\r\n              englishname={englishnameWatch}\r\n              test={commodity}\r\n              sendText={text => {\r\n                setCommdity(text)\r\n              }}\r\n            />\r\n            <div className=\"chin-commodity\">\r\n              {commodityPrice?ItemPrice:commodity\r\n                  ? \r\n                  props.watch.length\r\n                  ? commodityItems\r\n                  : allcommodityItems\r\n                  : \r\n                  props.watch.length\r\n                  ? itemlist\r\n                  : allitemlist}\r\n              {/* {allitemlist} */}\r\n            </div>\r\n            {commodity ? (\r\n              <div className=\"chin-article\">\r\n                <div className=\"chin-itemcompares\">\r\n                {props.compare.map((val,ind)=>{\r\n                  return(\r\n                      <div className=\"chin-compares\">\r\n                        <img src=\"./chin-img/x.svg\" className=\"chin-x\" onClick={()=>{\r\n                                                                                props.ItemscompareNo(false,val,props.compare)\r\n                                                                                setDelitems(val.itemId)\r\n                                                                                }}/>\r\n                        <div><img src={`/chin-img/images/${val.itemName}/${val.itemImg}`} className=\"chin-watch3\"/></div>\r\n                        <span>{val.itemName}</span>\r\n                      </div>\r\n                      )\r\n                })}\r\n                </div>\r\n                <div className=\"chin-button-compares\">{props.compare.length>1?\r\n                  <Link to=\"/ComparepagesWatch\" className=\"chin-com-a\"><button>功能比較</button></Link>:\r\n                    <Link to=\"/ComparepagesWatch\" className=\"chin-com-a\"><button disabled='true' style={{cursor:\"no-drop\"}}>功能比較</button></Link>}\r\n                    <button onClick={()=>{setCommdity(!commodity)\r\n                                        props.ResetListItemNameCom()}}>關閉</button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n             ''\r\n            )}\r\n            <div className=\"circle\">\r\n              <div className=\"circle1\">\r\n                <div className=\"circle3\"></div>\r\n                <div className=\"circle3\"></div>\r\n                <div className=\"circle3\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { data: store.getItems, \r\n           watch: store.getListitemName,\r\n           compare:store.getItemscompare,\r\n           ItemPrice: store.getListitemPrice,\r\n          ItemPrice2:store.getListitemPrice2,\r\n          mbLikeData:store.memberLikeData,\r\n          rest:store.rest}\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      formServerItemsData,\r\n      ResetListItemName,\r\n      ResetListItemNameCom,\r\n      ItemscompareNo,\r\n      fromServerMbLikeData,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(Watch)\r\n)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link} from 'react-router-dom'\r\nimport {\r\n  IoIosStarOutline,\r\n  IoIosStar,\r\n} from 'react-icons/io'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n    AddCart,\r\n    getShopCart,\r\n    AddCartItem,\r\n    DelCartItem,\r\n    CalShopCart,\r\n    Handle_AddMyFavorite,AddCartNewItem_sendcal} from '../../mao/actions/ShopCartAction'\r\n    \r\nimport {addMbLikeData,delMbLikeData} from '../../stacey/actions/couponAction'\r\n\r\n\r\nimport { FiHeart ,FiShoppingBag} from 'react-icons/fi'\r\nimport Swal from 'sweetalert2'\r\nfunction ProductDescription(props){\r\n\r\nconst [forMyfavor,setForMyfavor]=useState(false)\r\n\r\nconst [alertType,setAlertType]=useState('')\r\n\r\n//會員\r\nconst mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\n\r\nconst checkAlertType=showTpye=>{\r\n  switch(showTpye){\r\n      case '加入購物車':\r\n          Swal.fire({\r\n              position: 'center',\r\n              icon: 'success',\r\n              title: '已加入購物車',\r\n              showConfirmButton: false,\r\n              timer: 1000\r\n            })\r\n            break\r\n      case '加入我的最愛':\r\n          Swal.fire({\r\n              position: 'center',\r\n              icon:'success',\r\n              title: '已加入我的最愛',\r\n              showConfirmButton: false,\r\n              timer: 1000\r\n            })\r\n            break\r\n            case '已取消我的最愛':\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon:'error',\r\n                    title: '已取消我的最愛',\r\n                    showConfirmButton: false,\r\n                    timer: 1000\r\n                  })\r\n                  break\r\n      default:\r\n          break                \r\n  }\r\n}\r\n    return(\r\n        <div className=\"chin-productname\">\r\n        <h6>{props.data[0] ? props.data[0].name : ''}</h6>\r\n        <h5>{props.data[0] ? props.data[0].itemName : ''}</h5>\r\n        <div className=\"chin-starimg\">\r\n          <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n          <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n          <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n          <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n          <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n        <span>5.0 (5)</span>\r\n        </div>\r\n        <h4>NT{props.data[0] ? props.data[0].itemPrice : ''}</h4>\r\n        <p>\r\n          {props.data[0] ? props.data[0].itemDescription : ''}\r\n        </p>\r\n        <div className=\"chin-myfavourite-shopping\">\r\n          <div className=\"chin-myfavourite\">\r\n            <div className=\"chin-shopping\">\r\n              <button  onClick={()=>{\r\n                              props.AddCartNewItem_sendcal(props.data[0],props.AddItem) \r\n                              checkAlertType(\"加入購物車\")\r\n                            }}>加入購物車</button>\r\n              <Link to='/OrderInfo' onClick={()=>{\r\n                              props.AddCartNewItem_sendcal(props.data[0],props.AddItem) \r\n                              checkAlertType(\"加入購物車\")\r\n                            }}>立即購買</Link>\r\n            </div>\r\n          </div>\r\n          <button className=\"chin-favourite\"  \r\n          onClick={()=>{\r\n            if(mb_id){\r\n              props.mbLike ? props.delMbLikeData(mb_id,props.data[0]) : props.addMbLikeData(mb_id,props.data[0])\r\n            // props.Handle_AddMyFavorite(!props.mbLike,props.data, props.MyFavorite)\r\n            // setForMyfavor(!forMyfavor)\r\n            let info=!props.mbLike?\"加入我的最愛\":\"已取消我的最愛\"\r\n            checkAlertType(info)\r\n            }else{\r\n              alert('請先登入')\r\n            }}}>\r\n            <FiHeart className={props.mbLike?'Mao-like-red':''}/>\r\n            <span>{!props.mbLike?\"加入我的最愛\":\"我的最愛\"}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    AddItem: store.AddItem,\r\n    MyFavorite: store.MyFavorite,\r\n    CtrlData: store.ControlDataState,\r\n  }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      AddCart,\r\n      getShopCart,\r\n      AddCartItem,\r\n      DelCartItem,\r\n      CalShopCart,\r\n      Handle_AddMyFavorite,\r\n      AddCartNewItem_sendcal,\r\n      delMbLikeData,\r\n      addMbLikeData,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDescription)\r\n// export default ProductDescription","import React from 'react'\r\n\r\n\r\nfunction DescriptionTechnique(props){\r\n    return(<>\r\n    <div className=\"chin-productdescription-technicalspecifications\">\r\n        <div className=\"chin-productdescription\">\r\n          <h3>商品敘述</h3>\r\n            <p> {props.data[0] ? props.data[0].itemDescription2 : ''}</p>\r\n              <h3>技術規格</h3>\r\n        </div>\r\n        <div className=\"chin-technicalspecifications\">\r\n          <div className=\"chin-size-digital\">\r\n            <div className=\"chin-size\">\r\n              <ul>\r\n                <li>尺寸 (長x寬x高)</li>\r\n                <li>重量 (g)</li>\r\n                <li>定位系統</li>\r\n                <li>藍牙版本</li>\r\n                <li>RAM (GB)</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"chin-digital\">\r\n              <ul>\r\n                <li>39.5 x 39.5 x 10.5mm</li>\r\n                <li>25</li>\r\n                <li>GPS,Glonass,Beidou,Galileo</li>\r\n                <li>Bluetooth v4.2</li>\r\n                <li>0.75GB</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div className=\"chin-memory-narrative-p\">\r\n            <div className=\"chin-memory-narrative\">\r\n              <div className=\"chin-memory\">\r\n                <ul>\r\n                  <li>內建使用記憶體 (GB)</li>\r\n                  <li>內建可用記憶體* (GB)</li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"chin-narrative\">\r\n                <ul>\r\n                  <li>4GB</li>\r\n                  <li>1.5GB</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <p>\r\n              作業系统及預設應用程序將占用部分儲存空間，實際用户可使用儲存空間將少於規格所標示的記憶體容量；作業系统或軟體版本的更新可能會導致用户可使用空間容量有所改變。\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>)\r\n}\r\n\r\nexport default DescriptionTechnique","import React,{useState,useEffect, useReducer} from 'react'\r\n//classnames\r\nimport classNames from 'classnames'\r\nimport Swal from 'sweetalert2'\r\nimport {\r\n  IoIosStarOutline,\r\n  IoIosStar,\r\n} from 'react-icons/io'\r\nimport {BrowserRouter as Router,Route,Link,Switch,withRouter} from 'react-router-dom'\r\n//redux\r\nimport {connect} from 'react-redux'\r\n//action\r\nimport {bindActionCreators} from 'redux'\r\nimport {formServerUsersData} from '../actions/itemsActions'\r\n\r\nfunction UserComment(props){\r\n\r\n  const [postacomment,setPostacomment]=useState(false)\r\n  const [start,setStart] = useState([])\r\nconst PostacommentClassName= classNames('chin-usercomment-fractionalstars',{active:postacomment})\r\nconst itemId = props.match.params.itemId ? props.match.params.itemId : ''\r\n\r\nlet bigbox=[]\r\nlet starbox=[]\r\nlet starItem=(\r\n  <IoIosStar style={{width:'20px',height:'20px',color:'#FFDD00'}}/>\r\n)\r\nlet starItem2=(\r\n  <IoIosStarOutline style={{width:'20px',height:'20px'}}/>\r\n)\r\nconst Rank = props.UserData.map((v,i)=>{\r\n  for(let i=0;i<v.rank;i++) {\r\n    starbox.push(starItem)\r\n  }\r\n  for(let k=v.rank;k<5;k++){\r\n    starbox.push(starItem2)\r\n  }\r\n  bigbox.push(starbox)\r\n  starbox=[]\r\n })\r\n const pioaks = ()=>\r\n Swal.fire({\r\n  icon: 'error',\r\n  title: '請購買此產品才能進行發表評論!!',\r\n})\r\n\r\nuseEffect(()=>{\r\n  props.formServerUsersData(itemId)\r\n  },[])\r\n\r\n\r\n    return(\r\n        <>\r\n        <div className={PostacommentClassName}>\r\n        <h3>用戶評論</h3>\r\n        <div className=\"chin-usercomment\">\r\n          <div className=\"chin-fractionalstars\">\r\n            <div className=\"chin-fractional\">\r\n              <p>5.0</p>\r\n              <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n              <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n              <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n              <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n              <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n              <p>{props.UserData.length}則評論</p>\r\n            </div>\r\n            <div className=\"chin-commentstars\">\r\n              <div>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n              </div>\r\n              <div>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStarOutline style={{width:'25px',height:'25px'}}/>\r\n              </div>\r\n              <div>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStarOutline style={{width:'25px',height:'25px'}}/>\r\n                <IoIosStarOutline style={{width:'25px',height:'25px'}}/>\r\n              </div>\r\n              <div>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStarOutline style={{width:'25px',height:'25px'}}/>\r\n                <IoIosStarOutline style={{width:'25px',height:'25px'}}/>\r\n                <IoIosStarOutline style={{width:'25px',height:'25px'}}/>\r\n              </div>\r\n              <div>\r\n                <IoIosStar style={{width:'25px',height:'25px',color:'#FFDD00'}}/>\r\n                <IoIosStarOutline style={{width:'25px',height:'25px'}}/>\r\n                <IoIosStarOutline style={{width:'25px',height:'25px'}}/>\r\n                <IoIosStarOutline style={{width:'25px',height:'25px'}}/>\r\n                <IoIosStarOutline style={{width:'25px',height:'25px'}}/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"chin-sort-discuss\">\r\n            <div className=\"chin-discuss\">\r\n              <button onClick={()=>{pioaks()}}>發表評論</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"chin-discusspost\">\r\n            <h3>發表評論</h3>\r\n            <div className=\"chin-disclopsaa\">\r\n              <div>\r\n                <p>評分</p>\r\n                <div className=\"chin-startsuser\">\r\n                  <IoIosStarOutline style={{width:'20px',height:'20px'}}/>\r\n                  <IoIosStarOutline style={{width:'20px',height:'20px'}}/>\r\n                  <IoIosStarOutline style={{width:'20px',height:'20px'}}/>\r\n                  <IoIosStarOutline style={{width:'20px',height:'20px'}}/>\r\n                  <IoIosStarOutline style={{width:'20px',height:'20px'}}/>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <p>標題</p>\r\n                <input type=\"text\" />\r\n              </div>\r\n              <div>\r\n                <p>內容</p>\r\n                <textarea type=\"text\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"chin-loopkpi\">\r\n              <button>取消</button>\r\n              <button>發表評論</button>\r\n            </div>\r\n        </div>\r\n        <div className=\"chin-sortspan\">\r\n            {/* <button>\r\n              <span>排序</span>\r\n              <img src=\"/chin-img/chevron-down-black.svg\" alt=\"\" />\r\n            </button> */}\r\n        </div>\r\n      </div>\r\n      {props.UserData.map((val,ind)=>{\r\n        return(\r\n      <div className=\"chin-avatar-name-p\">\r\n        <div className=\"chin-avatar-name\">\r\n          <div className=\"chin-avatar\">\r\n            <img src={`/chin-img/${val.img}`} alt=\"\" />\r\n          </div>\r\n          <div>\r\n          {bigbox[ind]}\r\n            <h6>{val.userName}</h6>\r\n            <span>1個月前</span>\r\n          </div>\r\n          <div className=\"chin-rwd-avatar-circle-circle\">\r\n            <span className=\"chin-rwd-avatar-circle\"></span>\r\n            <span className=\"chin-rwd-avatar-circle\"></span>\r\n            <span className=\"chin-rwd-avatar-circle\"></span>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h1>{val.commentText2}</h1>\r\n          <p>\r\n          {val.commentText}\r\n          </p>\r\n          <div className=\"chin-reply\">\r\n            <a href=\"\">回復</a>\r\n            <a href=\"\">有幫助</a>\r\n            <a href=\"\">檢舉</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      )\r\n    })}\r\n      </>\r\n    )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { UserData:store.getUsersData,\r\n         }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      formServerUsersData,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(UserComment)\r\n)","import React,{useState,useEffect} from 'react'\r\nimport Slider from \"react-slick\"\r\n//classnames\r\nimport classNames from 'classnames'\r\nimport {BrowserRouter as Router,Route,Link,Switch,withRouter} from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport { FiHeart ,FiShoppingBag} from 'react-icons/fi'\r\nimport {\r\n  IoIosStarOutline,\r\n  IoIosStar,\r\n} from 'react-icons/io'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {fromServerMbLikeData} from '../../stacey/actions/couponAction'\r\n\r\nfunction RelatedHistory(props){\r\nconst [newHisitem,setNewHisitem]=useState([])\r\nconst [hisrelitem,setHisrelitem]=useState(false)\r\nconst Itemhis = useSelector(state => state.getItemNamehis)\r\nconst itemsCategoryId = useSelector(state => state.getitemCategoryId)\r\nconst dispatch = useDispatch()\r\nconst dataname = props.data[0]?props.data[0].name:''\r\nlet dataitemCategoryId = props.data[0]?props.data[0].itemCategoryId:''\r\n\r\nconst itemClassName = classNames('chin-historicalrecord', {\r\n  active:hisrelitem \r\n})\r\n\r\n//會員id\r\nconst mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\nasync function ItemToLocalStorage(value) {\r\n\r\n  const currentHisitem = JSON.parse(localStorage.getItem('hisitem')) || []\r\n  if(currentHisitem.length===0){\r\n    const newHisitem = [...currentHisitem, value]\r\n    localStorage.setItem('hisitem', JSON.stringify(newHisitem))\r\n  }\r\n\r\n  let box=[]\r\n  currentHisitem.map((val,ind)=>{\r\n    box.push(val.itemId)\r\n  })\r\n    let index = box.findIndex(e=>e==value.itemId)\r\n    if(index === -1){\r\n      const newHisitem = [...currentHisitem, value]\r\n      localStorage.setItem('hisitem', JSON.stringify(newHisitem))\r\n    }else{console.log('asdsadasdsd')}\r\n  // 設定資料\r\n  setNewHisitem(newHisitem)\r\n}\r\nasync function getItemToLocalStorage() {\r\n\r\n  const currentHisitem = localStorage.getItem('hisitem') || []\r\n\r\n  // 設定資料\r\n  if(currentHisitem.length > 0){\r\n    setNewHisitem(JSON.parse(currentHisitem))\r\n  }else{\r\n    setNewHisitem([])\r\n  }\r\n\r\n}\r\n  function SamplePrevArrow(props) {\r\n    const { className, style, onClick } = props;\r\n    return (\r\n        <img src=\"/chin-img/chevron-left.svg\"\r\n          className=\"chin-hiarr\" onClick={onClick}/>\r\n    );\r\n  }\r\n  function SampleNextArrow(props) {\r\n\r\n    const { className, style, onClick } = props;\r\n    return (\r\n        <img src=\"/chin-img/chevron-right.svg\"\r\n          className=\"chin-hiarr2\" onClick={onClick}/>\r\n    );\r\n  }\r\n\r\n  const settings = {\r\n    infinite: false,\r\n    speed: 500,\r\n    slidesToShow: 4,\r\n    slidesToScroll: 4,\r\n    initialSlide: 0,\r\n    nextArrow: <SampleNextArrow />,\r\n    prevArrow: <SamplePrevArrow />,\r\n    responsive: [\r\n      {\r\n        breakpoint: 1024,\r\n        settings: {\r\n          slidesToShow: 3,\r\n          slidesToScroll: 3,\r\n          infinite: true,\r\n          dots: true\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 600,\r\n        settings: {\r\n          slidesToShow: 2,\r\n          slidesToScroll: 2,\r\n          initialSlide: 2\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 480,\r\n        settings: {\r\n          slidesToShow: 1,\r\n          slidesToScroll: 1\r\n        }\r\n      }\r\n    ]\r\n  };\r\n  const showItemshis = val => {\r\n    return { type: 'SHOW_ITEMSHIS', value: val }\r\n  }\r\n  async function formServerItemshis(val) {\r\n \r\n    const request = new Request(`http://localhost:5500/items/itemhis/${val}`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    dispatch(showItemshis(data))\r\n  }\r\n  const showitemCategoryId = val => {\r\n    return { type: 'SHOW_ITEMSCATEGORY', value: val }\r\n  }\r\n  async function formServeritemCategoryId(val) {\r\n\r\n    const request = new Request(`http://localhost:5500/items/itemCategoryId/${val}`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    dispatch(showitemCategoryId(data))\r\n  }\r\n  useEffect(() => {\r\n    formServeritemCategoryId(dataitemCategoryId)\r\n    formServerItemshis(dataname)\r\n    getItemToLocalStorage()\r\n  }, [props.data])\r\n\r\n  \r\n    return(\r\n        <>\r\n        <div className={itemClassName}>\r\n          <button className=\"chin-hisrel1\" onClick={()=>{setHisrelitem(false)}}>相關商品</button>\r\n          <button className=\"chin-hisrel2\" onClick={()=>{setHisrelitem(true)}}>歷史紀錄</button>\r\n          <div className=\"chin-borderbottom\"></div>\r\n        </div>\r\n      <div className=\"chin-relatedproducts\">\r\n      {hisrelitem?\r\n      <>\r\n        {newHisitem.length<5?\r\n        <img src=\"/chin-img/chevron-left.svg\"\r\n          className=\"chin-hiarr\"/>:''}\r\n        <Slider {...settings}>\r\n            {newHisitem.map((val,ind)=>{\r\n              //判斷是否我的最愛\r\n              let mbLike = false\r\n              if(props.mbLikeData.findIndex((v)=>v.itemId === val.itemId) > -1 ){\r\n                mbLike = true\r\n              }\r\n              return(<div className=\"chin-commodity2\">\r\n                            <div className=\"chin-commodity-item2\">\r\n                              <ul className=\"chin-star-heart-bag2\">\r\n                                <li>\r\n                                  <IoIosStar className=\"chin-star2\"/>\r\n                                </li>\r\n                                <li>\r\n                                  <IoIosStar className=\"chin-star2\"/>\r\n                                </li>\r\n                                <li>\r\n                                  <IoIosStar className=\"chin-star2\" />\r\n                                </li>\r\n                                <li>\r\n                                  <IoIosStar className=\"chin-star2\" />\r\n                                </li>\r\n                                <li>\r\n                                  <IoIosStar className=\"chin-star2\" />\r\n                                </li>\r\n                                <li className=\"chin-heart-bag2\">\r\n                                  <FiHeart className={`chin-heart2 ${mbLike ? 'Mao-like-red':''}`} src=\"/chin-img/heart.svg\" alt=\"\" />\r\n                                  <img className=\"chin-bag2\" src=\"/chin-img/shopping-bag.svg\"  alt=\"\" />\r\n                                </li>\r\n                              </ul>\r\n                              <Link to={'/commidty/'+ val.itemId}>\r\n                                <img className=\"chin-watch2\"  src={`/chin-img/images/${val.itemName}/${val.itemImg}`}  alt=\"\" />\r\n                                <h6>{val.name}</h6>\r\n                                <p>{val.itemName}</p>\r\n                                <h5>NT{val.itemPrice}</h5>\r\n                              </Link>\r\n                            </div>\r\n                          </div>)\r\n            })}\r\n      </Slider>\r\n      {newHisitem.length<5?\r\n      <img src=\"/chin-img/chevron-right.svg\"\r\n          className=\"chin-hiarr2\"/>:''}\r\n            </>\r\n        :\r\n        <Slider {...settings}>\r\n          {Itemhis.length < 5 ?\r\n            itemsCategoryId.map((val,ind)=>{\r\n              //判斷是否我的最愛\r\n              let mbLike = false\r\n              if(props.mbLikeData.findIndex((v)=>v.itemId === val.itemId) > -1 ){\r\n                mbLike = true\r\n              }\r\n            return(<div className=\"chin-commodity2\">\r\n                      <div className=\"chin-commodity-item2\">\r\n                        <ul className=\"chin-star-heart-bag2\">\r\n                          <li>\r\n                            <IoIosStar className=\"chin-star2\"/>\r\n                          </li>\r\n                          <li>\r\n                            <IoIosStar className=\"chin-star2\" />\r\n                          </li>\r\n                          <li>\r\n                            <IoIosStar className=\"chin-star2\"/>\r\n                          </li>\r\n                          <li>\r\n                            <IoIosStar className=\"chin-star2\" />\r\n                          </li>\r\n                          <li>\r\n                            <IoIosStar className=\"chin-star2\"/>\r\n                          </li>\r\n                          <li className=\"chin-heart-bag2\">\r\n                            <img className={`chin-heart2 ${mbLike ? 'Mao-like-red':''}`} src=\"/chin-img/heart.svg\" alt=\"\" />\r\n                            <img className=\"chin-bag2\" src=\"/chin-img/shopping-bag.svg\"  alt=\"\" />\r\n                          </li>\r\n                        </ul>\r\n                        <Link to={'/commidty/'+ val.itemId} onClick={()=>{ItemToLocalStorage(val)}}>\r\n                          <img className=\"chin-watch2\"  src={`/chin-img/images/${val.itemName}/${val.itemImg}`}  alt=\"\" />\r\n                          <h6>{val.name}</h6>\r\n                          <p>{val.itemName}</p>\r\n                          <h5>NT{val.itemPrice}</h5>\r\n                        </Link>\r\n                      </div>\r\n                    </div>)\r\n          })\r\n          :\r\n          Itemhis.map((val,ind)=>{\r\n            return(<div className=\"chin-commodity2\">\r\n                      <div className=\"chin-commodity-item2\">\r\n                        <ul className=\"chin-star-heart-bag2\">\r\n                          <li>\r\n                            <IoIosStar className=\"chin-star2\"/>\r\n                          </li>\r\n                          <li>\r\n                            <IoIosStar className=\"chin-star2\" />\r\n                          </li>\r\n                          <li>\r\n                            <IoIosStar className=\"chin-star2\"/>\r\n                          </li>\r\n                          <li>\r\n                            <IoIosStar className=\"chin-star2\" />\r\n                          </li>\r\n                          <li>\r\n                            <IoIosStar className=\"chin-star2\"/>\r\n                          </li>\r\n                          <li className=\"chin-heart-bag2\">\r\n                            <img className=\"chin-heart2\" src=\"/chin-img/heart.svg\" alt=\"\" />\r\n                            <img className=\"chin-bag2\" src=\"/chin-img/shopping-bag.svg\"  alt=\"\" />\r\n                          </li>\r\n                        </ul>\r\n                        <Link to={'/commidty/'+ val.itemId} onClick={()=>{ItemToLocalStorage(val)}}>\r\n                          <img className=\"chin-watch2\"  src={`/chin-img/images/${val.itemName}/${val.itemImg}`}  alt=\"\" />\r\n                          <h6>{val.name}</h6>\r\n                          <p>{val.itemName}</p>\r\n                          <h5>NT{val.itemPrice}</h5>\r\n                        </Link>\r\n                      </div>\r\n                    </div>)\r\n          })\r\n        }\r\n        </Slider>\r\n      }\r\n      </div>\r\n      </>\r\n    )\r\n}\r\n\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { mbLikeData:store.memberLikeData,\r\n         }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      fromServerMbLikeData,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(RelatedHistory)\r\n)","import React, { useState, useEffect, useRef } from 'react'\r\nimport Slider from 'react-slick'\r\n\r\nfunction Bigitem(props) {\r\n  const [state, setState] = useState({\r\n    nav1: null,\r\n    nav2: null,\r\n  })\r\n  const slider1 = useRef()\r\n  const slider2 = useRef()\r\n\r\n  let imgUrl = props.data.data[0]\r\n    ? `/chin-img/images/${props.data.data[0].itemImg}`\r\n    : ''\r\n  function SamplePrevArrow(props) {\r\n\r\n    const { className, style, onClick } = props\r\n    return (\r\n        <img\r\n          src=\"/chin-img/chevron-left.svg\"\r\n          className=\"chin-arr\"\r\n          onClick={onClick}\r\n        />\r\n    )\r\n  }\r\n  function SampleNextArrow(props) {\r\n\r\n    const { className, style, onClick } = props\r\n    return (\r\n        <img\r\n          src=\"/chin-img/chevron-right.svg\"\r\n          className=\"chin-arr2\"\r\n          onClick={onClick}\r\n        />\r\n    )\r\n  }\r\n  const settingCarousel = {\r\n    swipeToSlide: true,\r\n    focusOnSelect: true,\r\n    nextArrow: <SampleNextArrow />,\r\n    prevArrow: <SamplePrevArrow />,\r\n  }\r\n  const settingsRWD = {\r\n    dots:true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    arrows:false,\r\n  };\r\n  useEffect(() => {\r\n    setState({ nav1: slider1.current, nav2: slider2.current })\r\n  }, [])\r\n  const { nav1, nav2 } = state\r\n  return (\r\n    <>\r\n      <div>\r\n        <div className=\"chin-sliderRWD\">\r\n        <Slider {...settingsRWD}>\r\n          {props.data.multiple.map((val, ind) => {\r\n                return (\r\n                  <div>\r\n                    <img\r\n                      key={ind}\r\n                      src={`/chin-img/images/${val.itemName}/${val.multipleImageImg}`}\r\n                      className=\"chin-sm-RWD\"\r\n                    />\r\n                  </div>\r\n                )\r\n              })}\r\n        </Slider>\r\n        </div>\r\n        <div className='bk-bigitem-wrapper'>\r\n          <div className=\"chin-bigitem\">\r\n            <Slider\r\n              asNavFor={nav2}\r\n              ref={slider=>(slider1.current= slider)}\r\n              arrows={false}\r\n              slidesToShow={props.data.multiple.length === 0 ? 0 : 1}\r\n            >\r\n              {props.data.multiple.map((val, ind) => {\r\n                return (\r\n                  <div>\r\n                    <img\r\n                      key={ind}\r\n                      src={`/chin-img/images/${val.itemName}/${val.multipleImageImg}`}\r\n                      className=\"chin-smallitem-img\"\r\n                    />\r\n                  </div>\r\n                )\r\n              })}\r\n            </Slider>\r\n          </div>\r\n        </div>\r\n        <div className=\"chin-smallitem\">\r\n          <Slider\r\n            asNavFor={nav1}\r\n            ref={slider=>(slider2.current= slider)}\r\n            slidesToShow={props.data.multiple.length === 0 ? 0 : 4}\r\n            {...settingCarousel}>\r\n            {props.data.multiple.map((val, ind) => {\r\n              return (\r\n                <div>\r\n                  <img\r\n                    key={ind}\r\n                    src={`/chin-img/images/${val.itemName}/${val.multipleImageImg}`}\r\n                    className=\"chin-smallitem-img\"\r\n                  />\r\n                </div>\r\n              )\r\n            })}\r\n          </Slider>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Bigitem\r\n","import React, { useState, useEffect } from 'react'\r\nimport {BrowserRouter as Router,Route,Link,Switch,withRouter} from 'react-router-dom'\r\nimport './chin-css/commidty.scss'\r\nimport '../css/main.scss'\r\n\r\n//components\r\nimport ProductDescription from './components/ProductDescription'\r\nimport DescriptionTechnique from './components/DescriptionTechnique'\r\nimport UserComment from './components/UserComment'\r\nimport RelatedHistory from './components/RelatedHistory'\r\nimport Bigitem from './components/Bigitem'\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport { commidtyItemId,multiple_imagesItemId } from './actions/itemsActions'\r\nimport {fromServerMbLikeData} from '../stacey/actions/couponAction'\r\n\r\n\r\nfunction Commidty(props) {\r\n  // console.log('back', props.data)\r\n\r\n  const itemId = props.match.params.itemId ? props.match.params.itemId : ''\r\n\r\n  //會員id\r\n  const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\n  let mbLike = false\r\n\r\n  useEffect(() => {\r\n    props.commidtyItemId(itemId)\r\n\r\n    props.multiple_imagesItemId(itemId)\r\n    if(mb_id) {\r\n      props.fromServerMbLikeData(mb_id)\r\n    }\r\n\r\n  }, [itemId])\r\n \r\n  if(props.mbLikeData && props.data[0]){\r\n    if(props.mbLikeData.findIndex((v)=>v.itemId === props.data[0].itemId) > -1 ){\r\n      mbLike = true\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <main>\r\n        <div>\r\n          <div className=\"chin-productdetails\">\r\n            <Bigitem data={props}/>\r\n            <ProductDescription data={props.data} mbLike={mbLike}/>\r\n          </div>\r\n        </div>\r\n        <DescriptionTechnique data={props.data}/>\r\n        <UserComment/>\r\n        <RelatedHistory data={props.data}/>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { data: store.getItemId ,\r\n           multiple: store.getMultipleItemId,\r\n           AddItem: store.AddItem,\r\n           mbLikeData:store.memberLikeData,\r\n        }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      commidtyItemId,multiple_imagesItemId,fromServerMbLikeData,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(Commidty)\r\n)\r\n","import React from 'react'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\n\r\nfunction  ComparepagesHardwareSpecifications(props){\r\n    return(\r\n    <>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>類型</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>介面語言</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data2}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>機台尺寸(不含錶帶)</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data3}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>螢幕尺寸</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data4}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>螢幕解析度</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data5}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>螢幕類型</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data6}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>機器重量</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data7}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>腕帶材質</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data8}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>錶殼材質</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data9}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>特殊材質</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data10}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>電池種類</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data11}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>電池效能(最長可達)</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data12}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>防水等級</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data13}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>儲存空間</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data14}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>無線傳輸介面</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data15}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>電腦傳輸介面</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data16}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>GPS高感度晶片</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data17}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>內建加速度計</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data18}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>氣壓式高度計</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data19}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>振動提示</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data20}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>聲音提示</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data21}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>手腕式心率感測</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data22}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>支援心率廣播</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data23}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>電子羅盤</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data24}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>支援ANT+感測器</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data25}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>自動同步</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data26}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    </>\r\n    )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {  compare: store.getItemscompare,\r\n            }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(ComparepagesHardwareSpecifications)","import React,{useState,useEffect} from 'react'\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\n\r\nfunction  ComparepagesSmartWatch(props){\r\n\r\n    return(\r\n    <>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>手錶模式</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data27}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>智慧提示</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data28}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>音樂控制</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data29}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>尋找手機</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data30}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>尋找裝置</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data31}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>VIRB控制</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data32}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>鬧鐘功能</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data33}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        \r\n    </>\r\n    )\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {  compare: store.getItemscompare,\r\n            }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(ComparepagesSmartWatch)\r\n  \r\n  ","import React from 'react'\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\n\r\nfunction  ComparepagesOtherFunctions(props){\r\n    return(\r\n    <>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>GroupTrack多人即時追蹤</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data34}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>內建地圖</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data35}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>地圖導航功能</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data36}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>航線規畫</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data37}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>固定距離航線規劃</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data38}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>預載專用自行車道地圖</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data39}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>熱門路線導航功能</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data40}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>計算機</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data41}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>左右雙腳功率</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data42}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>亮度流明</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data43}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>血氧感測功能</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data44}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>全天候壓力偵測</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data45}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>REM睡眠偵測</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data46}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>呼吸頻率偵測</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data47}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>異常心率警示</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data48}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>音樂播放(MP3/AAC)</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data49}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>熱適應力</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data50}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>高度適應力</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data51}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>訓練負荷焦點</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data52}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>事故偵測</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data53}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>援助通知</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data54}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>防盜警報</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data55}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>飲水追蹤</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data56}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    </>\r\n    )\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {  compare: store.getItemscompare,\r\n            }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(ComparepagesOtherFunctions)","import React from 'react'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Link,\r\n    Switch,\r\n    withRouter,\r\n  } from 'react-router-dom'\r\nimport '../chin-css/comparepages.scss'\r\nimport '../../css/main.css'\r\n//components\r\nimport ComparepagesHardwareSpecifications from './components/ComparepagesHardwareSpecifications'\r\nimport ComparepagesSmartWatch from './components/ComparepagesSmartWatch'\r\nimport ComparepagesOtherFunctions from './components/ComparepagesOtherFunctions'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  AddCartNewItem_sendcal\r\n} from  '../../mao/actions/ShopCartAction'\r\n\r\nfunction ComparepagesWatch(props){\r\n\r\nreturn(\r\n    <>\r\n    <main className=\"chin-main-item\">\r\n            <div className=\"chin-peritem-item\">\r\n                <div className=\"chin-functionfield\">\r\n                    <Link to=\"/watch\"><p>選擇其他產品進行比較 ></p></Link>\r\n                </div>\r\n                {props.compare.map((val,ind)=>{\r\n                  {/* console.log(val) */}\r\n                return( \r\n                        <>\r\n                        <div className=\"chin-item-field\">\r\n                            <div className=\"chin-peritem\">\r\n                                <img src={`/chin-img/images/${val.itemName}/${val.itemImg}`} alt=\"\" />\r\n                                <h6>{val.name}</h6>\r\n                                <p>{val.itemName}</p>\r\n                                <h5>NT{val.itemPrice}</h5>\r\n                            </div>\r\n                            <div className=\"chin-item\">\r\n                            <Link to={'/commidty/'+ val.itemId}><button>了解更多</button></Link>\r\n                            <Link to='/OrderInfo' onClick={()=>{\r\n                              props.AddCartNewItem_sendcal(val,props.AddItem)\r\n                            }}><button>立即購買</button></Link>\r\n                            </div>\r\n                        </div>\r\n                    </> \r\n                    )\r\n                })}\r\n            </div>\r\n            <div className=\"chin-hardwarespecifications\">\r\n                <h2>硬體規格</h2>\r\n                <ComparepagesHardwareSpecifications />\r\n            </div>\r\n            <div className=\"chin-hardwarespecifications\">\r\n                <h2>智慧手錶</h2>\r\n            <ComparepagesSmartWatch/>\r\n            </div>\r\n            <div className=\"chin-hardwarespecifications\">\r\n                <h2>其他功能</h2>\r\n            <ComparepagesOtherFunctions/>\r\n            </div>\r\n    </main>\r\n    </>\r\n)\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {compare:store.getItemscompare,\r\n            AddItem:store.AddItem\r\n    }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n        AddCartNewItem_sendcal\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default withRouter(\r\n    connect(mapStateToProps, mapDispatchToProps)(ComparepagesWatch)\r\n  )","import React from 'react'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\n\r\nfunction  ComparepagesHardwareSpecifications(props){\r\n    return(\r\n    <>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>類型</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>外殼</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data2}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>無線</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data3}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>降噪</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data4}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>麥克風</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data5}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>傳感器</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data6}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>使用方便</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data7}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>反饋</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data8}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>通話/音樂控制</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data9}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>音量控制</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data10}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>麥克風控制</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data11}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>頻道混音</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data12}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>降噪控制</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data13}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>談一談</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data14}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>附加控制</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data15}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    </>\r\n    )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {  compare: store.getItemscompare,\r\n            }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(ComparepagesHardwareSpecifications)","import React,{useState,useEffect} from 'react'\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\n\r\nfunction  ComparepagesSoundBattery(props){\r\n\r\n    return(\r\n    <>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>低音量</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data16}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>高音量</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data17}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>低低音</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data18}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>中低音</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data19}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>高低音</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data20}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>PRTF精度（標準偏差）</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data21}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>PRTF大小（平均）</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data22}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>PRTF距離</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data23}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>開放性</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data24}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>聲空間激勵</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data25}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>電池類型</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data26}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>連續電池壽命</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data27}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>附加費用</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data28}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>總電池壽命</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data29}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>充電時間</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data30}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>省電功能</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data31}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>充電時音頻</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data32}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>被動播放</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data33}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        <div className=\"chin-hardwarespecifications-col\">\r\n            <div><p>充電口</p></div>\r\n            {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data34}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n        </div>\r\n        \r\n    </>\r\n    )\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {  compare: store.getItemscompare,\r\n            }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(ComparepagesSoundBattery)\r\n  \r\n  ","import React from 'react'\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\n\r\nfunction  ComparepagesOther(props){\r\n    return(\r\n    <>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>安卓系統</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data35}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>蘋果系統</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data36}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>視窗</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data37}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>均衡器</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data38}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>ANC控制</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data39}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>麥克風控制</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data40}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>房間效果</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data41}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>播放控制</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data42}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>按鈕映射</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data43}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>環繞聲支持</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data44}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>類型</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data45}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>USB輸入</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data46}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>線入</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data47}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>線路輸出</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data48}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>光學輸入</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data49}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>RCA輸入</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data50}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>碼頭充電</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data51}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>電源</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data52}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    </>\r\n    )\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {  compare: store.getItemscompare,\r\n            }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(ComparepagesOther)","import React from 'react'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Link,\r\n    Switch,\r\n    withRouter,\r\n  } from 'react-router-dom'\r\nimport '../chin-css/comparepages.scss'\r\nimport '../../css/main.css'\r\n//components\r\nimport ComparepagesHardwareSpecifications from './components/ComparepagesHardwareSpecifications'\r\nimport ComparepagesSoundBattery from './components/ComparepagesSoundBattery'\r\nimport ComparepagesOther from './components/ComparepagesOther'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  AddCartNewItem_sendcal\r\n} from  '../../mao/actions/ShopCartAction'\r\n\r\n\r\nfunction ComparepagesHeadset(props){\r\n\r\n\r\nreturn(\r\n    <>\r\n    <main className=\"chin-main-item\">\r\n            <div className=\"chin-peritem-item\">\r\n                <div className=\"chin-functionfield\">\r\n                    <Link to=\"/headset\"><p>選擇其他產品進行比較 ></p></Link>\r\n                </div>\r\n                {props.compare.map((val,ind)=>{\r\n                return( \r\n                        <>\r\n                        <div className=\"chin-item-field\">\r\n                            <div className=\"chin-peritem\">\r\n                                <img src={`/chin-img/images/${val.itemName}/${val.itemImg}`} alt=\"\" />\r\n                                <h6>{val.name}</h6>\r\n                                <p>{val.itemName}</p>\r\n                                <h5>NT{val.itemPrice}</h5>\r\n                            </div>\r\n                            <div className=\"chin-item\">\r\n                            <Link to={'/commidty/'+ val.itemId}><button>了解更多</button></Link>\r\n                            <Link to='/OrderInfo' onClick={()=>{\r\n                              props.AddCartNewItem_sendcal(val,props.AddItem)\r\n                            }}><button>立即購買</button></Link>\r\n                            </div>\r\n                        </div>\r\n                    </> \r\n                    )\r\n                })}\r\n            </div>\r\n            <div className=\"chin-hardwarespecifications\">\r\n                <h2>耳機規格</h2>\r\n                <ComparepagesHardwareSpecifications />\r\n            </div>\r\n            <div className=\"chin-hardwarespecifications\">\r\n                <h2>聲音/電池</h2>\r\n            <ComparepagesSoundBattery/>\r\n            </div>\r\n            <div className=\"chin-hardwarespecifications\">\r\n                <h2>其他功能</h2>\r\n            <ComparepagesOther/>\r\n            </div>\r\n    </main>\r\n    </>\r\n)\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {compare:store.getItemscompare,\r\n      AddItem:store.AddItem\r\n    }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {AddCartNewItem_sendcal\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default withRouter(\r\n    connect(mapStateToProps, mapDispatchToProps)(ComparepagesHeadset)\r\n  )","import React from 'react'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\n\r\nfunction  ComparepagesPhotographySpecifications(props){\r\n    return(\r\n    <>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>重量</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>大小</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data2}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>畫質</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data3}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>廣角</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data4}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    <div className=\"chin-hardwarespecifications-col\">\r\n        <div><p>特色</p></div>\r\n        {props.compare.map((val,ind)=>{\r\n            return(\r\n                <>\r\n                <div><p>{val.data5}</p></div>\r\n                </>\r\n                    )\r\n            })}\r\n    </div>\r\n    </>\r\n    )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {  compare: store.getItemscompare,\r\n            }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(ComparepagesPhotographySpecifications)","import React from 'react'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Link,\r\n    Switch,\r\n    withRouter,\r\n  } from 'react-router-dom'\r\nimport '../chin-css/comparepages.scss'\r\nimport '../../css/main.css'\r\n//components\r\nimport ComparepagesPhotographySpecifications from './components/ComparepagesPhotographySpecifications'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  AddCartNewItem_sendcal\r\n} from  '../../mao/actions/ShopCartAction'\r\n\r\n\r\nfunction ComparepagesHeadset(props){\r\n  \r\nreturn(\r\n    <>\r\n    <main className=\"chin-main-item\">\r\n            <div className=\"chin-peritem-item\">\r\n                <div className=\"chin-functionfield\">\r\n                    <Link to=\"/actioncamera\"><p>選擇其他產品進行比較 ></p></Link>\r\n                </div>\r\n                {props.compare.map((val,ind)=>{\r\n                return( \r\n                        <>\r\n                        <div className=\"chin-item-field\">\r\n                            <div className=\"chin-peritem\">\r\n                                <img src={`/chin-img/images/${val.itemName}/${val.itemImg}`} alt=\"\" />\r\n                                <h6>{val.name}</h6>\r\n                                <p>{val.itemName}</p>\r\n                                <h5>NT{val.itemPrice}</h5>\r\n                            </div>\r\n                            <div className=\"chin-item\">\r\n                            <Link to={'/commidty/'+ val.itemId}><button>了解更多</button></Link>\r\n                            <Link to='/OrderInfo' onClick={()=>{\r\n                              props.AddCartNewItem_sendcal(val,props.AddItem)\r\n                            }}><button>立即購買</button></Link>\r\n                            </div>\r\n                        </div>\r\n                    </> \r\n                    )\r\n                })}\r\n            </div>\r\n            <div className=\"chin-hardwarespecifications\">\r\n                <h2>攝影規格</h2>\r\n                <ComparepagesPhotographySpecifications />\r\n            </div>\r\n    </main>\r\n    </>\r\n)\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return {compare:store.getItemscompare,\r\n      AddItem:store.AddItem}\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {AddCartNewItem_sendcal\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  \r\n  export default withRouter(\r\n    connect(mapStateToProps, mapDispatchToProps)(ComparepagesHeadset)\r\n  )","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  Switch,\r\n  withRouter,\r\n} from 'react-router-dom'\r\n//scss\r\nimport './chin-css/items.scss'\r\nimport '../css/main.scss'\r\n//components\r\nimport Commoditycomponents2 from './components/Commoditycomponents2'\r\nimport Commoditycomponents from './components/Commoditycomponents'\r\nimport Commoditylist from './components/Commoditylist'\r\nimport CompareProductSort from './components/CompareProductSort'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport { formServerItemsData, ResetListItemName,ResetListItemNameCom,ItemscompareNo } from './actions/itemsActions'\r\nimport {fromServerMbLikeData} from '../stacey/actions/couponAction'\r\n\r\n\r\nfunction Actioncamera(props) {\r\n  const [englishnameActioncamera, setEnglishnameActioncamera] = useState('ACTION CAMERA')\r\n  const [delitems,setDelitems] = useState()\r\n  const [commodity, setCommdity] = useState(false)\r\n  const [commodityPrice, setCommdityPrice] = useState(false)\r\n\r\n  //會員id\r\n  const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    props.formServerItemsData('actioncamera')\r\n    if(mb_id) {\r\n      props.fromServerMbLikeData(mb_id)\r\n    }\r\n    return ()=> props.ResetListItemName()\r\n  }, [])\r\n\r\n\r\n  const itemlist = props.data.map((val, ind) => {\r\n    //判斷是否我的最愛\r\n    let mbLike = false\r\n    if(props.mbLikeData.findIndex((v)=>v.itemId === val.itemId) > -1 ){\r\n      mbLike = true\r\n    }\r\n    if (props.actioncamera.indexOf(val.name) > -1) {\r\n      return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind}  mbLike={mbLike}/>\r\n    }\r\n  })\r\n\r\n  const allitemlist = props.data.map((val, ind) => {\r\n    //判斷是否我的最愛\r\n    let mbLike = false\r\n    if(props.mbLikeData.findIndex((v)=>v.itemId === val.itemId) > -1 ){\r\n      mbLike = true\r\n    }\r\n    return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind} mbLike={mbLike}/>\r\n  })\r\n\r\n  const commodityItems = props.data.map((val, ind) => {\r\n    if (props.actioncamera.indexOf(val.name) > -1) {\r\n      return <Commoditycomponents2 key={val.itemId} data={val} arrIndex={ind} delitems={delitems} sendx={v=>{setDelitems(v)}}/>\r\n    }\r\n  })\r\n  const allcommodityItems = props.data.map((val, ind) => {\r\n    return <Commoditycomponents2 key={val.itemId} data={val} arrIndex={ind} delitems={delitems} sendx={v=>{setDelitems(v)}}/>\r\n  })\r\n  const ItemPrice = props.data.map((val,ind)=>{\r\n    if(props.ItemPrice.itemPrice < val.itemPrice || props.ItemPrice2.itemPrice2 > val.itemPrice){\r\n        // console.log(val)\r\n      return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind} />\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <main className=\"chin-main\">\r\n        <section className=\"chin-section\">\r\n          <Commoditylist data={props.data} price={commodityPrice}  sendprice={v => {\r\n                setCommdityPrice(v)\r\n              }}/>\r\n          <div className=\"chin-commodity-title\">\r\n            <CompareProductSort\r\n              data={props.data}\r\n              englishname={englishnameActioncamera}\r\n              test={commodity}\r\n              sendText={text => {\r\n                setCommdity(text)\r\n              }}\r\n            />\r\n            <div className=\"chin-commodity\">\r\n            {commodityPrice?ItemPrice:commodity\r\n                  ? \r\n                  props.actioncamera.length\r\n                  ? commodityItems\r\n                  : allcommodityItems\r\n                  : \r\n                  props.actioncamera.length\r\n                  ? itemlist\r\n                  : allitemlist}\r\n              {/* {commodity\r\n                ? props.actioncamera.length\r\n                  ? commodityItems\r\n                  : allcommodityItems\r\n                : props.actioncamera.length\r\n                ? itemlist\r\n                : allitemlist} */}\r\n            </div>\r\n            {commodity ? (\r\n              <div className=\"chin-article\">\r\n                <div className=\"chin-itemcompares\">\r\n                {props.compare.map((val,ind)=>{\r\n                  return(\r\n                      <div className=\"chin-compares\">\r\n                        <img src=\"./chin-img/x.svg\" className=\"chin-x\" onClick={()=>{\r\n                                                                                props.ItemscompareNo(false,val,props.compare)\r\n                                                                                setDelitems(val.itemId)\r\n                                                                                }}/>\r\n                        <div><img src={`/chin-img/images/${val.itemName}/${val.itemImg}`} className=\"chin-watch3\"/></div>\r\n                        <span>{val.itemName}</span>\r\n                      </div>\r\n                      )\r\n                })}\r\n                </div>\r\n                <div className=\"chin-button-compares\">{props.compare.length>1?\r\n                  <Link to=\"/Comparepagesactioncamera\" className=\"chin-com-a\"><button>功能比較</button></Link>:\r\n                    <Link to=\"/Comparepagesactioncamera\" className=\"chin-com-a\"><button disabled='true' style={{cursor:\"no-drop\"}}>功能比較</button></Link>}\r\n                    <button onClick={()=>{setCommdity(!commodity)\r\n                                        props.ResetListItemNameCom()}}>關閉</button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n             ''\r\n            )}\r\n            <div className=\"circle\">\r\n              <div className=\"circle1\">\r\n                <div className=\"circle3\"></div>\r\n                <div className=\"circle3\"></div>\r\n                <div className=\"circle3\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { data: store.getItems, \r\n          actioncamera: store.getListitemName,\r\n          ItemPrice: store.getListitemPrice,\r\n          ItemPrice2:store.getListitemPrice2,\r\n          compare:store.getItemscompare,\r\n          mbLikeData:store.memberLikeData,\r\n          rest:store.rest}\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      formServerItemsData,\r\n      ResetListItemName,\r\n      ResetListItemNameCom,\r\n      ItemscompareNo,\r\n      fromServerMbLikeData,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(Actioncamera)\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  Switch,\r\n  withRouter,\r\n} from 'react-router-dom'\r\n//scss\r\nimport './chin-css/items.scss'\r\nimport '../css/main.scss'\r\n//components\r\nimport Commoditycomponents2 from './components/Commoditycomponents2'\r\nimport Commoditycomponents from './components/Commoditycomponents'\r\nimport Commoditylist from './components/Commoditylist'\r\nimport CompareProductSort from './components/CompareProductSort'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport { formServerItemsData, ResetListItemName } from './actions/itemsActions'\r\n\r\nimport {fromServerMbLikeData} from '../stacey/actions/couponAction'\r\n\r\n\r\nfunction Surrounding(props) {\r\n  const [englishnameSurrounding, setEnglishnameSurrounding] = useState(\r\n    'SURROUNDING'\r\n  )\r\n\r\n  const [commodityPrice, setCommdityPrice] = useState(false)\r\n  //會員id\r\n  const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    props.formServerItemsData('surrounding')\r\n    if(mb_id) {\r\n      props.fromServerMbLikeData(mb_id)\r\n    }\r\n    return ()=> props.ResetListItemName()\r\n  }, [])\r\n\r\n\r\n  const [commodity, setCommdity] = useState(false)\r\n  const itemlist = props.data.map((val, ind) => {\r\n    let mbLike = false\r\n    if(props.mbLikeData.findIndex((v)=>v.itemId === val.itemId) > -1 ){\r\n      mbLike = true\r\n    }\r\n    if (props.surrounding.indexOf(val.name) > -1) {\r\n      return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind} mbLike={mbLike}/>\r\n    }\r\n  })\r\n  const allitemlist = props.data.map((val, ind) => {\r\n    let mbLike = false\r\n    if(props.mbLikeData.findIndex((v)=>v.itemId === val.itemId) > -1 ){\r\n      mbLike = true\r\n    }\r\n    return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind} mbLike={mbLike}/>\r\n  })\r\n  const commodityItems = props.data.map((val, ind) => {\r\n    if (props.surrounding.indexOf(val.name) > -1) {\r\n      return <Commoditycomponents2 key={val.itemId} data={val} arrIndex={ind} />\r\n    }\r\n  })\r\n  const allcommodityItems = props.data.map((val, ind) => {\r\n    return <Commoditycomponents2 key={val.itemId} data={val} arrIndex={ind} />\r\n  })\r\n  const ItemPrice = props.data.map((val,ind)=>{\r\n    if(props.ItemPrice.itemPrice < val.itemPrice || props.ItemPrice2.itemPrice2 > val.itemPrice){\r\n        // console.log(val)\r\n      return <Commoditycomponents key={val.itemId} data={val} arrIndex={ind} />\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <main className=\"chin-main\">\r\n        <section className=\"chin-section\">\r\n          <Commoditylist data={props.data} price={commodityPrice}  sendprice={v => {\r\n                setCommdityPrice(v)\r\n              }}/>\r\n          <div className=\"chin-commodity-title\">\r\n            <CompareProductSort\r\n              data={props.data}\r\n              englishname={englishnameSurrounding}\r\n              test={commodity}\r\n              sendText={text => {\r\n                setCommdity(text)\r\n              }}\r\n            />\r\n            <div className=\"chin-commodity\">\r\n            {commodityPrice?ItemPrice:commodity\r\n                  ? \r\n                  props.surrounding.length\r\n                  ? commodityItems\r\n                  : allcommodityItems\r\n                  : \r\n                  props.surrounding.length\r\n                  ? itemlist\r\n                  : allitemlist}\r\n              {/* {commodity\r\n                ? props.surrounding.length\r\n                  ? commodityItems\r\n                  : allcommodityItems\r\n                :  props.surrounding.length\r\n                ? itemlist\r\n                : allitemlist} */}\r\n            </div>\r\n            <div className=\"circle\">\r\n              <div className=\"circle1\">\r\n                <div className=\"circle3\"></div>\r\n                <div className=\"circle3\"></div>\r\n                <div className=\"circle3\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { data: store.getItems, \r\n          surrounding: store.getListitemName,\r\n          ItemPrice: store.getListitemPrice,\r\n          ItemPrice2:store.getListitemPrice2,\r\n          mbLikeData:store.memberLikeData,\r\n          rest:store.rest}\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      formServerItemsData,\r\n      ResetListItemName,\r\n      fromServerMbLikeData,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(Surrounding)\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport '../css/mao.scss'\r\nimport '../css/MaoCartShopTotal.scss'\r\nimport { withRouter, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  getShopCart,\r\n  AddCart,\r\n  AddCartItem,\r\n  DelCartItem,\r\n  calCart,\r\n  CalShopCartTotal,hadleCoupon,CheckCoupon,cartCoupon\r\n} from '../actions/ShopCartAction'\r\nimport $ from 'jquery'\r\nimport { FaTicketAlt } from 'react-icons/fa'\r\nimport { TiDeleteOutline } from 'react-icons/ti'\r\nimport {MaoCouponType} from '../MaoCouponType'\r\nfunction MaoCartShopTotal(props) {\r\n\r\n  const [shipping, setShipping] = useState(100)\r\n  const [discount, setDiscount] = useState(0)\r\n  const [openCoupon, setOpenCoupon] = useState(true)\r\n  //變化總額主要有hook更改,store的小計金額為最後變動\r\n  const [saveStotal,setSaveStotal]=useState(0)\r\n  //變化總額有hook變動\r\n  const [saveTotal,setSaveTotal]=useState(0)\r\n  let buyerTotal = 0\r\n\r\n  //會員\r\n  const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\n  function CalTotal() {\r\n    buyerTotal = props.sTotal + shipping - discount\r\n    props.CalShopCartTotal(buyerTotal)\r\n  }\r\n  let LocalUser=localStorage.getItem('userId')||0\r\n  let CheckrouteName = props.match.path\r\n  //選擇折價券\r\n  function showCoupon() {\r\n    if (openCoupon) {\r\n      $('.Mao-couponBox').css({ opacity: 1, zIndex: 1 })\r\n      setOpenCoupon(false)\r\n    } else {\r\n      $('.Mao-couponBox').css({ opacity: 0,zIndex:-5 })\r\n      setOpenCoupon(true)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    CalTotal()\r\n    props.getShopCart()\r\n    $(document).on('scroll', () => {\r\n      let test = $(document).scrollTop()\r\n      if (test > 120) {\r\n        \r\n        $('.Mao-total-box-fixed').css({\r\n          opacity: 1,\r\n          height: '145px',\r\n          zIndex: 999,\r\n        })\r\n        $('.Mao-sort-ul').css({\r\n          opacity: 1\r\n        })\r\n      } else {\r\n        $('.Mao-total-box-fixed').css({ opacity: 0, height: 0, zIndex: -1 })\r\n        $('.Mao-sort-ul').css({\r\n          opacity: 0\r\n        })\r\n      }\r\n    })\r\n\r\n    $('.Mao-total-box')\r\n      .on('mouseenter', () => {\r\n        $('.Mao-total-box').css({ boxShadow: '0px 10px 12px #999' })\r\n      })\r\n      .on('mouseleave', () => {\r\n        $('.Mao-total-box').css({ boxShadow: 'none' })\r\n     }) \r\n     //得到store的小計金額\r\n     setSaveStotal(props.sTotal)\r\n     //得到store的總額\r\n     setSaveTotal(props.FinalTotal)\r\n\r\n     \r\n  }, [])\r\n\r\n  console.log('99999',props.cartCouponData)\r\n\r\n  useEffect(() => {\r\n    CalTotal()\r\n    // console.log('discount',discount)\r\n    //確保小計金額變動情形,獲取最新的變動\r\n    setSaveStotal(props.sTotal)\r\n    setSaveTotal(props.FinalTotal)\r\n  }, [CalTotal, props.AddItem, props.sTotal])\r\nconst totalSort=(\r\n    <ul className=\"Mao-sort-ul\">\r\n    <li className=\"Mao-line-sortG\">\r\n      產品分類選項\r\n    </li>\r\n      <li>\r\n        <Link to=\"/watch\">\r\n          穿戴式裝置\r\n        </Link>\r\n        <div class=\"Mao-line-sort\"></div>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/headset\">\r\n          耳機/喇叭\r\n        </Link>\r\n        <div class=\"Mao-line-sort\"></div>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/actioncamera\">\r\n          運動攝影機\r\n        </Link>\r\n        <div class=\"Mao-line-sort\"></div>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/surrounding\">\r\n          周邊\r\n        </Link>\r\n        <div class=\"Mao-line-sort\"></div>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/getCoupon\">\r\n          優惠券專區\r\n        </Link>\r\n        <div class=\"Mao-line-sort\"></div>\r\n      </li>\r\n      <li>\r\n        <Link to=\"/stories\">\r\n          故事牆\r\n        </Link>\r\n        <div class=\"Mao-line-sort\"></div>\r\n      </li>\r\n    </ul> \r\n)\r\n  const changeCheckout = (\r\n    <>\r\n      <Link className=\"Mao-total-box-btn\" to=\"/\">\r\n        <div className=\"Mao-total-show\"></div>\r\n        <span style={{ zIndex: 10 }}>繼續購物</span>\r\n      </Link>\r\n        {CheckrouteName == '/OrderInfo' ? (<Link className=\"Mao-total-box-btn-black\" to={props.getErrorBox==0 && LocalUser!=0?\"/Orderbill\":\"/OrderInfo\"}\r\n      onClick={()=>{\r\n        {LocalUser==0?alert('請先登入'):props.sendOrder()}\r\n      }}\r\n      >確認結帳\r\n        <div className=\"Mao-total-show-black\"></div>\r\n      </Link>) : ( <Link className=\"Mao-total-box-btn-black\" to=\"/OrderInfo\"\r\n      >前往結帳\r\n        <div className=\"Mao-total-show-black\"></div>\r\n      </Link>)}\r\n      \r\n     \r\n    </>\r\n  )\r\n\r\n  // const goshopNow = (\r\n  //   <>\r\n  //     <Link className=\"Mao-total-box-btn\" to=\"/\">\r\n  //       <div className=\".Mao-total-show-black\"></div>\r\n  //       繼續購物\r\n  //     </Link>\r\n  //   </>\r\n  // )\r\n\r\n\r\n  const couponType=[\r\n    {\r\n      id:0,\r\n      value:0.6,\r\n      Csort:'全部',\r\n      Cname:null,\r\n      rule:'滿額打折',\r\n      slogan:'全部商品-滿2件打6折',\r\n      payLevel:0,\r\n      amount:1},\r\n    {\r\n      id:1,\r\n      value:0.8,\r\n      Csort:'穿戴式裝置',\r\n      Cname:'GARMIN',\r\n      rule:'滿額打折',\r\n      slogan:'穿戴式裝置分類-滿15000打8折',\r\n      payLevel:15000,\r\n      amount:1},\r\n    {\r\n      id:2,\r\n      value:2000,\r\n      Csort:'運動攝影機',\r\n      Cname:'GoPro',\r\n      rule:'滿額折現',\r\n      slogan:'運動攝影機分類-滿10000折扣2000',\r\n      payLevel:10000,\r\n      amount:1},\r\n    {\r\n      id:3,\r\n      value:0.9,\r\n      Csort:'耳機/喇叭',\r\n      Cname:'SONY',\r\n      rule:'滿件打折',\r\n      slogan:'耳機/喇叭分類-滿3件打9折',\r\n      payLevel:0,\r\n      amount:3}\r\n  ]\r\n\r\n  //儲存優惠券種類，主要是拿來做變動執行\r\n  const [couponArr,setCouponArr]=useState([])\r\n  //選擇優惠券時使用的判斷\r\n  const [chooseState,setChooseState]=useState(0)\r\n  const [couponProduct,setCouponProduct]=useState([])\r\n  const [couponMsg,setCouponMsg]=useState('')\r\n  const couponDOM=[]\r\n  let useFilterCoupon=[]\r\n  const couponBox=props.saveCoupon.map((v,i)=>{\r\n    useFilterCoupon.push(v.type)\r\n    couponDOM.push(\r\n      <div onClick={()=>{props.hadleCoupon(v.value,v.type,props.sTotal)\r\n      setDiscount(0)\r\n      filterCoupon(i)\r\n      setChooseState(i+1)\r\n      }} className={`Mao-coupon-text ${chooseState==i+1? 'Mao-coupon-active':''}`}>{v.slogan}</div>\r\n    )\r\n  })\r\n\r\n  function filterCoupon(ind){\r\n    setCouponMsg()\r\n    let newCouponType=props.saveCoupon.filter(e=>e!==props.saveCoupon[ind])\r\n    //儲存剩下的折價券，最後結帳時才一併更新\r\n    //目前篩選後的折價券位置存放在total.js裡面 必須傳到orderInfo才可以一同送出\r\n    setCouponArr(newCouponType)\r\n    //優惠券折抵的值\r\n    let judgeCouponValue=props.saveCoupon[ind].value\r\n    //優惠券限定的產品分類\r\n    let judgeCouponCSort=props.saveCoupon[ind].Csort\r\n    //優惠券使用條件\r\n    let judgeCouponRule=props.saveCoupon[ind].rule\r\n    //優惠券是否有指定 品牌 使用條件\r\n    let judgeCouponAssignCname=props.saveCoupon[ind].Cname\r\n    //優惠券使用上的限定數量\r\n    let judgeCouponAmount=props.saveCoupon[ind].amount\r\n    //優惠券使用上的限定金額\r\n    let judgeCouponPayLevel=props.saveCoupon[ind].payLevel\r\n    let judgeCouponMsg=props.saveCoupon[ind].Cname\r\n    // 購物車品項檢查\r\n    let shopCartItems=props.AddItem\r\n    let disCountItems=[]\r\n    //折扣金額\r\n    let discountPay=0\r\n    //存放產品金額\r\n    let productTotal=0\r\n    \r\n    setCouponMsg(judgeCouponMsg)\r\n    shopCartItems.map((v,i)=>{\r\n      \r\n      //判斷是否為指定產品\r\n      // 判斷為真 則表示null為無分類\r\n      let truePrice = v.itemPrice.split('$').join('')\r\n      let finalPrice = truePrice.split(',').join('')\r\n      if(judgeCouponCSort==null ||judgeCouponCSort=='全部'){\r\n        //判斷是有分類別限定\r\n        if(judgeCouponAssignCname==v.name||judgeCouponAssignCname==null||judgeCouponAssignCname=='TRIPLEC'){\r\n          disCountItems.push(v)\r\n          //產品總數量 判斷數量是否符合購物券使用條件\r\n          let productAmount=0\r\n            disCountItems.map((cV,cI)=>{\r\n            productAmount+=cV.count\r\n          })\r\n          //產品金額 判斷是否符合金額門檻\r\n          productTotal+=v.count*finalPrice\r\n\r\n          //選擇資料庫門檻\r\n           switch(judgeCouponRule){\r\n            case '一律':\r\n              discountPay = productTotal-(productTotal-judgeCouponValue)\r\n              if(productTotal>=judgeCouponPayLevel){\r\n                setDiscount(discountPay)\r\n                setCouponProduct(disCountItems)\r\n              }\r\n             break\r\n            case '滿額折現':\r\n              discountPay = productTotal-(productTotal-judgeCouponValue)\r\n              if(productTotal>=judgeCouponPayLevel){\r\n                setDiscount(discountPay)\r\n                setCouponProduct(disCountItems)\r\n              }\r\n              break\r\n            case '滿額打折':\r\n              discountPay = productTotal-(Math.round(productTotal*judgeCouponValue))\r\n              if(productTotal>=judgeCouponPayLevel){\r\n                setDiscount(discountPay)\r\n                setCouponProduct(disCountItems)\r\n              }\r\n              break\r\n            case '滿件折現':\r\n              discountPay = productTotal-(productTotal-judgeCouponValue)\r\n              if(productTotal>=judgeCouponPayLevel){\r\n                if(productAmount>=judgeCouponAmount){\r\n                  setDiscount(discountPay)\r\n                  setCouponProduct(disCountItems)\r\n                }\r\n              }\r\n              break\r\n            case '滿件打折':\r\n              discountPay = productTotal-(Math.round(productTotal*judgeCouponValue))\r\n              if(productTotal>=judgeCouponPayLevel){\r\n                if(productAmount>=judgeCouponAmount){\r\n                  setDiscount(discountPay)\r\n                  setCouponProduct(disCountItems)\r\n                }\r\n              }\r\n            default:\r\n              setCouponProduct(disCountItems)\r\n                break\r\n           }\r\n        \r\n           setCouponProduct(disCountItems)\r\n        }else{\r\n          setCouponProduct(disCountItems)\r\n        }\r\n      }else{\r\n          //判斷品牌是否相同\r\n          if(judgeCouponCSort==v.itemCategoryId){\r\n            if(judgeCouponAssignCname==v.name||judgeCouponAssignCname==null){\r\n              disCountItems.push(v)\r\n              //產品總數量\r\n              let productAmount=0\r\n\r\n              //獲取符合資格產品的總數量\r\n                disCountItems.map((cV,cI)=>{\r\n                productAmount+=cV.count\r\n              })\r\n              //判斷是否符合金額門檻\r\n              productTotal+=v.count*finalPrice\r\n\r\n               switch(judgeCouponRule){\r\n                case '一律':\r\n                  discountPay = productTotal-(productTotal-judgeCouponValue)\r\n                  if(productTotal>=judgeCouponPayLevel){\r\n                    setDiscount(discountPay)\r\n                    setCouponProduct(disCountItems)\r\n                  }\r\n                 break\r\n                case '滿額折現':\r\n                  discountPay = productTotal-(productTotal-judgeCouponValue)\r\n                  if(productTotal>=judgeCouponPayLevel){\r\n                    setDiscount(discountPay)\r\n                    setCouponProduct(disCountItems)\r\n                  }\r\n                  break\r\n                case '滿額打折':\r\n                  discountPay = productTotal-(Math.round(productTotal*judgeCouponValue))\r\n                  if(productTotal>=judgeCouponPayLevel){\r\n                    setDiscount(discountPay)\r\n                    setCouponProduct(disCountItems)\r\n                  }\r\n                  break\r\n                case '滿件折現':\r\n                  discountPay = productTotal-(productTotal-judgeCouponValue)\r\n                  if(productTotal>=judgeCouponPayLevel){\r\n                    if(productAmount>=judgeCouponAmount){\r\n                      setDiscount(discountPay)\r\n                      setCouponProduct(disCountItems)\r\n                    }\r\n                  }\r\n                  break\r\n                case '滿件打折':\r\n                  discountPay = productTotal-(Math.round(productTotal*judgeCouponValue))\r\n                  if(productTotal>=judgeCouponPayLevel){\r\n                    if(productAmount>=judgeCouponAmount){\r\n                      setDiscount(discountPay)\r\n                      setCouponProduct(disCountItems)\r\n                    }\r\n                  }\r\n                default:\r\n                  setCouponProduct(disCountItems)\r\n                    break\r\n               }\r\n            }\r\n            \r\n          }else{\r\n            setCouponProduct(disCountItems)\r\n          }\r\n       \r\n      }\r\n  \r\n    })\r\n    \r\n    //計算總額會扣的折扣金額，存放在hooks裡面\r\n    let hadle_discountNum=props.FinalTotal\r\n}\r\nuseEffect(()=>{\r\n  // props.CheckCoupon(couponType)\r\n  // console.log('props.saveCoupon',props.saveCoupon)\r\n\r\n  if(mb_id){\r\n    props.cartCoupon(mb_id)\r\n  }\r\n\r\n},[])\r\n\r\nlet cartItemText=[]\r\nconst shopCartItemText=props.AddItem.map((v,i)=>{\r\n  cartItemText.push(\r\n    <Link to={`/commidty/${v.itemId}`}>\r\n    <div className=\"Mao-shopCart-item-text\">\r\n    <img className=\"chin-watchs\" src={`/chin-img/images/${v.itemName}/${v.itemImg}`} alt=\"\"/>\r\n    <div>\r\n    <p>{v.itemName}</p>\r\n      <p>價格：{v.itemPrice}<span className=\"ml-3\">數量：{v.count}</span></p>\r\n    </div>\r\n      \r\n    </div>\r\n    </Link>\r\n  )\r\n})\r\nlet couponTargetDOM=[]\r\nconst couponTarget=couponProduct.map((v,i)=>{\r\n  couponTargetDOM.push(\r\n      <li className=\"Mao-coupon-list-img\">\r\n      <img className=\"Mao-coupon-img\" src={`/chin-img/images/${v.itemName}/${v.itemImg}`} alt=\"\"/>\r\n      <p>{v.itemName}</p>\r\n      </li>\r\n  )\r\n})\r\nconst NofixedDisplay = (\r\n    <>\r\n      <div className=\"Mao-total-box\">\r\n        <p className=\"Mao-total-box-title\">\r\n          <b>TOTAL</b>\r\n        </p>\r\n        <div className=\"Mao-total-box-title-info\">\r\n          <div>\r\n            <b>運費</b>\r\n            <span className=\"float-right\">{shipping}</span>\r\n          </div>\r\n          <div>\r\n            <b>小計金額</b>\r\n            <span className=\"float-right\">{props.sTotal}</span>\r\n          </div>\r\n          <div>\r\n            <b>活動折扣</b>\r\n            <span className=\"float-right\">{discount}</span>\r\n          </div>\r\n          {CheckrouteName=='/OrderInfo'?( <label htmlFor=\"coupon\" className=\"Mao-total-box-title-coupon\">\r\n            <div>\r\n              <Link\r\n                className=\"Mao-total-box-btn Mao-total-box-btn-border-b\"\r\n                onClick={() => {\r\n                  showCoupon()\r\n                }}\r\n              >\r\n                <FaTicketAlt />\r\n                <b className=\"mx-2\">選擇折價券</b>\r\n              </Link>\r\n              <div className=\"Mao-couponBox\">\r\n                <TiDeleteOutline\r\n                  className=\"Mao-coupon-exit\"\r\n                  onClick={() => {\r\n                    showCoupon()\r\n                    setDiscount(0)\r\n                  }}\r\n                />\r\n                <div style={{ margin: '15px' }}></div>\r\n                <div className=\"Mao-coupon-text-box\">\r\n                <div>\r\n                  <div className=\"Mao-coupon-DOM\">\r\n                  {couponDOM}\r\n                  </div>\r\n                  <ul className=\"Mao-coupon-ullist-img\">\r\n                    {couponTargetDOM}\r\n                  </ul>  \r\n                </div>\r\n                <div className=\"d-flex\">\r\n                <button className=\"Mao-total-box-btn-black\" onClick={()=>{\r\n                  showCoupon()\r\n                  props.postDiscount(discount)\r\n                  {discount==0?props.CatchCoupon(couponType):props.CatchCoupon(couponArr)}\r\n                }\r\n                    }>確認<div className=\"Mao-total-show-black\"></div>\r\n                </button>\r\n                <div style={{width:'270px',marginLeft:'35px',marginTop:'15px'}}>\r\n                <p className=\"m-0\">限定品牌： </p>\r\n                <b style={{fontSize:'22px'}}>{couponMsg==null?'全部系列':couponMsg}</b>\r\n               </div>\r\n                </div>\r\n                \r\n                \r\n                  \r\n                </div>\r\n              </div>\r\n            </div>\r\n          </label>):''}\r\n         \r\n        </div>\r\n        <p style={{ fontSize: '18px' }}>\r\n          <b>總金額</b>\r\n          <span className=\"float-right\">{props.FinalTotal}</span>\r\n        </p>\r\n        {changeCheckout}\r\n        {CheckrouteName == '/member/ShopCartList' ?totalSort: ( <div className=\"Mao-shopCart-item-text-box\">\r\n       {cartItemText}\r\n        </div>)}\r\n       \r\n        \r\n      </div>\r\n    </>\r\n  )\r\n  // ............................fixed...................\r\n  const fixedDisplay = (\r\n    <>\r\n      <div className=\"Mao-total-box-fixed\">\r\n        <div className=\"container\">\r\n          <div className=\"Mao-container-box\">\r\n            <p className=\"Mao-total-box-title-fixed\">\r\n              <b>TOTAL</b>\r\n            </p>\r\n            {/* total內容 */}\r\n            <div className=\"Mao-total-content-fixed\">\r\n              {/* 運費 */}\r\n              <div className=\"Mao-total-ship-fixed\">\r\n                <b>運費</b>\r\n                <span>{shipping}</span>\r\n              </div>\r\n              {/* 活動折扣 */}\r\n              <div className=\"Mao-total-coupon-fixed\">\r\n                <span className=\"mx-4\">\r\n                  <b>活動折扣</b>\r\n                  {discount}\r\n                </span>\r\n              </div>\r\n              {/* 小計金額 */}\r\n              <div className=\"Mao-total-sCount-fixed\">\r\n                <b>小計金額</b>\r\n                <span id=\"sTotal\">{props.sTotal}</span>\r\n              </div>\r\n              <p className=\"Mao-total-box-totalNum-fixed\">\r\n                <b>總金額</b>\r\n                <span className=\"mx-2\">{props.FinalTotal}</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* ----------------- */}\r\n          <div className=\"Mao-total-box-total-fixed-btn\">\r\n            {CheckrouteName == '/OrderInfo' ? (\r\n              <Link className=\"Mao-total-box-btn-fixed-goshop\" to=\"/\">\r\n                繼續購物\r\n              </Link>\r\n            ) : (\r\n              <Link className=\"Mao-total-box-btn-fixed\" to=\"/OrderInfo\">\r\n                前往結帳\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n  return (\r\n    <>\r\n      {fixedDisplay}\r\n      {NofixedDisplay}\r\n    </>\r\n  )\r\n}\r\n// 告訴redux該怎麼對應它的store中的state到這個元件的props的哪裡\r\nconst mapStateToProps = store => {\r\n  return {\r\n    //購物車內容\r\n    data: store.getShop,\r\n    AddItem: store.AddItem,\r\n    Cart: store.displayShopCart,\r\n    sTotal: store.calculator,\r\n    FinalTotal: store.calculator_total,\r\n    saveDiscount:store.saveDiscount,\r\n    // saveCoupon:store.saveCoupon,\r\n    saveCoupon:store.cartCouponData,\r\n  }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getShopCart,\r\n      AddCart,\r\n      AddCartItem,\r\n      DelCartItem,\r\n      calCart,\r\n      CalShopCartTotal,hadleCoupon,CheckCoupon,cartCoupon\r\n    },\r\n    dispatch\r\n  )\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(MaoCartShopTotal)\r\n)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link} from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n    AddCart,\r\n    getShopCart,\r\n    AddCartItem,\r\n    DelCartItem,\r\n    CalShopCart,\r\n    Handle_AddMyFavorite,AddCartNewItem_sendcal} from '../../mao/actions/ShopCartAction'\r\n\r\nimport {addMbLikeData,delMbLikeData} from '../../stacey/actions/couponAction'\r\n\r\n\r\nimport { FiHeart ,FiShoppingBag} from 'react-icons/fi'\r\nimport Swal from 'sweetalert2'\r\nfunction Commoditycomponents(props){\r\n// console.log(props)\r\nconst [forMyfavor,setForMyfavor]=useState(false)\r\n\r\n// if(props.mbLike){\r\n//   setForMyfavor(true)\r\n// }\r\n\r\n\r\n//會員\r\nconst mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\nconst [alertType,setAlertType]=useState('')\r\nconst checkAlertType=showTpye=>{\r\n  switch(showTpye){\r\n      case '加入購物車':\r\n          Swal.fire({\r\n              position: 'center',\r\n              icon: 'success',\r\n              title: '已加入購物車',\r\n              showConfirmButton: false,\r\n              timer: 1000\r\n            })\r\n            break\r\n      case '加入我的最愛':\r\n          Swal.fire({\r\n              position: 'center',\r\n              icon:'success',\r\n              title: '已加入我的最愛',\r\n              showConfirmButton: false,\r\n              timer: 1000\r\n            })\r\n            break\r\n            case '已取消我的最愛':\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon:'error',\r\n                    title: '已取消我的最愛',\r\n                    showConfirmButton: false,\r\n                    timer: 1000\r\n                  })\r\n                  break\r\n      default:\r\n          break                \r\n  }\r\n}\r\n//ItemlocalStorage\r\nconst [newHisitem,setNewHisitem]=useState([])\r\nasync function ItemToLocalStorage(value) {\r\n\r\n  const currentHisitem = JSON.parse(localStorage.getItem('hisitem')) || []\r\n  if(currentHisitem.length===0){\r\n    const newHisitem = [...currentHisitem, value]\r\n    localStorage.setItem('hisitem', JSON.stringify(newHisitem))\r\n  }\r\n\r\n  let box=[]\r\n  currentHisitem.map((val,ind)=>{\r\n    box.push(val.itemId)\r\n  })\r\n    let index = box.findIndex(e=>e==value.itemId)\r\n    if(index === -1){\r\n      const newHisitem = [...currentHisitem, value]\r\n      localStorage.setItem('hisitem', JSON.stringify(newHisitem))\r\n    }\r\n  // 設定資料\r\n  setNewHisitem(newHisitem)\r\n}\r\n    return(\r\n        <>\r\n              <div key={props.data.itemName} className=\"chin-commodity-item\">\r\n                    <ul className=\"chin-star-heart-bag\">\r\n                        <li><img className=\"chin-star\" src=\"/chin-img/star.svg\" alt=\"\"/></li>\r\n                        <li><img className=\"chin-star\" src=\"/chin-img/star.svg\" alt=\"\"/></li>\r\n                        <li><img className=\"chin-star\" src=\"/chin-img/star.svg\" alt=\"\"/></li>\r\n                        <li><img className=\"chin-star\" src=\"/chin-img/star.svg\" alt=\"\"/></li>\r\n                        <li><img className=\"chin-star\" src=\"/chin-img/star.svg\" alt=\"\"/></li>\r\n                        <li className=\"chin-heart-bag\">\r\n                        \r\n                        <FiHeart className={`chin-heart ${forMyfavor?'Mao-like-red':''}`}  \r\n                        onClick={()=>{\r\n                          if(mb_id){\r\n                              props.mbLike ? props.delMbLikeData(mb_id,props.data) : props.addMbLikeData(mb_id,props.data) \r\n                              setForMyfavor(true)\r\n                            let info=!props.mbLike?\"加入我的最愛\":\"已取消我的最愛\"\r\n                            checkAlertType(info)\r\n                            }else{\r\n                              alert('請先登入')\r\n                            }\r\n                          }\r\n                                }/>\r\n                            <FiShoppingBag  className=\"chin-bag\"  onClick={()=>{\r\n                              props.AddCartNewItem_sendcal(props.data,props.AddItem)\r\n                              props.sendFunc(!props.forChange)\r\n                              checkAlertType(\"加入購物車\")\r\n                            }}\r\n                            />\r\n                        </li>\r\n                    </ul>\r\n                    <Link to={'/commidty/'+props.data.itemId} onClick={()=>{ItemToLocalStorage(props.data)}}>\r\n                      <img className=\"chin-watchs\" src={`/chin-img/images/${props.data.itemName}/${props.data.itemImg}`} alt=\"\"/>\r\n                      <h6>{props.data.name}</h6>\r\n                      <h4>{props.data.itemName}</h4>\r\n                      <h5>NT{props.data.itemPrice}</h5>\r\n                      \r\n                    </Link>\r\n            </div>\r\n          \r\n        </>\r\n    )\r\n}\r\n\r\n\r\n// 告訴redux該怎麼對應它的store中的state到這個元件的props的哪裡\r\nconst mapStateToProps = store => {\r\n    return {\r\n      AddItem: store.AddItem,\r\n      MyFavorite: store.MyFavorite,\r\n      CtrlData: store.ControlDataState,\r\n    }\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch => {\r\n    return bindActionCreators(\r\n      {\r\n        AddCart,\r\n        getShopCart,\r\n        AddCartItem,\r\n        DelCartItem,\r\n        CalShopCart,\r\n        Handle_AddMyFavorite,\r\n        AddCartNewItem_sendcal,\r\n        addMbLikeData,delMbLikeData\r\n      },\r\n      dispatch\r\n    )\r\n  }\r\n  export default connect(mapStateToProps, mapDispatchToProps)(Commoditycomponents)\r\n  \r\n\r\n// export default Commoditycomponents","import React, { useEffect, useState } from 'react'\r\nimport { productList } from './ProductList'\r\nimport { withRouter ,Link} from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport './css/mao.scss'\r\nimport '../chin/chin-css/items.scss'\r\nimport {\r\n  getShopCart,\r\n  AddCart,\r\n  CalShopCart,\r\n  Handle_AddMyFavorite,\r\n  AddCartNewItem_sendcal,\r\n} from './actions/ShopCartAction'\r\nimport {commidtyRANDItemId} from '../chin/actions/itemsActions'\r\n\r\nimport {fromServerMbLikeData} from '../stacey/actions/couponAction'\r\n\r\nimport Slider from 'react-slick'\r\nimport { FiShoppingBag ,FiHeart} from 'react-icons/fi';\r\nimport Swal from 'sweetalert2'\r\nimport MaoItemList from './component/MaoItemList'\r\nfunction ProductSlide(props) {\r\n\r\n  //會員id\r\n  const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\n  useEffect(() => {\r\n    if(mb_id) {\r\n      props.fromServerMbLikeData(mb_id)\r\n    }\r\n  }, [])\r\n\r\n \r\n  function SamplePrevArrow(props) {\r\n\r\n    const { className, style, onClick } = props\r\n    return (\r\n        <img\r\n          src=\"/chin-img/chevron-left.svg\"\r\n          className=\"chin-arr\"\r\n          onClick={onClick}\r\n        />\r\n    )\r\n  }\r\n  function SampleNextArrow(props) {\r\n\r\n    const { className, style, onClick } = props\r\n    return (\r\n        <img\r\n          src=\"/chin-img/chevron-right.svg\"\r\n          className=\"chin-arr2\"\r\n          onClick={onClick}\r\n        />\r\n    )\r\n  }\r\n  let settings = {\r\n    swipeToSlide: true,\r\n    focusOnSelect: true,\r\n    nextArrow: <SampleNextArrow />,\r\n    prevArrow: <SamplePrevArrow />,\r\n    autoplay:'auto',\r\n    slidesToShow: 4,\r\n    slidesToScroll:4,\r\n  };\r\n  let settingsRWD = {\r\n    swipeToSlide: true,\r\n    focusOnSelect: true,\r\n    nextArrow: <SampleNextArrow />,\r\n    prevArrow: <SamplePrevArrow />,\r\n    autoplay:'auto',\r\n    slidesToShow: 1,\r\n    slidesToScroll:1,\r\n    adaptiveHeight:true\r\n  };\r\n\r\n  let RealCart = []\r\n  let checkBox = []\r\n  props.AddItem.map((v, i) => {\r\n    RealCart.push(v)\r\n    checkBox.push(v.itemId)\r\n  })\r\n  useEffect(() => {\r\n    props.getShopCart()\r\n    props.commidtyRANDItemId()\r\n  }, [])\r\n\r\n\r\nconst [sender,setSender]=useState(false)\r\n  const productItem = props.getRANDitemid.map((v, i) => {\r\n    let mbLike = false\r\n    if(props.MyFavorite.findIndex((val)=>val.itemId === v.itemId) > 0 ){\r\n      mbLike = true\r\n    }\r\n    return (\r\n     <MaoItemList data={v} sendFunc={items=>props.sendData(items)}\r\n     forChange={props.getdata} mbLike={mbLike}/>\r\n    )\r\n  })\r\n  return (\r\n    <>\r\n      <div className=\"Mao-productSlide-box\">\r\n      <h2 className=\"Mao-productSlide-title\">推薦產品</h2>\r\n        <div className=\"Mao-slide\">\r\n          <Slider {...settings}>\r\n            {productItem}\r\n          </Slider>\r\n        </div>\r\n        <div className=\"Mao-slideRWD\">\r\n          <Slider {...settingsRWD}>\r\n            {productItem}\r\n          </Slider>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 告訴redux該怎麼對應它的store中的state到這個元件的props的哪裡\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    data: store.getShop,\r\n    AddItem: store.AddItem,\r\n    calculator: store.calculator,\r\n    MyFavorite: store.memberLikeData,\r\n    getRANDitemid:store.getRANDitemid,\r\n  }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getShopCart,\r\n      AddCart,\r\n      CalShopCart,\r\n      Handle_AddMyFavorite,\r\n      AddCartNewItem_sendcal,commidtyRANDItemId,\r\n      fromServerMbLikeData\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(ProductSlide)\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { withRouter } from 'react-router'\r\n\r\nfunction MaoAD(props) {\r\n  const [routeName, setRouteName] = useState('')\r\n  useEffect(() => {\r\n    setRouteName(props.match.path)\r\n  }, [])\r\n  // useEffect(() => {\r\n  //   console.log(routeName)\r\n  // }, [routeName])\r\n  return (\r\n    <>\r\n      <div class=\"Mao-buyerLine-box\">\r\n        <div className=\"Mao-buyerLine\">\r\n          <div className=\"Mao-line\"></div>\r\n          <div\r\n            className={`Mao-circle ${\r\n              routeName == '/member/ShopCartList'\r\n                ? 'Mao-line-color-blue'\r\n                : 'Mao-line-color-grey'\r\n            }`}\r\n          >\r\n            1\r\n          </div>\r\n          <div\r\n            className={`Mao-circle ${\r\n              routeName == '/OrderInfo'\r\n                ? 'Mao-line-color-blue'\r\n                : 'Mao-line-color-grey'\r\n            }`}\r\n          >\r\n            2\r\n          </div>\r\n          <div\r\n            className={`Mao-circle ${\r\n              routeName == '/Orderbill'\r\n                ? 'Mao-line-color-blue'\r\n                : 'Mao-line-color-grey'\r\n            }`}\r\n          >\r\n            3\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <ul className=\"Mao-buyerLine-info\">\r\n            <li>加入購物車</li>\r\n            <li>填寫寄送資料</li>\r\n            <li>送出訂單</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nexport default withRouter(MaoAD)\r\n","import React from 'react'\r\nimport Slider from 'react-slick'\r\nimport { Link } from 'react-router-dom'\r\nfunction PisSlide() {\r\n  const slideImages = [\r\n    '/Mao-img/01.jpg',\r\n    '/Mao-img/02.jpg',\r\n    '/Mao-img/03.jpg',\r\n    '/Mao-img/04.jpg',\r\n    '/Mao-img/05.jpg',\r\n  ]\r\n\r\n  const picBox = []\r\n  slideImages.map((v, i) => {\r\n    picBox.push(\r\n      <div className=\"each-slide\">\r\n        <div\r\n          className=\"Mao-rand-AD\"\r\n          style={{\r\n            backgroundImage: `url(${slideImages[i]})`,\r\n            height: '500px',\r\n            width: '350px',\r\n          }}\r\n        ></div>\r\n      </div>\r\n    )\r\n  })\r\n  let settings = {\r\n    dots: false,\r\n    infinite: true,\r\n    speed: 800,\r\n    fade: true,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    initialSlide: 0,\r\n    arrows: false,\r\n    autoplay: true,\r\n    autoplaySpeed: 600,\r\n  }\r\n\r\n  const RNDRoute = ['/watch', '/headset', '/actioncamera', '/surrounding']\r\n  function RouteRND() {\r\n    let RNDNum = RNDRoute[Math.round(Math.random() * (RNDRoute.length - 1))]\r\n    return RNDNum\r\n  }\r\n  return (\r\n    <>\r\n      <Link to={RouteRND()}>\r\n        <div className=\"Mao-rand-AD-title-box\">\r\n          <h4 className=\"Mao-rand-AD-title\">前往購買</h4>\r\n          <div className=\"Mao-rand-AD\">\r\n            <Slider {...settings}>{picBox}</Slider>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PisSlide\r\n","import React, { useState } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSpring, animated } from 'react-spring'\r\nimport { FaShoppingBasket } from 'react-icons/fa'\r\n\r\n/*\r\n0 % { transform: scale(1); }\r\n25 % { transform: scale(.97); }\r\n35 % { transform: scale(.9); }\r\n45 % { transform: scale(1.1); }\r\n55 % { transform: scale(.9); }\r\n65 % { transform: scale(1.1); }\r\n75 % { transform: scale(1.03); }\r\n100 % { transform: scale(1); }\r\n`*/\r\n\r\nfunction MaoMoveIcon() {\r\n  const CartNoItem = (\r\n    <div className=\"Mao-CartNoItem-shoplist\">\r\n    <Link to=\"/watch\">\r\n    <h3>趕快去尋找最愛的商品吧！</h3>\r\n    </Link>\r\n      <FaShoppingBasket className=\"Mao-Like-img-shoplist\" />\r\n    </div>\r\n  )\r\n  const [state, toggle] = useState(true)\r\n  const { x } = useSpring({\r\n    from: { x: 0 },\r\n    x: state ? 1 : 0,\r\n    config: { duration: 1000 },\r\n  })\r\n  return (\r\n    <div onClick={() => toggle(!state)}>\r\n      <animated.div\r\n        style={{\r\n          opacity: x.interpolate({ range: [0, 1], output: [0.8, 1] }),\r\n          transform: x\r\n            .interpolate({\r\n              range: [0, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 1],\r\n              output: [1, 0.97, 0.9, 1.1, 0.9, 1.1, 1.03, 1],\r\n            })\r\n            .interpolate(x => `scale(${x})`),\r\n        }}\r\n      >\r\n        {CartNoItem}\r\n      </animated.div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MaoMoveIcon\r\n","import React, { useState, useEffect } from 'react'\r\nimport './css/mao.scss'\r\nimport './css/ShopCartList.scss'\r\nimport MaoCartShopTotal from './component/MaoCartShopTotal'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  getShopCart,\r\n  AddCart,\r\n  AddCartItem,\r\n  DelCartItem,\r\n  CalShopCart,\r\n  Handle_AddMyFavorite,\r\n  ControlDataOne\r\n} from './actions/ShopCartAction'\r\nimport ProductSlide from './ProductSlide'\r\nimport { FaRegTrashAlt } from 'react-icons/fa'\r\nimport { FiHeart } from 'react-icons/fi'\r\nimport MaoAD from './component/MaoAD'\r\nimport './css/MaoAD.scss'\r\nimport PicSlide from './component/PicSlide'\r\nimport MaoMoveIcon from './MaoMoveIcon'\r\n\r\nfunction ShopCartList(props) {\r\n\r\n\r\n  const [loaded, setLoaded] = useState(false)\r\n  const [newItem,setNewItem] =useState(false)\r\n  const currentHisitem = localStorage.getItem('hisitem') || []\r\n  \r\n  useEffect(() => {\r\n    setLoaded(true)\r\n  }, [])\r\n\r\n\r\n\r\n\r\n  // 購物車內容\r\n  const dataList = props.AddItem.map((v, i) => {\r\n    return (\r\n      <li key={v.itemName} className=\"Mao-shopcart-check-item\">\r\n        <img\r\n          src={`/chin-img/images/${v.itemName}/${v.itemImg}`}\r\n          alt=\"\"\r\n          style={{ width: '100px', height: '100px' }}\r\n        />\r\n        <div className=\"Mao-shopcart-check-item-info\">\r\n          <p>{v.itemName}</p>\r\n          <div>\r\n            <p style={{ width: '25%' }}>{v.itemPrice}</p>\r\n            <div className=\"Mao-shopcart-check-item-count\">\r\n              <button\r\n                className=\"Mao-btn-amount\"\r\n                onClick={() => {\r\n                  props.AddCartItem(false, v.itemId, props.AddItem)\r\n                  props.CalShopCart(props.AddItem)\r\n                  setLoaded(!loaded)\r\n                }}\r\n              >\r\n                -\r\n              </button>\r\n              <input placeholder=\"\" value={v.count} type=\"text\" />\r\n              <button\r\n                className=\"Mao-btn-amount\"\r\n                onClick={() => {\r\n                  props.AddCartItem(true, v.itemId, props.AddItem)\r\n                  props.CalShopCart(props.AddItem)\r\n                  setLoaded(!loaded)\r\n                }}\r\n              >\r\n                +\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"Mao-shopcart-check-item-action\">\r\n          <button\r\n            className=\"Mao-btn-amount-whiteDel Mao-btn-amount-white-my\"\r\n            onClick={() => {\r\n              props.CalShopCart(props.AddItem)\r\n              props.DelCartItem(i, props.AddItem)\r\n            }}\r\n          >\r\n            <FaRegTrashAlt\r\n              className=\"Mao-del-img\"\r\n            />\r\n            <span>刪除</span>\r\n            <div className=\"Mao-btn-show\"></div>\r\n            <div className=\"Mao-btn-showL\"></div>\r\n          </button>\r\n          <button\r\n            className=\"Mao-btn-amount-whiteLike Mao-btn-amount-white-my\"\r\n            onClick={() => {\r\n              props.CalShopCart(props.AddItem)\r\n              props.DelCartItem(i, props.AddItem)\r\n              props.Handle_AddMyFavorite(true, v, props.MyFavorite)\r\n            }}\r\n          >\r\n            <FiHeart className=\"Mao-btn-in-favor\"/>\r\n            <span>下次購買</span>\r\n            <div className=\"Mao-btn-show\"></div>\r\n            <div className=\"Mao-btn-showL\"></div>\r\n          </button>\r\n        </div>\r\n      </li>\r\n    )\r\n  })\r\n  // 如果沒有購物車內沒有品項顯示的畫面\r\n  const CartNoItem = (\r\n    <div>\r\n      <MaoMoveIcon />\r\n      </div>\r\n  )\r\n  const CartNoItemTotal = <div className=\"Mao-Total-Box-none\"></div>\r\n  const ADrand =<PicSlide />\r\n  const [getCard,setGetCard]=useState(false)\r\n\r\n  return (\r\n    <>\r\n      <div className=\"Mao-shopcart-list-outsidest\">\r\n        <ul className=\"Mao-shopcart-check-item-ul\">\r\n          {props.AddItem.length > 0 ? dataList :\r\n      <MaoMoveIcon />}\r\n        </ul>\r\n        {props.AddItem.length > 0 ? <MaoCartShopTotal /> : ADrand}\r\n      </div>\r\n      <ProductSlide \r\n      getdata={newItem} //hook\r\n      sendData={items=>{ //func\r\n        setNewItem(items)\r\n      }}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\n// 告訴redux該怎麼對應它的store中的state到這個元件的props的哪裡\r\nconst mapStateToProps = store => {\r\n  return {\r\n    //購物車內容\r\n    // data: store.getShop,\r\n    AddItem: store.AddItem,\r\n    getRANDitemid:store.getRANDitemid,\r\n    MyFavorite: store.MyFavorite,\r\n    CtrlData: store.ControlDataState,\r\n    getItems:store.getItems\r\n  }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getShopCart,\r\n      AddCart,\r\n      AddCartItem,\r\n      DelCartItem,\r\n      CalShopCart,\r\n      Handle_AddMyFavorite,\r\n      ControlDataOne\r\n    },\r\n    dispatch\r\n  )\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(ShopCartList)\r\n)\r\n","import React, { useState, useEffect } from 'react'\r\nimport './css/mao.scss'\r\nimport './css/ShopCartLike.scss'\r\nimport ProductSlide from './ProductSlide'\r\nimport { withRouter, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  AddCart,\r\n  AddCartItem,\r\n  DelCartItem,\r\n  CalShopCart,\r\n  Handle_AddMyFavorite,\r\n  ControlDataOne,\r\n  AddCartNewItem_sendcal,\r\n} from './actions/ShopCartAction'\r\n\r\nimport {\r\n  fromServerMbLikeData,\r\n  addMbLikeData,\r\n  delMbLikeData,\r\n} from '../stacey/actions/couponAction'\r\n\r\nimport './css/MaoAD.scss'\r\nimport MemberSidebar from '../Irene/components/MemberSidebar'\r\nimport { FaShoppingBasket, FaRegTrashAlt } from 'react-icons/fa'\r\nimport { FiShoppingBag } from 'react-icons/fi'\r\n\r\nfunction ShopCartLike(props) {\r\n  const [favorloaded, setFavorloaded] = useState(false)\r\n  const [newItem, setNewItem] = useState(false)\r\n\r\n  //會員id\r\n  const mb_id = localStorage.getItem('userId')\r\n    ? localStorage.getItem('userId')\r\n    : 0\r\n\r\n    \r\n  useEffect(() => {\r\n    console.log('這裡原本有props被我拿掉囉')\r\n    if (mb_id) {\r\n      props.fromServerMbLikeData(mb_id)\r\n    }\r\n  }, [mb_id])\r\n\r\n  // 購物車內容顯示　要再做調整\r\n  const dataList = props.MyFavorite.map((v, i) => {\r\n    // console.log('MyFavorite', v)\r\n    return (\r\n      <li key={v.itemId} className=\"d-flex Mao-shopcart-check-item\">\r\n        <img\r\n          src={`/chin-img/images/${v.itemName}/${v.itemImg}`}\r\n          alt=\"\"\r\n          style={{ width: '100px', height: '100px' }}\r\n        />\r\n\r\n        <div className=\"Mao-shopcart-check-item-info\">\r\n          <p className=\"Mao-btn-text\">{v.itemName}</p>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <p style={{ width: '25%' }}>{v.itemPrice}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"Mao-shopcart-check-item-action\">\r\n          <button\r\n            className=\"Mao-btn-amount-whiteDel Mao-btn-amount-white-my\"\r\n            onClick={() => {\r\n              props.delMbLikeData(mb_id, v)\r\n            }}\r\n          >\r\n            <FaRegTrashAlt\r\n              style={{ margin: '0px 20px', width: '24px', height: '24px' }}\r\n            />\r\n            <span>刪除</span>\r\n            <div className=\"Mao-btn-show\"></div>\r\n            <div className=\"Mao-btn-showL\"></div>\r\n          </button>\r\n          {/* </div> */}\r\n\r\n          <button\r\n            className=\"Mao-btn-amount-whiteDel Mao-btn-amount-white-my\"\r\n            onClick={() => {\r\n              let productInfo = {\r\n                itemId: v.itemId,\r\n                name: v.name,\r\n                itemName: v.itemName,\r\n                itemImg: v.itemImg,\r\n                itemPrice: v.itemPrice,\r\n                itemCategoryId: v.itemCategoryId,\r\n              }\r\n              // props.Handle_AddMyFavorite(false, productInfo, props.MyFavorite)\r\n              props.delMbLikeData(mb_id, v)\r\n              props.AddCartNewItem_sendcal(productInfo, props.AddItem)\r\n            }}\r\n          >\r\n            <FiShoppingBag\r\n              style={{ margin: '0px 20px', width: '24px', height: '24px' }}\r\n            />\r\n            <span>加入購物車</span>\r\n            <div className=\"Mao-btn-show\"></div>\r\n            <div className=\"Mao-btn-showL\"></div>\r\n          </button>\r\n        </div>\r\n      </li>\r\n    )\r\n  })\r\n  // 如果沒有購物車內沒有品項顯示的畫面\r\n  const CartNoItem = (\r\n    <div className=\"Mao-CartNoItem\">\r\n      <Link to=\"/\" style={{ color: '#000' }}>\r\n        <h3>趕快去尋找最愛的商品吧！</h3>\r\n        <FaShoppingBasket\r\n          style={{\r\n            width: '300px',\r\n            height: '300px',\r\n            opacity: '0.5',\r\n            margin: '40px',\r\n          }}\r\n        />\r\n      </Link>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <div className=\"d-flex\">\r\n        <MemberSidebar />\r\n        <div className=\"Mao-Like-box\">\r\n          <ul\r\n            className={\r\n              dataList.length > 0 ? 'Mao-ul-bg-white' : 'Mao-ul-bg-none'\r\n            }\r\n          >\r\n            {dataList.length == 0 ? CartNoItem : dataList}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <ProductSlide\r\n        getdata={newItem} //hook\r\n        sendData={items => {\r\n          //func\r\n          setNewItem(items)\r\n        }}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\n// 告訴redux該怎麼對應它的store中的state到這個元件的props的哪裡\r\nconst mapStateToProps = store => {\r\n  return {\r\n    //購物車內容\r\n    AddItem: store.AddItem,\r\n    Cart: store.displayShopCart,\r\n    calculator: store.calculator,\r\n    // MyFavorite: store.MyFavorite,\r\n    MyFavorite: store.memberLikeData,\r\n  }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      ControlDataOne,\r\n      AddCart,\r\n      AddCartItem,\r\n      DelCartItem,\r\n      CalShopCart,\r\n      Handle_AddMyFavorite,\r\n      AddCartNewItem_sendcal,\r\n      fromServerMbLikeData,\r\n      addMbLikeData,\r\n      delMbLikeData,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(ShopCartLike)\r\n)\r\n","import React from 'react'\r\n  \r\nconst GetDayRange = ()=>{\r\n//月\r\nfunction getMonth() {\r\n    let MonthBox = []\r\n    for (let i = 1; i <= 12; i++) {\r\n      MonthBox.push(<option value={i}>{i}</option>)\r\n    }\r\n    return MonthBox\r\n  }\r\n  //年\r\n  function getYear() {\r\n    let yearBox = []\r\n    let MinDate = new Date()\r\n    let year = MinDate.getFullYear()\r\n    for (let i = year - 3; i <= year + 3; i++) {\r\n      yearBox.push(<option value={i}>{i}</option>)\r\n    }\r\n    return yearBox\r\n  }\r\n\r\n\r\n\r\n  \r\n  return (\r\n      {getMonth,getYear}\r\n  )\r\n}\r\n\r\nexport default GetDayRange","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport MaoCartShopTotal from './component/MaoCartShopTotal'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n  DelCart,\r\n  ControlDataOne,\r\n  fromServerorderBuyerInfo,\r\n  forServerorderProductInfo,\r\n  saveOrderBuyerInfo,\r\n  clearOrderBuyerproduct,\r\n  CheckCoupon,\r\n} from './actions/ShopCartAction'\r\n\r\nimport { getserverMember } from '../Irene/actions/memberAction'\r\nimport Swal from 'sweetalert2'\r\nimport GetDayRange from './GetDayRange'\r\nimport './css/OrderInfo.scss'\r\nimport $ from 'jquery'\r\nimport MaoAD from './component/MaoAD'\r\n\r\nimport 'leaflet/dist/leaflet.css'\r\nimport L from 'leaflet'\r\n\r\nfunction OrderInfo(props) {\r\n  const [taipei711, setTaipei711] = useState([])\r\n  const [choose711, setChoose711] = useState('')\r\n  const [isShowMap, setIsShowMap] = useState(false)\r\n  // console.log(props)\r\n  let LocalUser = localStorage.getItem('userId')\r\n    ? localStorage.getItem('userId')\r\n    : 0\r\n  const [user, setUser] = useState(localStorage.getItem('userId'))\r\n  const [userName, setUserName] = useState('')\r\n  const [userPhoneNumber, setUserPhoneNumber] = useState('')\r\n  //錯誤傳達的資訊\r\n  const [errors, setErrors] = useState({\r\n    buyerName: '',\r\n    mobile: '',\r\n    buyerAdress: '',\r\n    invoice: '',\r\n    shipping: '',\r\n    payment: '',\r\n  })\r\n  //信用卡開關\r\n  const [openCard, setOpenCard] = useState(false)\r\n  //統編開關\r\n  const [opentaxNo, setOpentaxNo] = useState(false)\r\n  //判斷資料是否有填妥\r\n  const [errorBox, setErrorBox] = useState([\r\n    'buyerName',\r\n    'mobile',\r\n    'shipping',\r\n    'payment',\r\n    'invoice',\r\n  ])\r\n  //接收折扣\r\n  const [getdiscount, setGetdiscount] = useState(0)\r\n  const [getCouponArr, setGetCouponArr] = useState([])\r\n\r\n  const { getMonth, getYear } = GetDayRange()\r\n\r\n  //訂單\r\n  let order = ''\r\n  function getRND() {\r\n    let Numlength = 8\r\n    const word = 'QAZWSXEDCRFVTGBYHNUJMIKOLP1234567890'\r\n    for (let i = 0; i <= Numlength; i++) {\r\n      order += word[Math.round(Math.random() * (word.length - 1))]\r\n    }\r\n  }\r\n\r\n  let sendTotal = props.FinalTotal\r\n\r\n  //送出資料\r\n  const [buyerInfo, setBuyerInfo] = useState({\r\n    orderId: `${order}`,\r\n    buyerName: '',\r\n    mobile: '',\r\n    payment: 'COD',\r\n    shipping: 'Seven-store',\r\n    buyerAdress: '台北市大安 信興門市',\r\n    invoice: 'personal-invoice',\r\n    taxNo: '',\r\n    total: sendTotal,\r\n    shipCost: '100',\r\n    discount: getdiscount,\r\n  })\r\n  //插入資料 開關\r\n  const [getBuyerbasic, setGetBuyerbasic] = useState(true)\r\n  function getbuyer(e) {\r\n    if (getBuyerbasic) {\r\n      if (props.Userdata[0] == null) {\r\n        Swal.fire({\r\n          icon: 'info',\r\n          text: '會員資料不完整',\r\n        })\r\n        return false\r\n      } else {\r\n        $('#buyerName').val(props.Userdata[0].Name)\r\n        $('#mobile').val(props.Userdata[0].PhoneNumber)\r\n        let newErr = errorBox.filter(e => e !== 'buyerName' && e !== 'mobile')\r\n        //驗證是否正確\r\n        setErrorBox(newErr)\r\n        //錯誤提示文字\r\n        setErrors({ ...errors, mobile: '', buyerName: '' })\r\n        // 購買人資訊\r\n        setBuyerInfo({\r\n          ...buyerInfo,\r\n          buyerName: props.Userdata[0].Name,\r\n          mobile: props.Userdata[0].PhoneNumber,\r\n        })\r\n        setGetBuyerbasic(false)\r\n      }\r\n    } else {\r\n      $('#mobile').val('')\r\n      $('#buyerName').val('')\r\n      setBuyerInfo({ ...buyerInfo, buyerName: '', mobile: '' })\r\n      setErrorBox([...errorBox, 'buyerName', 'mobile'])\r\n      // setErrorBox(newErr)\r\n      setGetBuyerbasic(true)\r\n    }\r\n  }\r\n\r\n  //獲取buyer資訊檢查\r\n  function getformInfo(e, str) {\r\n    let getInfo = e.currentTarget.value\r\n    let getInfo2 = e.currentTarget.id\r\n    switch (str) {\r\n      case 'buyerName':\r\n        if (getInfo.length === 0) {\r\n          setErrors({ ...errors, buyerName: '名字不能空白' })\r\n        } else {\r\n          setErrors({ ...errors, buyerName: '' })\r\n          let newErr = errorBox.filter(e => e !== 'buyerName')\r\n          setErrorBox(newErr)\r\n          setBuyerInfo({ ...buyerInfo, buyerName: getInfo })\r\n          buyerInfo.buyerName = getInfo\r\n        }\r\n        break\r\n      case 'mobile':\r\n        setBuyerInfo({ ...buyerInfo, mobile: getInfo })\r\n        if (getInfo.length === 0) {\r\n          setErrors({ ...errors, mobile: '電話號碼不能為空白' })\r\n        } else if (!/^09[0-9]\\d{7}$/.test(getInfo)) {\r\n          setErrors({\r\n            ...errors,\r\n            mobile: '電話號碼格式有誤，請以09xxxxxxxx輸入',\r\n          })\r\n        } else {\r\n          setErrors({ ...errors, mobile: '' })\r\n          let newErr = errorBox.filter(e => e !== 'mobile')\r\n          setErrorBox(newErr)\r\n          buyerInfo.mobile = getInfo\r\n        }\r\n        break\r\n      case 'shipping':\r\n        if (getInfo2 == 'Seven-store') {\r\n          getInfo2 = '7-11'\r\n          let newErr = errorBox.filter(e => e !== 'shipping')\r\n          setErrorBox(newErr)\r\n          setErrors({ ...errors, shipping: '' })\r\n        } else if (getInfo2 == 'HiLife') {\r\n          getInfo2 = '萊爾富'\r\n          let newErr = errorBox.filter(e => e !== 'shipping')\r\n          setErrorBox(newErr)\r\n          setErrors({ ...errors, shipping: '' })\r\n        } else if (getInfo2 == 'Adress') {\r\n          getInfo2 = '萊爾富'\r\n          let newErr = errorBox.filter(e => e !== 'shipping')\r\n          setErrorBox(newErr)\r\n          setErrors({ ...errors, shipping: '' })\r\n        } else {\r\n          setErrors({ ...errors, shipping: '' })\r\n          setBuyerInfo({ ...buyerInfo, shipping: getInfo2 })\r\n        }\r\n        buyerInfo.shipping = getInfo2\r\n        break\r\n      case 'payment':\r\n        if (getInfo2 == 'COD') {\r\n          getInfo2 = '貨到付款'\r\n          let newErr = errorBox.filter(e => e !== 'payment')\r\n          setErrorBox(newErr)\r\n          setErrors({ ...errors, payment: '' })\r\n        } else if (getInfo2 == 'CreditCard') {\r\n          getInfo2 = 'CreditCard'\r\n          let newErr = errorBox.filter(e => e !== 'payment')\r\n          setErrorBox(newErr)\r\n          setErrors({ ...errors, payment: '' })\r\n        } else if (getInfo2 == 'ATM轉帳') {\r\n          getInfo2 = 'ATM轉帳'\r\n          let newErr = errorBox.filter(e => e !== 'payment')\r\n          setErrorBox(newErr)\r\n          setErrors({ ...errors, payment: '' })\r\n        } else {\r\n          setErrors({ ...errors, payment: '' })\r\n          setBuyerInfo({ ...buyerInfo, payment: getInfo2 })\r\n        }\r\n        buyerInfo.payment = getInfo2\r\n        break\r\n      case 'invoice':\r\n        if (getInfo2 == 'personal-invoice') {\r\n          getInfo2 = '個人電子發票'\r\n          let newErr = errorBox.filter(e => e !== 'invoice')\r\n          setErrorBox(newErr)\r\n          setErrors({ ...errors, invoice: '' })\r\n        } else if (getInfo2 == 'donate') {\r\n          getInfo2 = '捐贈發票'\r\n          let newErr = errorBox.filter(e => e !== 'invoice')\r\n          setErrorBox(newErr)\r\n          setErrors({ ...errors, invoice: '' })\r\n        } else if (getInfo == '公司戶電子發票') {\r\n          getInfo2 = '公司戶電子發票'\r\n          let newErr = errorBox.filter(e => e !== 'invoice')\r\n          setErrorBox(newErr)\r\n          setErrors({ ...errors, invoice: '' })\r\n        } else {\r\n          setErrors({ ...errors, invoice: '' })\r\n          setBuyerInfo({ ...buyerInfo, invoice: getInfo2 })\r\n        }\r\n        buyerInfo.invoice = getInfo2\r\n        break\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  async function get711() {\r\n    const request = new Request(`http://localhost:5500/backend/get711`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n    const res = await fetch(request)\r\n    const data = await res.json()\r\n    setTaipei711(data)\r\n  }\r\n\r\n  useEffect(() => {\r\n    get711()\r\n    getRND()\r\n    getorderProductInfo()\r\n    GetDayRange()\r\n    props.getserverMember(user)\r\n\r\n    $(document).ready(function() {\r\n      // $('.map-hide').hide()\r\n      $('#Seven-store:radio').change(function() {\r\n        let value = $('#Seven-store:radio').val()\r\n        if (value === 'on') {\r\n          $('.map-hide').show()\r\n        }\r\n      })\r\n\r\n      $('#Adress:radio').change(function() {\r\n        let value = $('#Seven-store:radio').val()\r\n        if (value === 'on') {\r\n          $('.map-hide').hide()\r\n        }\r\n      })\r\n    })\r\n  }, [])\r\n\r\n  let mymap = ''\r\n  useEffect(() => {\r\n    if (taipei711 && taipei711.length != 0) {\r\n      //OpenStreetMap\r\n      if (mymap === '') {\r\n        mymap = L.map('mapid').setView(\r\n          [25.033778350065916, 121.54337204522369],\r\n          16\r\n        )\r\n        const OSMUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\r\n        L.tileLayer(OSMUrl).addTo(mymap)\r\n        // 使用 leaflet-color-markers ( https://github.com/pointhi/leaflet-color-markers ) 當作 marker\r\n        const greenIcon = new L.Icon({\r\n          iconUrl:\r\n            'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\r\n          shadowUrl:\r\n            'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n          iconSize: [25, 41],\r\n          iconAnchor: [12, 41],\r\n          popupAnchor: [1, -34],\r\n          shadowSize: [41, 41],\r\n        })\r\n\r\n        function onMapClick(e) {\r\n          const shopName = e.target._popup._content.substring(\r\n            3,\r\n            e.target._popup._content.indexOf('</b>')\r\n          )\r\n\r\n          setChoose711(shopName)\r\n        }\r\n\r\n        for (let i = 0; i < taipei711.length; i++) {\r\n          const marker = L.marker(\r\n            [taipei711[i].shopLat, taipei711[i].shopLong],\r\n            {\r\n              icon: greenIcon,\r\n            }\r\n          ).addTo(mymap)\r\n          marker\r\n            .bindPopup(\r\n              `<b>${taipei711[i].shopName}</b><br>${taipei711[i].shopAddress}`\r\n            )\r\n            .openPopup()\r\n          marker.on('click', onMapClick)\r\n        }\r\n        $('.map-hide').hide()\r\n      }\r\n\r\n      // L.circle([25.03418, 121.564517], {\r\n      //   color: 'red',\r\n      //   fillColor: '#f03',\r\n      //   fillOpacity: 0.5,\r\n      //   radius: 10,\r\n      // }).addTo(mymap)\r\n    }\r\n  }, [taipei711])\r\n\r\n  useEffect(() => {\r\n    buyerInfo.orderId = order\r\n  }, [order])\r\n  useEffect(() => {\r\n    // console.log('看這裡吧~getCouponArr==',getCouponArr)\r\n  }, [getCouponArr])\r\n  useEffect(() => {\r\n    // console.log('errorBox',errorBox)\r\n    setBuyerInfo({ ...buyerInfo, discount: getdiscount })\r\n  }, [errorBox])\r\n  // useEffect(()=>{\r\n  // console.log('buyerInfo',buyerInfo)\r\n  // },[buyerInfo])\r\n  //儲存產品hook\r\n  const [pIdArr, setPIdArr] = useState([])\r\n  const [countArr, setCountArr] = useState([])\r\n  const [itemNameArr, setItemNameArr] = useState([])\r\n  const [nameArr, setNameArr] = useState([])\r\n  const [itemImgArr, setItemImgArr] = useState([])\r\n  const [itemPriceArr, setItemPriceArr] = useState([])\r\n  const [itemCategoryIdArr, setItemCategoryIdArr] = useState([])\r\n  //獲取購物車內容\r\n  function getorderProductInfo() {\r\n    const pIdArrBox = []\r\n    const itemNameArrBox = []\r\n    const nameArrBox = []\r\n    const itemImgArrBox = []\r\n    const itemPriceArrBox = []\r\n    const itemCategoryIdArrBox = []\r\n    const countArrBox = []\r\n    props.AddItem.map((v, i) => {\r\n      itemNameArrBox.push(v.itemName)\r\n      itemImgArrBox.push(v.itemImg)\r\n      itemPriceArrBox.push(v.itemPrice)\r\n      nameArrBox.push(v.name)\r\n      itemCategoryIdArrBox.push(v.itemCategoryId)\r\n      countArrBox.push(v.count)\r\n      pIdArrBox.push(v.itemId)\r\n    })\r\n    setPIdArr(pIdArrBox)\r\n    setItemNameArr(itemNameArrBox)\r\n    setNameArr(nameArrBox)\r\n    setItemImgArr(itemImgArrBox)\r\n    setItemPriceArr(itemPriceArrBox)\r\n    setItemCategoryIdArr(itemCategoryIdArrBox)\r\n    setCountArr(countArrBox)\r\n  }\r\n\r\n  //送出\r\n  async function POSTorderInfo() {\r\n    let saveValueBox = {\r\n      buyerName: '',\r\n      mobile: '',\r\n      invoice: '',\r\n      shipping: '',\r\n      payment: '',\r\n    }\r\n    if (errorBox == 0) {\r\n      let noneObj = {}\r\n      setErrors(saveValueBox)\r\n      //清理暫存\r\n      await props.clearOrderBuyerproduct(noneObj)\r\n      //送出購買人資訊\r\n      await props.fromServerorderBuyerInfo(buyerInfo)\r\n      await props.DelCart([])\r\n      for (let i = 0; i < pIdArr.length; i++) {\r\n        let proBox = {\r\n          orderId: buyerInfo.orderId,\r\n          name: `${nameArr[i]}`,\r\n          itemId: `${pIdArr[i]}`,\r\n          itemName: `${itemNameArr[i]}`,\r\n          itemPrice: `${itemPriceArr[i]}`,\r\n          itemCategoryId: `${itemCategoryIdArr[i]}`,\r\n          itemImg: `${itemImgArr[i]}`,\r\n          count: `${countArr[i]}`,\r\n          outStatus: '訂單處理中',\r\n          mId: LocalUser,\r\n        }\r\n        //送出產品\r\n        props.forServerorderProductInfo(proBox)\r\n      }\r\n      await Swal.fire({\r\n        position: 'top-end',\r\n        icon: 'success',\r\n        title: '結帳完成',\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n        position: 'center',\r\n      })\r\n      await props.CheckCoupon(getCouponArr)\r\n      await getRND()\r\n    } else {\r\n      errorBox.map((v, i) => {\r\n        switch (v) {\r\n          case 'buyerName':\r\n            saveValueBox.buyerName = '名字不能空白'\r\n            break\r\n          case 'mobile':\r\n            saveValueBox.mobile = '電話號碼不能為空白'\r\n            break\r\n          case 'shipping':\r\n            saveValueBox.shipping = '請選擇取貨超商'\r\n            break\r\n          case 'payment':\r\n            saveValueBox.payment = '請選擇付款方式'\r\n            break\r\n          case 'invoice':\r\n            saveValueBox.invoice = '請選擇發票類型'\r\n          default:\r\n            break\r\n        }\r\n      })\r\n      setErrors(saveValueBox)\r\n      Swal.fire({\r\n        position: 'top-end',\r\n        icon: 'error',\r\n        title: '資料填寫不完整',\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n        position: 'center',\r\n      })\r\n    }\r\n  }\r\n\r\n  const shipType = [\r\n    { type: 'Seven-store', name: '7-11超商' },\r\n    { type: 'HiLife', name: '萊爾富' },\r\n    { type: 'Adress', name: '收貨地址' },\r\n  ]\r\n  const shipTypeDOM = []\r\n  //寄送方式\r\n  const shipTypeBox = shipType.map((v, i) => {\r\n    shipTypeDOM.push(\r\n      <div className=\"custom-control custom-radio mr-5\">\r\n        <input\r\n          type=\"radio\"\r\n          className=\"custom-control-input\"\r\n          name=\"shipping\"\r\n          id={v.type}\r\n          onChange={e => {\r\n            getformInfo(e, 'shipping')\r\n          }}\r\n        />\r\n        <label className=\"custom-control-label\" htmlFor={v.type}>\r\n          {v.name}\r\n        </label>\r\n        {v.type == 'Adress' ? <input type=\"text\" /> : ''}\r\n      </div>\r\n    )\r\n  })\r\n  //付款方式\r\n  const payType = [\r\n    { type: 'COD', name: '貨到付款' },\r\n    { type: 'CreditCard', name: '信用卡一次付清' },\r\n    { type: 'ATM', name: 'ATM轉帳' },\r\n  ]\r\n  const payTypeDOM = []\r\n  const payTypeBox = payType.map((v, i) => {\r\n    payTypeDOM.push(\r\n      <div className=\"custom-control custom-radio mr-5\">\r\n        <input\r\n          type=\"radio\"\r\n          className=\"custom-control-input\"\r\n          name=\"payment\"\r\n          id={v.type}\r\n          onChange={(e, str) => {\r\n            getformInfo(e, 'payment')\r\n          }}\r\n          onClick={() => {\r\n            {\r\n              v.type == 'CreditCard' ? setOpenCard(true) : setOpenCard(false)\r\n            }\r\n          }}\r\n        />\r\n        <label className=\"custom-control-label\" htmlFor={v.type}>\r\n          {v.name}\r\n        </label>\r\n      </div>\r\n    )\r\n  })\r\n\r\n  //發票種類\r\n\r\n  const invoiceType = [\r\n    { type: 'personal-invoice', name: '個人電子發票' },\r\n    { type: 'donate', name: '捐贈發票' },\r\n    { type: 'company', name: '公司戶電子發票' },\r\n  ]\r\n  const invoiceDOM = []\r\n  const invoiceBox = invoiceType.map((v, i) => {\r\n    invoiceDOM.push(\r\n      <div className=\"custom-control custom-radio mr-5\">\r\n        <input\r\n          type=\"radio\"\r\n          className=\"custom-control-input\"\r\n          name=\"invoice\"\r\n          id={v.type}\r\n          onClick={(e, str) => {\r\n            getformInfo(e, 'invoice')\r\n            {\r\n              v.type == 'company' ? setOpentaxNo(true) : setOpentaxNo(false)\r\n            }\r\n          }}\r\n        />\r\n        <label className=\"custom-control-label\" htmlFor={v.type}>\r\n          {v.name}\r\n        </label>\r\n      </div>\r\n    )\r\n  })\r\n\r\n  const CreditCardInfo = (\r\n    <div id=\"creditCardInfo\">\r\n      <div className=\"form-row my-5  d-flex align-items-center\">\r\n        <div className=\"col-2\">\r\n          <h4>信用卡號</h4>\r\n        </div>\r\n        <div className=\"col-2\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"\"\r\n            maxlength=\"4\"\r\n          />\r\n        </div>\r\n        <div className=\"col-2\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"\"\r\n            maxlength=\"4\"\r\n          />\r\n        </div>\r\n        <div className=\"col-2\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"\"\r\n            maxlength=\"4\"\r\n          />\r\n        </div>\r\n        <div className=\"col-2\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"\"\r\n            maxlength=\"4\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-row my-5 d-flex align-items-center\">\r\n        <div className=\"col-2\">\r\n          <h4>有效期限</h4>\r\n        </div>\r\n        <div className=\"col-2 d-flex align-items-center\">\r\n          <select className=\"custom-select mr-3\">{getMonth()}</select>\r\n          <span>月</span>\r\n        </div>\r\n        <div className=\"col-3 d-flex align-items-center\">\r\n          <select className=\"custom-select mr-3\">{getYear()}</select>\r\n          <span>年</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"form-row mt-3 d-flex align-items-center\">\r\n        <div className=\"col-2\">\r\n          <h4>檢核碼</h4>\r\n        </div>\r\n        <div className=\"col-5 d-flex align-items-center\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control mr-3 w-25\"\r\n            placeholder=\"\"\r\n            maxLength=\"3\"\r\n          />\r\n          <p style={{ width: '50%', margin: 0 }}>卡片背面，後三碼</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const taxInfo = (\r\n    <div className=\"form-row mt-3 d-flex align-items-center\">\r\n      <div className=\"col-2\">\r\n        <h4>統一編號</h4>\r\n      </div>\r\n      <div className=\"col-10 d-flex align-items-center\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control mr-3 w-25\"\r\n          placeholder=\"\"\r\n          maxLength=\"8\"\r\n          onChange={(e, str) => {\r\n            getformInfo(e, 'taxNo')\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n  //表格\r\n  return (\r\n    <>\r\n      {/* <form method=\"POST\"> */}\r\n      <MaoAD />\r\n      <div className=\"Mao-form-outer-box\">\r\n        <div className=\"Mao-orderInfo-form-contain-box\">\r\n          {/* <div className=\"d-flex\">{quickInsertInfo}</div> */}\r\n          <div className=\"form-row d-flex flex-column\">\r\n            <h2 className=\"border-bottom p-3 mt-4\">訂購人資料</h2>\r\n            <div className=\"col my-3\">\r\n              <h4>訂購人姓名</h4>\r\n              <input\r\n                type=\"text\"\r\n                id=\"buyerName\"\r\n                className=\"form-control\"\r\n                placeholder=\"訂購人姓名\"\r\n                style={{ border: 'none', borderBottom: '1px solid #ddd' }}\r\n                onBlur={(e, str) => getformInfo(e, 'buyerName')}\r\n                onChange={(e, str) => getformInfo(e, 'buyerName')}\r\n              />\r\n              {errors.buyerName !== '' ? (\r\n                <p className=\"Mao-prompt-word\">{errors.buyerName}</p>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n            <div className=\"col my-3\">\r\n              <h4>訂購人電話</h4>\r\n              <input\r\n                type=\"text\"\r\n                id=\"mobile\"\r\n                className=\"form-control\"\r\n                placeholder=\"手機號碼\"\r\n                style={{ border: 'none', borderBottom: '1px solid #ddd' }}\r\n                onChange={(e, str) => getformInfo(e, 'mobile')}\r\n                onBlur={(e, str) => getformInfo(e, 'mobile')}\r\n              />\r\n              {errors.mobile !== '' ? (\r\n                <p className=\"Mao-prompt-word\">{errors.mobile}</p>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n          </div>\r\n          {LocalUser != 0 ? (\r\n            <div className=\"custom-control custom-checkbox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"custom-control-input\"\r\n                id=\"customCheck1\"\r\n                onClick={e => {\r\n                  getbuyer(e)\r\n                }}\r\n              />\r\n              <label className=\"custom-control-label\" htmlFor=\"customCheck1\">\r\n                同會員資料\r\n              </label>\r\n            </div>\r\n          ) : (\r\n            ''\r\n          )}\r\n\r\n          <div>\r\n            <div className=\"form-row d-flex flex-column my-5\">\r\n              <h2 className=\"border-bottom p-3\">運送方式</h2>\r\n            </div>\r\n            <div className=\"d-flex\">{shipTypeDOM}</div>\r\n          </div>\r\n\r\n          <>\r\n            <label\r\n              className=\"map-hide\"\r\n              style={{ marginTop: '15px', fontSize: '20px' }}\r\n            >\r\n              你選擇的門市：\r\n            </label>\r\n            <label\r\n              id=\"chooseShop\"\r\n              className=\"map-hide\"\r\n              style={{ marginTop: '15px', fontSize: '20px' }}\r\n            >\r\n              {choose711}\r\n            </label>\r\n            <div\r\n              id=\"mapid\"\r\n              className=\"map-hide\"\r\n              style={{\r\n                height: '40vh',\r\n                width: '30vw',\r\n                marginTop: '10px',\r\n              }}\r\n            />\r\n          </>\r\n\r\n          {errors.buyerAdress !== '' ? (\r\n            <p className=\"Mao-prompt-word\">{errors.buyerAdress}</p>\r\n          ) : (\r\n            ''\r\n          )}\r\n          {errors.shipping !== '' ? (\r\n            <p className=\"Mao-prompt-word\">{errors.shipping}</p>\r\n          ) : (\r\n            ''\r\n          )}\r\n          <div>\r\n            <div className=\"form-row d-flex flex-column my-5\">\r\n              <h2 className=\"border-bottom p-3\" style={{ display: 'block' }}>\r\n                選擇付款方式\r\n              </h2>\r\n            </div>\r\n            <div className=\"d-flex\">{payTypeDOM}</div>\r\n          </div>\r\n          {errors.payment !== '' ? (\r\n            <p className=\"Mao-prompt-word\">{errors.payment}</p>\r\n          ) : (\r\n            ''\r\n          )}\r\n          {openCard ? CreditCardInfo : ''}\r\n          <div className=\"form-row d-flex flex-column\">\r\n            <div className=\"form-row d-flex flex-column mt-5\">\r\n              <h2 className=\"border-bottom p-3\" style={{ display: 'block' }}>\r\n                發票\r\n              </h2>\r\n            </div>\r\n            <div className=\"d-flex \">{invoiceDOM}</div>{' '}\r\n            {errors.invoice !== '' ? (\r\n              <p className=\"Mao-prompt-word\">{errors.invoice}</p>\r\n            ) : (\r\n              ''\r\n            )}\r\n            {opentaxNo ? taxInfo : ''}\r\n          </div>\r\n          <br />\r\n          <div className=\"d-flex justify-content-center my-4\">\r\n            <Link\r\n              to=\"./ShopCartList\"\r\n              className=\"Mao-order-Info-btn Mao-order-btn-color-white\"\r\n            >\r\n              上一步\r\n            </Link>\r\n            <Link\r\n              to={errorBox == 0 && LocalUser != 0 ? '/Orderbill' : '/OrderInfo'}\r\n              className=\"Mao-order-Info-btn Mao-order-btn-color-black\"\r\n              id=\"sendOrder\"\r\n              onClick={() => {\r\n                {\r\n                  LocalUser == 0 ? alert('請先登入') : POSTorderInfo()\r\n                }\r\n              }}\r\n            >\r\n              結帳\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <MaoCartShopTotal\r\n          sendOrder={() => {\r\n            POSTorderInfo()\r\n          }}\r\n          getErrorBox={errorBox}\r\n          postDiscount={val => {\r\n            setGetdiscount(val)\r\n          }}\r\n          CatchCoupon={val => {\r\n            setGetCouponArr(val)\r\n          }}\r\n        />\r\n      </div>\r\n      {/* </form> */}\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    //購物車內容\r\n    AddItem: store.AddItem,\r\n    FinalTotal: store.calculator_total,\r\n    saveOrderBuyerInfoReducer: store.saveOrderBuyerInfoReducer,\r\n    Userdata: store.getMemberID,\r\n  }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      ControlDataOne,\r\n      fromServerorderBuyerInfo,\r\n      forServerorderProductInfo,\r\n      saveOrderBuyerInfo,\r\n      clearOrderBuyerproduct,\r\n      DelCart,\r\n      CheckCoupon,\r\n      getserverMember,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderInfo)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Table, bordered, tr } from 'react-bootstrap'\r\nimport './css/Orderbill.scss'\r\nimport MemberSidebar from '../Irene/components/MemberSidebar'\r\nimport {Link} from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { productList } from './ProductList'\r\nimport {\r\n  getShopCart,\r\n  AddCart,\r\n  AddCartItem,\r\n  DelCartItem,\r\n  CalShopCart,\r\n  Handle_AddMyFavorite,\r\n  ControlDataOne,\r\n  saveOrderBuyerInfo,\r\n  AddCartNewItem_sendcal,\r\n  getOrderFromServer,\r\n  saveOrderBuyerproduct,\r\n} from './actions/ShopCartAction'\r\n\r\nfunction Orderbill(props) {\r\n  // console.log('Orderbill', props)\r\n  \r\n  const [loaded, setLoaded] = useState(false)\r\n  const [waitOrder,setWaitOrder] =useState(false)\r\n  function getProductName(val) {\r\n    productList.map((v, i) => {\r\n      if (v.itemId == val) {\r\n        val = v.pName\r\n      }\r\n    })\r\n    return val\r\n  }\r\n  function checkProductPrice(val) {\r\n    productList.map((v, i) => {\r\n      if (val == v.itemId) {\r\n        val = v.itemPrice\r\n      }\r\n    })\r\n    return val\r\n  }\r\n  document.documentElement.scrollTop = document.body.scrollTop=0\r\n\r\n  let orderprodInfo = props.saveOrderBuyerProReducer\r\n\r\n  const orderListitem = orderprodInfo.map((v, i) => {\r\n    return (\r\n      <>\r\n      <tr>\r\n        <Link to={`commidty/${v.itemId}`} style={{color:'#000'}}>\r\n            <td className=\"d-flex\">\r\n              <div className=\"w-50\">\r\n                <span>{v.itemName}</span>\r\n              </div>\r\n              <div className=\"w-25 px-3\">\r\n                <span>{v.count}</span>\r\n              </div>\r\n              <div className=\"w-25 px-3\">\r\n                <span>{v.itemPrice}</span>\r\n              </div>\r\n            </td>\r\n          </Link>\r\n        </tr>\r\n      </>\r\n    )\r\n  })\r\n\r\n  const orderItemThead = (\r\n    <thead className=\"Mao-orderbill-Item-thead\">\r\n      <tr className=\"d-flex p-2\">\r\n        <div className=\"w-50\">產品名稱</div>\r\n        <div className=\"w-25\">產品數量</div>\r\n        <div className=\"w-25\">產品價格</div>\r\n      </tr>\r\n    </thead>\r\n  )\r\n  let buyerInfo = props.saveOrderBuyerInfoReducer\r\n  const orderListBuyerInfo = (\r\n    <thead className=\"Mao-orderbill-border\">\r\n      <tr>\r\n        <th className=\"d-flex\">\r\n          <div className=\"mr-5\">\r\n            購買人訂單：<span>{buyerInfo.orderId}</span>\r\n          </div>\r\n          <div className=\"mr-5\">\r\n            購買人姓名：<span>{buyerInfo.buyerName}</span>\r\n          </div>\r\n          <div>\r\n            購買人取貨地點：\r\n            <span>\r\n              {buyerInfo.shipping} {buyerInfo.buyerAdress}\r\n            </span>\r\n          </div>\r\n        </th>\r\n      </tr>\r\n      <tr>\r\n        <th className=\"d-flex justify-content-between\">\r\n          <div className=\"mr-5\">\r\n            運費：<span>{buyerInfo.shipCost}</span>\r\n          </div>\r\n          <div className=\"mr-5\">\r\n            活動折扣：<span>{buyerInfo.discount}</span>\r\n          </div>\r\n          <div>\r\n            消費總金額：<span>{+buyerInfo.total-buyerInfo.discount}</span>\r\n          </div>\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n  )\r\n  const orderListDataBox = (\r\n    <Table hover responsive=\"md\" className=\"w-100\">\r\n      {/* {test} */}\r\n      {orderListBuyerInfo}\r\n      {orderItemThead}\r\n      <tbody>{orderListitem}</tbody>\r\n    </Table>\r\n  )\r\n\r\n  const orderListtable = (\r\n    <div className=\"Mao-orderbill-title\">\r\n      <h3>訂單</h3>\r\n    </div>\r\n  )\r\n\r\n  const waitingDisplay = (\r\n    <div className=\"Mao-waiting-display\"></div>\r\n  )\r\n\r\n  const displayOK = (\r\n    <div className=\"d-flex\">\r\n      <MemberSidebar />\r\n      <div style={{ width: '1000px' }}>\r\n        {orderListtable}\r\n        <div className=\"Mao-orderbill-border-box\">{orderListDataBox}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n  setTimeout(() => {\r\n    setLoaded(true)\r\n  }, 2000)\r\n\r\n  return <>{loaded ? displayOK : waitingDisplay}</>\r\n}\r\n// 告訴redux該怎麼對應它的store中的state到這個元件的props的哪裡\r\nconst mapStateToProps = store => {\r\n  return {\r\n    //購物車內容\r\n    data: store.getShop,\r\n    AddItem: store.AddItem,\r\n    Cart: store.displayShopCart,\r\n    calculator: store.calculator,\r\n    MyFavorite: store.MyFavorite,\r\n    getOrderBuyer: store.getOrderBuyer,\r\n    saveOrderBuyerInfoReducer: store.saveOrderBuyerInfoReducer,\r\n    saveOrderBuyerProReducer: store.saveOrderBuyerProReducer,\r\n  }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      ControlDataOne,\r\n      getShopCart,\r\n      AddCart,\r\n      AddCartItem,\r\n      DelCartItem,\r\n      CalShopCart,\r\n      Handle_AddMyFavorite,\r\n      saveOrderBuyerInfo,\r\n      AddCartNewItem_sendcal,\r\n      getOrderFromServer,\r\n      saveOrderBuyerproduct,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Orderbill)\r\n","import React, { useState } from 'react'\r\nimport '../I_css/MemberLogin.scss'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { userLoginAsync } from '../actions/memberAction'\r\n\r\nfunction MemberLoginLeft(props) {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const [error, setError] = useState(false)\r\n  const [errorMessages, setErrorMessages] = useState([])\r\n\r\n  const handleSubmit = () => {\r\n    let error = false\r\n    let errorMessages = []\r\n\r\n    if (!username) {\r\n      // console.log('nousername')\r\n      error = true\r\n      errorMessages.push('請輸入帳號')\r\n    }\r\n\r\n    if (!password) {\r\n      error = true\r\n      errorMessages.push('請輸入密碼')\r\n    }\r\n\r\n    if (error) {\r\n      setError(error)\r\n      setErrorMessages(errorMessages)\r\n      return\r\n    }\r\n\r\n    const userData = { username, password }\r\n    props.userLoginAsync(userData, () => alert('成功登入'))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {error ? (\r\n        <>\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            {errorMessages.map((v, i) => (\r\n              <p key={i}>{v}</p>\r\n            ))}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <div className=\"row my-2 memberlogin\">\r\n        <div className=\"card col\">\r\n          <h3 className=\"MemberLoginh3\">Sign In 登入</h3>\r\n          <form>\r\n            <div className=\"row my-2\">\r\n              <label className=\"col-3\">帳號：</label>\r\n              <input\r\n                name=\"username\"\r\n                className=\"form-control col-6\"\r\n                type=\"text\"\r\n                onChange={e => setUsername(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"row my-2\">\r\n              <label className=\"col-3\">密碼：</label>\r\n              <input\r\n                name=\"password\"\r\n                className=\"form-control col-6\"\r\n                type=\"password\"\r\n                onChange={e => setPassword(e.target.value)}\r\n              />\r\n            </div>\r\n            <p style={{ textAlign: 'right' }}>忘記密碼?</p>\r\n            <button\r\n              type=\"button\"\r\n              className=\"irene-login-button\"\r\n              style={{ margin: '68px auto 20px ', display: 'block' }}\r\n              onClick={() => handleSubmit()}\r\n            >\r\n              SIGN IN\r\n            </button>\r\n          </form>\r\n          {/* //如果可以要做google&facebook登入                                */}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中isAuth的值\r\nconst mapStateToProps = store => {\r\n  return { isAuth: store.member }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ userLoginAsync }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberLoginLeft)\r\n","import React, { useState } from 'react'\r\nimport '../I_css/MemberLogin.scss'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { userRegisterAsync } from '../actions/memberAction'\r\n\r\nfunction MemberLoginRight(props) {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [email, setEmail] = useState('')\r\n\r\n  const [error, setError] = useState(false)\r\n  const [errorMessages, setErrorMessages] = useState([])\r\n\r\n  const email_pattern = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i\r\n\r\n  const handleSubmit = () => {\r\n    let error = false\r\n    let errorMessages = []\r\n\r\n    if (!username) {\r\n      // console.log('nousername')\r\n      error = true\r\n      errorMessages.push('請輸入帳號')\r\n    }\r\n\r\n    if (!password) {\r\n      error = true\r\n      errorMessages.push('請輸入密碼')\r\n    }\r\n\r\n    if (!email) {\r\n      error = true\r\n      errorMessages.push('請輸入電子郵件')\r\n    }\r\n    if (!email_pattern.test(email)) {\r\n      error = true\r\n      errorMessages.push('電子郵件格式錯誤，請確認')\r\n    }\r\n\r\n    if (error) {\r\n      setError(error)\r\n      setErrorMessages(errorMessages)\r\n      return\r\n    }\r\n\r\n    const userData = { username, password, email }\r\n    // props.userRegisterAsync(userData, () => alert('成功登入'))\r\n    props.userRegisterAsync(userData, () => console.log('前端傳資料成功'))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {error ? (\r\n        <>\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            {errorMessages.map((v, i) => (\r\n              <p key={i}>{v}</p>\r\n            ))}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <div className=\"row my-2 memberlogin\">\r\n        <div className=\"col card\">\r\n          <h3 className=\"MemberLoginh3\">Register Now 快速註冊</h3>\r\n          <form>\r\n            <div className=\"row my-2\">\r\n              <label className=\"col-3\">帳號：</label>\r\n              <input\r\n                name=\"username\"\r\n                className=\"form-control col-6\"\r\n                type=\"text\"\r\n                onChange={e => setUsername(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"row my-2\">\r\n              <label className=\"col-3\">密碼：</label>\r\n              <input\r\n                name=\"password\"\r\n                className=\"form-control  col-6\"\r\n                type=\"password\"\r\n                onChange={e => setPassword(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"row my-2\">\r\n              <label className=\"col-3\">電子信箱：</label>\r\n              <input\r\n                name=\"email\"\r\n                className=\"form-control col-6\"\r\n                type=\"text\"\r\n                onChange={e => setEmail(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"irene-checkbox\">\r\n              <input type=\"checkbox\" />\r\n              <span>我同意會員服務條款與隱私權聲明</span>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"irene-register-button\"\r\n              style={{ margin: '20px auto', display: 'block' }}\r\n              onClick={() => handleSubmit()}\r\n            >\r\n              REGISTER NOW\r\n            </button>\r\n          </form>\r\n\r\n          {/* //如果可以要做google&facebook登入*/}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 取得Redux中isAuth的值\r\nconst mapStateToProps = store => {\r\n  return { isAuth: store.member }\r\n}\r\n\r\n// 指示dispatch要綁定哪些action creators\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators({ userRegisterAsync }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberLoginRight)\r\n","import React from 'react'\r\nimport './I_css/MemberLogin.scss'\r\nimport MemberLoginLeft from './components/MemberLoginLeft'\r\nimport MemberLoginRight from './components/MemberLoginRight'\r\n\r\nfunction MemberLogin(props) {\r\n  return (\r\n    <>\r\n      <div className=\"d-flex row memberloginindex\">\r\n        <div className=\"col card irene-memberlogin-container\">\r\n          <MemberLoginLeft />\r\n        </div>\r\n        <div className=\"col card\">\r\n          <MemberLoginRight />\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nexport default MemberLogin\r\n","import React from 'react'\r\n\r\nimport './I_css/MemberCollection.scss'\r\n\r\nimport MemberSidebar from './components/MemberSidebar'\r\n\r\nfunction MemberCollection(props) {\r\n  return (\r\n    <>\r\n      <div className=\"row d-flex justify-content-center\">\r\n        <MemberSidebar />\r\n        {/* 會員收藏內容 */}\r\n        <div className=\"memberedit col-9\">\r\n          <h3>我的收藏</h3>\r\n          <hr />\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MemberCollection\r\n","import React,{useState,useEffect} from 'react'\r\nimport classNames from 'classnames'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {goShopping,showDiscountAction} from '../actions/couponAction'\r\n\r\n\r\nfunction MemberCouponItem(props){\r\n\r\n\r\n  //設定優惠券的外觀\r\n  let couponClassName = classNames('col','col-sm-6','sty-memberCoupon',{\r\n    used:props.state==='use',\r\n    dueEnd:props.state==='use' ? false : props.state ==='dueEnd',\r\n  })\r\n\r\n\r\n\r\n\r\n//設定優惠字樣\r\n //連結\r\n let path = ''\r\n //目標\r\n let object = \"\"\r\n switch(props.item.cpr_object){\r\n   case 0:\r\n    object = \"全部商品\"\r\n    path = '/watch'\r\n    break\r\n   case 1:\r\n     object = \"穿戴式裝置分類\"\r\n     path = '/watch'\r\n    break\r\n   case 2:\r\n     object = \"耳機/喇叭分類\"\r\n     path = '/headset'\r\n     break\r\n     case 3:\r\n    object = \"運動攝影機分類\"\r\n    path = '/actioncamera'\r\n    break\r\n    case 4:\r\n     object = \"周邊商品分類\"\r\n     path = '/surrounding'\r\n    break\r\n    case 5:\r\n     object = \"指定商品\"\r\n    break\r\n }\r\n  //條件\r\n  let rule = \"\"\r\n  switch(props.item.cpr_rule){\r\n    case 0:\r\n      rule = \"一律\"\r\n     break\r\n    case 1:\r\n      rule = `滿${props.item.cpr_ruleNum}件`\r\n     break\r\n    case 2:\r\n      rule = `滿${props.item.cpr_ruleNum}元`\r\n      break\r\n  }\r\n  //金額\r\n  let discount = \"\"\r\n  switch(props.item.cpr_discount){\r\n    case 0:\r\n      if(props.item.cpr_discountNum%10===0) props.item.cpr_discountNum /=10\r\n      discount = `打${props.item.cpr_discountNum}折`\r\n     break\r\n    case 1:\r\n      discount = `折扣${props.item.cpr_discountNum}元`\r\n     break\r\n  }\r\n\r\n  // 設定按鈕種類\r\n  let buttonType = (<button><span className=\"\">去逛逛</span></button>)\r\n\r\n  if(props.state==='use'){\r\n    buttonType = (<button><span>已使用</span></button>)\r\n  }\r\n\r\n  function shopAction (){\r\n    props.showDiscountAction(true,props.item)\r\n    props.goShopping(props.item.cp_vendor) \r\n    props.history.push(path)\r\n    window.scrollTo({ top: 0 });\r\n  }\r\n \r\n    return (\r\n        <>\r\n        <div className={couponClassName}>\r\n              <div className=\"item\" onClick={()=>{\r\n                !(props.state==='use') && shopAction()\r\n              }}>\r\n                <div className=\"wrapForImg\">\r\n                  <img src={`/img/vendors/${props.item.cp_img}`} alt=\"\" />\r\n\r\n                  <div className=\"alreadyGet\">\r\n                  </div>\r\n                  <div className=\"sty-getImg\">\r\n                      <img src=\"/sty-img/get_o.png\"/>\r\n                      <p>已使用</p>\r\n                  </div>\r\n\r\n                <div className=\"sty-dashed\"></div>\r\n                </div>\r\n                <div className=\"text\">\r\n                  <ul>\r\n                  <h3>{props.item.cpr_discount?props.item.cpr_discountNum+'元':props.item.cpr_discountNum+'折'}</h3>\r\n                  <li className=\"vendorName\">[ {props.item.cp_vendor} ]</li>\r\n                    <li>{object}{rule}{discount}</li>\r\n                    <li>有效至 {props.item.cp_due}</li>\r\n                  </ul>\r\n                </div>\r\n                <div className=\"button\">\r\n                  {buttonType}\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch =>{\r\n  return bindActionCreators({\r\n    goShopping,showDiscountAction\r\n  },dispatch)\r\n}\r\n\r\n\r\nexport default withRouter(connect(null,mapDispatchToProps)(MemberCouponItem))\r\n","import React ,{useEffect ,useState}from 'react'\r\nimport { BrowserRouter as Router, Route, Link, Switch ,withRouter } from 'react-router-dom'\r\nimport './css/MemberCoupon.scss'\r\nimport classNames from 'classnames'\r\nimport moment from 'moment'\r\n\r\n\r\nimport MemberSidebar from '../Irene/components/MemberSidebar'\r\nimport MemberCouponItem from './components/MemberCouponItem'\r\n\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {fromServerMemberCouponData} from './actions/couponAction'\r\n\r\nfunction MemberCoupon(props) {\r\n\r\n  const [state,setState] = useState('get')\r\n\r\n  const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n  \r\n\r\n  useEffect(()=>{\r\n    props.fromServerMemberCouponData(mb_id)\r\n  },[])\r\n\r\n  const buttonStyleForGet = classNames({active:state==='get'})\r\n  const buttonStyleForUse = classNames({active:state==='use'})\r\n  const buttonStyleForDueEndList = classNames({active:state==='dueEnd'})\r\n\r\n\r\n  let useList = []\r\n  let dueEndList = []\r\n  let getList = []\r\n  // const today = `${new Date().getFullYear()}-${(new Date().getMonth())+1}-${new Date().getDate()}`\r\n  // const add3days = `${new Date().getFullYear()}-${(new Date().getMonth())+1}-${new Date().getDate()+2}`\r\n\r\n  const todayDateTime = moment().valueOf()\r\n  const add3daysTime = moment().add(3,'days').valueOf()\r\n\r\n\r\n  // const todayDateTime = (Date.parse(today)).valueOf()\r\n  // const add3daysTime = (Date.parse(add3days)).valueOf()\r\n\r\n\r\n  for(let i=0;i<props.data.length;i++){\r\n\r\n    // let dueDateTime =  (Date.parse(props.data[i].cp_due)).valueOf()\r\n    let dueDateTime =  moment(props.data[i].cp_due).valueOf()\r\n\r\n\r\n    if(props.data[i].cpi_use){\r\n      useList.push(props.data[i])\r\n    }else if( dueDateTime <= add3daysTime){\r\n      dueEndList.push(props.data[i])\r\n    }else{\r\n      getList.push(props.data[i])\r\n    }\r\n  }\r\n  \r\n  const getListData = getList.map((val,ind)=>{\r\n    return <MemberCouponItem key={val.cpi_cp_id} item={val} state={state} />\r\n  })\r\n  const useListData = useList.map((val,ind)=>{\r\n    return <MemberCouponItem key={val.cpi_cp_id} item={val} state={state} />\r\n  })\r\n  const dueEndListData = dueEndList.map((val,ind)=>{\r\n    return <MemberCouponItem key={val.cpi_cp_id} item={val} state={state} />\r\n  })\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row wrap\">\r\n       \r\n     <MemberSidebar />\r\n        {/* <!-- 右邊coupon --> */}\r\n        <div className=\"col col-sm-9\">\r\n        <div className=\"sty-memberTitle mb-3\">\r\n          <h3>我的優惠券</h3>\r\n          <hr />\r\n            <button className={buttonStyleForGet} onClick={()=>{setState('get')}}>已領取</button>\r\n            \r\n            <button className={buttonStyleForDueEndList} onClick={()=>{setState('dueEnd')}}>即將過期\r\n                                {dueEndListData.length > 0 && <span className=\"sty-alertNum\">{dueEndListData.length}</span>}\r\n                                </button>\r\n                                \r\n            <button className={buttonStyleForUse} onClick={()=>{setState('use')}}>已使用</button>                    \r\n        </div>\r\n          <div className=\"row\">\r\n            {state === 'get' ? getListData :''}\r\n            {state === 'dueEnd' ? dueEndListData :''}\r\n            {state === 'use' ? useListData :''}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { data: store.memberCouponData,\r\n            }\r\n}\r\n//action\r\nconst mapDispatchToProps = dispatch =>{\r\n  return bindActionCreators({\r\n    fromServerMemberCouponData\r\n  },dispatch)\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(MemberCoupon))\r\n","import React, { useEffect, useState } from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  withRouter,\r\n} from 'react-router-dom'\r\nimport { Form, ListGroup, Button } from 'react-bootstrap'\r\n// import MemberSidebar from './components/MemberSidebar'\r\nimport './I_css/MemberEdit.scss'\r\nimport MemberSidebar from './components/MemberSidebar'\r\nimport MemberOrder from './MemberOrder'\r\nimport MemberCollection from './MemberCollection'\r\nimport ShopCartLike from '../mao/ShopCartLike'\r\nimport MemberCoupon from '../stacey/MemberCoupon'\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport { getserverMember, updateServerMember } from './actions/memberAction'\r\n\r\nfunction MemberEdit(props) {\r\n  console.log(props)\r\n  // console.log(props.data.Name)\r\n  //固定帳號跟密碼傳自localstorage，剩下資料採用redux\r\n  let memberaccount = {}\r\n  memberaccount = JSON.parse(localStorage.getItem('userdata'))\r\n  console.log(memberaccount.username)\r\n  console.log(memberaccount.password)\r\n\r\n  //設鉤子\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [name, setName] = useState('')\r\n  const [birthday, setBirthday] = useState('')\r\n  const [gender, setGender] = useState('')\r\n  const [phonenumber, setPhonenumber] = useState('')\r\n  const [address, setAddress] = useState('')\r\n\r\n  //遇到資料undefined時解法，因為第1次先跑時抓到undefined，會擋住後面再跑。\r\n  let emaildefault = props.data[0] ? props.data[0].Email : ''\r\n  let passworddefault = props.data[0] ? props.data[0].Pwd : ''\r\n  let namedefault = props.data[0] ? props.data[0].Name : ''\r\n  let genderdefault = props.data[0] ? props.data[0].Gender : ''\r\n  let birthdaydefault = props.data[0] ? props.data[0].Birthday : ''\r\n  let phonenumberdefault = props.data[0] ? props.data[0].PhoneNumber : ''\r\n  let addressdefault = props.data[0] ? props.data[0].Address : ''\r\n\r\n  useEffect(() => {\r\n    // const用props繫結值去抓account\r\n    props.updateServerMember()\r\n    props.getserverMember()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setEmail(emaildefault)\r\n  }, [emaildefault])\r\n\r\n  useEffect(() => {\r\n    setPassword(passworddefault)\r\n  }, [passworddefault])\r\n\r\n  useEffect(() => {\r\n    setName(namedefault)\r\n  }, [namedefault])\r\n\r\n  useEffect(() => {\r\n    setGender(genderdefault)\r\n  }, [genderdefault])\r\n\r\n  useEffect(() => {\r\n    setBirthday(birthdaydefault)\r\n  }, [birthdaydefault])\r\n\r\n  useEffect(() => {\r\n    setAddress(addressdefault)\r\n  }, [addressdefault])\r\n\r\n  useEffect(() => {\r\n    setPhonenumber(phonenumberdefault)\r\n  }, [phonenumberdefault])\r\n\r\n  const account = memberaccount.username\r\n  const handlesubmit = event => {\r\n    // alert('有按到喔')\r\n    //改用redux\r\n    const updateData = {\r\n      email,\r\n      password,\r\n      name,\r\n      birthday,\r\n      gender,\r\n      phonenumber,\r\n      address,\r\n      account,\r\n    }\r\n    // event.preventDefault()\r\n    // setTest(true)\r\n    props.updateServerMember(updateData)\r\n    // console.log(updateData)\r\n  }\r\n  // if (memberaccount != false) {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        {/* <Route path=\"/memberedit/:memberaccount\">\r\n          <memberedit />\r\n        </Route> */}\r\n        <Route path=\"/memberedit/memberorder\">\r\n          <MemberOrder />\r\n        </Route>\r\n        <Route path=\"/memberedit/membercollection\">\r\n          <MemberCollection />\r\n        </Route>\r\n        <Route path=\"/memberedit/ShopCartLike\">\r\n          <ShopCartLike />\r\n        </Route>\r\n        <Route path=\"/memberedit/memberCoupon\">\r\n          <MemberCoupon />\r\n        </Route>\r\n        {/* //最後要新增一頁，如果路由不對要顯示頁面錯誤然後跳轉。 \r\n    <Route path=\"*\">\r\n          <PageNitFound />\r\n        </Route> */}\r\n\r\n        <div className=\"row d-flex justify-content-center\">\r\n          <MemberSidebar />\r\n          {/* 會員資料編輯內容 */}\r\n          <div className=\"memberedit col-9\">\r\n            <h3>基本資料管理</h3>\r\n            <hr />\r\n            <Form encType=\"multipart/form-data\" method=\"post\">\r\n              <div className=\"form-group row\">\r\n                <label className=\"col-sm-2 col-form-label\">帳號</label>\r\n                <div className=\"col-sm-10\">\r\n                  <input\r\n                    readOnly\r\n                    type=\"text\"\r\n                    className=\"form-control-plaintext\"\r\n                    id=\"staticaccount\"\r\n                    name=\"account\"\r\n                    defaultValue={memberaccount.username}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label className=\"col-sm-2 col-form-label\">電子信箱</label>\r\n                <div className=\"col-sm-4\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={e => setEmail(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label className=\"col-sm-2 col-form-label\">密碼</label>\r\n                <div className=\"col-sm-4\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder={memberaccount.password}\r\n                    name=\"password\"\r\n                    defaultValue={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label className=\"col-sm-2 col-form-label\">姓名</label>\r\n                <div className=\"col-sm-4\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"name\"\r\n                    value={name}\r\n                    // placeholder={namedefault}\r\n                    onChange={e => setName(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label className=\"col-sm-2 col-form-label\">性別</label>\r\n                <div className=\"col-sm-10\">\r\n                  <select\r\n                    className=\"custom-select col-sm-4\"\r\n                    required\r\n                    name=\"gender\"\r\n                    onChange={e => setGender(e.target.value)}\r\n                  >\r\n                    <option value={genderdefault} selected>\r\n                      {genderdefault}\r\n                    </option>\r\n                    <option value=\"男\">男</option>\r\n                    <option value=\"女\">女</option>\r\n                    <option value=\"不便告知\">不便告知</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label className=\"col-sm-2 col-form-label\">生日</label>\r\n                <div className=\"col-sm-4\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"birthday\"\r\n                    value={birthday}\r\n                    onChange={e => setBirthday(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label className=\"col-sm-2 col-form-label\">電話 </label>\r\n                <div className=\"col-sm-10\">\r\n                  <div>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"col-sm-8 form-control\"\r\n                      name=\"phonenumber\"\r\n                      value={phonenumber}\r\n                      onChange={e => setPhonenumber(e.target.value)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <label className=\"col-sm-2 col-form-label\">地址 </label>\r\n                <div className=\"col-sm-10\">\r\n                  <div>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"col-sm-8 form-control\"\r\n                      name=\"address\"\r\n                      value={address}\r\n                      onChange={e => setAddress(e.target.value)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <Button\r\n                  className=\"Irene_submit\"\r\n                  type=\"button\"\r\n                  onClick={event => handlesubmit(event)}\r\n                >\r\n                  更新\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </Switch>\r\n    </>\r\n  )\r\n  // }\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { data: store.updateMember, data: store.getMemberID }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      getserverMember,\r\n      updateServerMember,\r\n    },\r\n    dispatch\r\n  )\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(MemberEdit)\r\n)\r\n","import React ,{useState} from 'react'\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {addFilterCoupon} from '../actions/couponAction'\r\n\r\n\r\nimport {\r\n  FiChevronDown\r\n} from 'react-icons/fi'\r\n\r\n\r\nfunction CouponSideFilter (props){\r\n\r\n\r\n  const filter = function (e){\r\n      props.addFilterCoupon({isChecked:e.target.checked,vendorName:e.target.value},props.filterList)\r\n  }\r\n  \r\n    return(\r\n        <>\r\n        <div className=\"col-3 sty-sideFilter\">\r\n          <div className=\"sty-title\">\r\n            <h3>品牌</h3>\r\n            <FiChevronDown />\r\n          </div>\r\n          <hr />\r\n          <ul onChange={(e)=>filter(e)}>\r\n          {props.list.map((val,ind)=>{\r\n            return (<li key={ind}>\r\n              <input type=\"checkbox\" name={val} id={val} value={val}/>\r\n              <label htmlFor={val}>\r\n              <div className=\"sty-box\"></div>\r\n              {val}\r\n                </label>\r\n            </li>)\r\n          })}\r\n          </ul>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return {  filterList: store.filterCoupon,}\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch =>{\r\n  return bindActionCreators({\r\n    addFilterCoupon\r\n  },dispatch)\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CouponSideFilter)","import React ,{useEffect ,useState}from 'react'\r\n\r\n//classnames\r\nimport classNames from 'classnames'\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {countSort,startTimeSort,endTimeSort,nameSort} from '../actions/couponAction'\r\n\r\n//icon\r\nimport {\r\n  FiChevronDown\r\n} from 'react-icons/fi'\r\n\r\nfunction CouPageTitle(props){\r\n    \r\n    const [clicked,setClicked]= useState(false)\r\n    const [order,setOrder]= useState('排序方式')\r\n    const couponOrderClassName= classNames('sty-orderDiv',{active:clicked})\r\n\r\n  \r\n\r\n    return (\r\n        <>\r\n            <div className=\"col-12 sty-pageTitle\">\r\n            <p>優惠券專區\r\n            </p>\r\n            <div className={couponOrderClassName}>\r\n                <button onClick={()=>{setClicked(!clicked) \r\n                }}>\r\n                <span>{order}</span>\r\n                <FiChevronDown /></button>\r\n                <ul className=\"sty-couponOrder\">\r\n                    <li onClick={()=>{\r\n                        setClicked(!clicked)\r\n                        setOrder('依熱門程度')\r\n                        props.countSort(props.data)\r\n                        }}>依熱門程度排序</li>\r\n                    <li onClick={()=>{\r\n                        setClicked(!clicked)\r\n                        setOrder('依最新時間')\r\n                        props.startTimeSort(props.data)\r\n                    }}>依最新時間排序</li>\r\n                    <li onClick={()=>{\r\n                        setClicked(!clicked)\r\n                        setOrder('依結束時間')\r\n                        props.endTimeSort(props.data)\r\n                    }}>依結束時間排序</li>\r\n                    <li onClick={()=>{\r\n                        setClicked(!clicked)\r\n                        setOrder('排序方式')\r\n                        props.nameSort(props.data)\r\n                    }}>清除</li>\r\n                </ul>\r\n            </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n    return { data: store.getCouponData}\r\n  }\r\n  \r\n  //action\r\n  const mapDispatchToProps = dispatch =>{\r\n    return bindActionCreators({\r\n        countSort,startTimeSort,endTimeSort,nameSort\r\n    },dispatch)\r\n  }\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(CouPageTitle)","import React,{useState,useEffect} from 'react'\r\nimport classNames from 'classnames'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {getCouponToServer,getCoupon,goShopping,showDiscountAction} from '../actions/couponAction'\r\n\r\n\r\n//動畫\r\nimport { bounceIn } from 'react-animations';\r\nimport Radium, {StyleRoot} from 'radium';\r\n\r\n\r\nfunction CouponItem(props){\r\n \r\n\r\n  const styles = {\r\n    bounceIn: {\r\n      animation: 'x 1s',\r\n      animationName: Radium.keyframes(bounceIn, 'bounceIn')\r\n    }\r\n  }\r\n\r\n  const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n  \r\n  // 設定按鈕裡的字樣\r\n  let couponState = '領取'\r\n  if(props.item.geted){\r\n    couponState = '去逛逛'\r\n  }else if(props.item.cp_getedCount >= props.item.cp_count){\r\n    couponState = '發放結束'\r\n  }\r\n\r\n  //設定優惠券的外觀\r\n  let couponClassName = classNames('col','col-sm-6','sty-coupon',{\r\n    geted:props.item.geted,\r\n    end:props.item.geted ? false : props.item.cp_getedCount >= props.item.cp_count,\r\n  })\r\n\r\n  //設定進度條的外觀\r\n  let getNum = (props.item.cp_getedCount / props.item.cp_count *100) \r\n \r\n  getNum = getNum % 1 === 0 ? getNum :  getNum.toFixed(1)//取小數點2位\r\n\r\n  let getedCountStyle = {background: `linear-gradient(to right, #0dd2c5 ${getNum}%, #a0a0a0 ${getNum}%)`}\r\n  let endCouponStyle = { background:'#a0a0a0'}\r\n\r\n  //設定剩餘張數\r\n  let canGetNum = null\r\n  if(props.item.cp_getedCount >= props.item.cp_count * 0.8) {\r\n     canGetNum = props.item.cp_count - props.item.cp_getedCount\r\n  }\r\n  \r\n\r\n  //設定優惠字樣\r\n //連結\r\n  let path = ''\r\n  //目標\r\n  let object = \"\"\r\n  switch(props.item.cpr_object){\r\n    case 0:\r\n     object = \"全部商品\"\r\n     path = '/watch'\r\n     break\r\n    case 1:\r\n      object = \"穿戴式裝置分類\"\r\n      path = '/watch'\r\n     break\r\n    case 2:\r\n      object = \"耳機/喇叭分類\"\r\n      path = '/headset'\r\n      break\r\n      case 3:\r\n     object = \"運動攝影機分類\"\r\n     path = '/actioncamera'\r\n     break\r\n     case 4:\r\n      object = \"周邊商品分類\"\r\n      path = '/surrounding'\r\n     break\r\n     case 5:\r\n      object = \"指定商品\"\r\n     break\r\n  }\r\n  //條件\r\n  let rule = \"\"\r\n  switch(props.item.cpr_rule){\r\n    case 0:\r\n      rule = \"結帳金額\"\r\n     break\r\n    case 1:\r\n      rule = `滿${props.item.cpr_ruleNum}件`\r\n     break\r\n    case 2:\r\n      rule = `滿${props.item.cpr_ruleNum}元`\r\n      break\r\n  }\r\n  //金額\r\n  let discount = \"\"\r\n  switch(props.item.cpr_discount){\r\n    case 0:\r\n      if(props.item.cpr_discountNum%10===0) props.item.cpr_discountNum /=10\r\n      discount = `打${props.item.cpr_discountNum}折`\r\n     break\r\n    case 1:\r\n      discount = `折扣${props.item.cpr_discountNum}元`\r\n     break\r\n  }\r\n\r\n\r\n  // 設定按鈕種類\r\n  let getButton = (<button disabled={couponState === '發放結束'}>\r\n                        <span>{couponState}</span>\r\n                     </button>)\r\n  let shopButton = (<button>\r\n                      <span>{couponState}</span>\r\n                    </button>)\r\n\r\n\r\n  function shopAction (){\r\n    props.showDiscountAction(true,props.item)\r\n    props.goShopping(props.item.cp_vendor) \r\n    props.history.push(path)\r\n    window.scrollTo({ top: 0 });\r\n  }\r\n\r\n  function getAction () {\r\n    if(mb_id){\r\n      props.getCouponToServer(props.item.cp_id,mb_id) //cp_id 跟 mb_id\r\n      props.getCoupon(props.arrIndex)\r\n      }else{\r\n        alert('請先登入')\r\n      }\r\n  }\r\n\r\n    return (\r\n        <>\r\n        <div className={couponClassName}>\r\n              <div className=\"item\" onClick={()=>{\r\n                if( !(couponState === '發放結束')){\r\n                  props.item.geted? shopAction():getAction()\r\n                }\r\n              }}>\r\n        {canGetNum ? <span className=\"sty-alertText\">還剩 {canGetNum} 張 ! </span> : ''}\r\n\r\n                <div className=\"wrapForImg\">\r\n                  <img src={`/img/vendors/${props.item.cp_img}`} alt=\"\" />\r\n                  \r\n                  { props.item.geted ? \r\n                  <>\r\n                  <div className=\"alreadyGet\">\r\n                  </div>\r\n                  <StyleRoot className=\"sty-getImg\" style={styles.bounceIn}>\r\n                      <img src=\"/sty-img/get_o.png\"/>\r\n                      <p>領取</p>\r\n                  </StyleRoot></> : \r\n                  ''}\r\n                  \r\n                  <div className=\"sty-dashed\">\r\n                  </div>\r\n                </div>\r\n                <div className=\"text\">\r\n                  <ul>\r\n                    <h3>{props.item.cpr_discount?props.item.cpr_discountNum+'元':props.item.cpr_discountNum+'折'} </h3>\r\n                    <li className=\"vendorName\">[ {props.item.cp_vendor} ]</li>\r\n                    <li>{object}-{rule}{discount}</li>\r\n                    <li>有效至 {props.item.cp_due}</li>\r\n                  </ul>\r\n                  <div >\r\n                    <div className=\"state\" style={props.item.cp_getedCount >= props.item.cp_count?endCouponStyle:getedCountStyle}>\r\n                    <span>{props.item.cp_getedCount >= props.item.cp_count?'全數領取完畢':getNum +' % 已領取'}</span>\r\n                    </div>\r\n                    {/* <p>還剩 5 張 !</p> */}\r\n                  </div>\r\n                </div>\r\n                <div className=\"button\">\r\n                  {props.item.geted ? shopButton:getButton}\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { obj: store.getCouponData}\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch =>{\r\n  return bindActionCreators({\r\n    getCouponToServer,getCoupon,goShopping,showDiscountAction,\r\n  },dispatch)\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(CouponItem))\r\n","import React ,{useEffect,useState} from 'react'\r\nimport moment from 'moment'\r\n\r\nimport '../css/countdown.scss'\r\n\r\n\r\nfunction Countdown(props){\r\n\r\nconst [countdownTime,setCountdownTime] = useState(props.countdownTime+1)\r\n\r\n// console.log('props.countdownTime',props.countdownTime)\r\n\r\nconst hour = Math.floor(countdownTime/3600)\r\nconst min = Math.floor( (countdownTime % 3600)/ 60 )\r\nconst sec = Math.floor( (countdownTime % 3600) % 60 )\r\n\r\nlet secOne,secTen,minOne,minTen,hourOne\r\n\r\nif(sec >= 10){\r\n  secOne = 10 - (sec % 10)\r\n  secTen = (6 - Math.floor(sec / 10) ) * 10 + (9 - (sec % 10) )\r\n}else{\r\n  secOne = 10 - sec\r\n  secTen = 9 - sec\r\n}\r\n\r\nif(min >= 10 ){\r\n  minOne = ( 10 - (min % 10) ) * 60 + (59 - sec)\r\n  minTen = (6 - Math.floor(min / 10) ) * 600 + (599 - ( (min % 10) * 60 + sec) )\r\n }else{\r\n  minOne = ( 10 - min ) * 60 + (59 - sec)\r\n  minTen = 599 - ( (min % 10) * 60 + sec )  \r\n }\r\n\r\n \r\nhourOne = (10 - (hour % 10))  * 3600 + (min * 60) + sec\r\n\r\n const secOneStyle = {animationDelay:0-secOne+'s'}\r\n \r\n const secTenStyle = {animationDelay:0-secTen+'s'}\r\n \r\n const minOneStyle = {animationDelay:0-minOne+'s'}\r\n \r\n const minTenStyle = {animationDelay:0-minTen+'s'}\r\n \r\n const hourOneStyle = {animationDelay:0-hourOne+'s'}\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"sty-countdown\">\r\n              <p>剩餘時間</p>\r\n              <div className=\"sty-time\">\r\n              <div>\r\n                    <p className=\"hour-ten\">\r\n                        <span>0</span>\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                    {/* <p className=\"hour-one\" style={hourOneStyle}> */}\r\n                    <p className=\"hour-one\">\r\n                        <span>0</span>\r\n                        {/* <span>9</span>\r\n                        <span>8</span>\r\n                        <span>7</span>\r\n                        <span>6</span>\r\n                        <span>5</span>\r\n                        <span>4</span>\r\n                        <span>3</span>\r\n                        <span>2</span>\r\n                        <span>1</span>\r\n                        <span>0</span> */}\r\n\r\n                  </p>\r\n                </div>\r\n                <div className=\"sty-space\">\r\n                  <span> : </span>\r\n                </div>              \r\n                <div>\r\n                <div>\r\n                    <p\r\n                      className=\"min-ten\"\r\n                      style={minTenStyle} \r\n                      >\r\n                        <span>0</span>\r\n                        <span>5</span>\r\n                        <span>4</span>\r\n                        <span>3</span>\r\n                        <span>2</span>\r\n                        <span>1</span>\r\n                        <span>0</span>\r\n                  </p>\r\n                </div>\r\n\r\n                </div>\r\n                <div>\r\n                    <p className=\"min-one\" \r\n                    style={minOneStyle}\r\n                    >\r\n                        <span>0</span>\r\n                        <span>9</span>\r\n                        <span>8</span>\r\n                        <span>7</span>\r\n                        <span>6</span>\r\n                        <span>5</span>\r\n                        <span>4</span>\r\n                        <span>3</span>\r\n                        <span>2</span>\r\n                        <span>1</span>\r\n                        <span>0</span>\r\n\r\n                  </p>\r\n                </div>\r\n                <div className=\"sty-space\">\r\n                  <span> : </span>\r\n                </div>\r\n                <div>\r\n                    <p className=\"sec-ten\" \r\n                    style={secTenStyle}\r\n                    >\r\n                        <span>0</span>\r\n                        <span>5</span>\r\n                        <span>4</span>\r\n                        <span>3</span>\r\n                        <span>2</span>\r\n                        <span>1</span>\r\n                        <span>0</span>\r\n                     \r\n                  </p>\r\n                </div>\r\n                <div>\r\n                    <p\r\n                      className=\"sec-one\" \r\n                      style={secOneStyle}\r\n                      >\r\n                        <span>0</span>\r\n                        <span>9</span>\r\n                        <span>8</span>\r\n                        <span>7</span>\r\n                        <span>6</span>\r\n                        <span>5</span>\r\n                        <span>4</span>\r\n                        <span>3</span>\r\n                        <span>2</span>\r\n                        <span>1</span>\r\n                        <span>0</span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\n\r\n  \r\n  \r\nexport default Countdown","import React,{useState,useEffect} from 'react'\r\nimport classNames from 'classnames'\r\nimport { BrowserRouter as Router, Route, Link, Switch ,withRouter } from 'react-router-dom'\r\nimport moment from 'moment'\r\n\r\nimport '../css/countdownCoupon.scss'\r\n\r\nimport Countdown from './Countdown'\r\n\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {countdownCouponGet , getCouponToServer ,fromServerCountdownCouponData,goShopping,showDiscountAction} from '../actions/couponAction'\r\n\r\n\r\n//動畫\r\nimport { bounceIn  } from 'react-animations';\r\nimport Radium, {StyleRoot} from 'radium';\r\n\r\n\r\nfunction CountdownCoupon(props){\r\n\r\nconst [getAnimation,setGetAnimation] = useState([false,false])\r\n\r\nconst styles = {\r\n    bounceIn: {\r\n        animation: 'x 1s',\r\n        animationName: Radium.keyframes(bounceIn, 'bounceIn')\r\n    }\r\n}    \r\n\r\nconst now = new Date()\r\nconst nowHour = moment().hour()\r\nconst today = `${now.getFullYear()}/${(now.getMonth())+1}/${now.getDate()}`\r\nconst endTime = moment(`${today} ${nowHour+1}:00:00`)\r\nconst countdownTime =  (endTime.valueOf() - now.valueOf() ) / 1000 \r\n\r\n// console.log('countdownTime',countdownTime)\r\n\r\nconst timeout = countdownTime *1000\r\n\r\n// console.log('timeout',timeout)\r\n\r\nconst mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n\r\nuseEffect(()=>{\r\n\r\n    props.fromServerCountdownCouponData(mb_id) \r\n\r\n    let timer = setTimeout(() => {\r\n        props.fromServerCountdownCouponData(mb_id) \r\n    }, (timeout));\r\n    \r\n    return ()=> {clearTimeout(timer)\r\n   };\r\n\r\n},[])\r\n\r\n\r\n\r\n\r\nconst coupon =  props.item.map((val,ind)=>{\r\n\r\n    // 設定按鈕裡的字樣\r\n    let couponState = '領取'\r\n    if(val.geted){\r\n    couponState = '去逛逛'\r\n    }\r\n\r\n    //設定優惠券的外觀\r\n    let couponClassName = classNames('col','col-sm-6','sty-coupon',{\r\n    geted:val.geted\r\n    })\r\n\r\n    \r\n    //設定優惠字樣\r\n    //連結\r\n    let path = ''\r\n    //目標\r\n    let object = \"\"\r\n    switch(val.cpr_object){\r\n    case 0:\r\n    object = \"全部商品\"\r\n    path = '/watch'\r\n    break\r\n    case 1:\r\n        object = \"穿戴式裝置分類\"\r\n        path = '/watch'\r\n    break\r\n    case 2:\r\n        object = \"耳機/喇叭分類\"\r\n        path = '/headset'\r\n        break\r\n        case 3:\r\n    object = \"運動攝影機分類\"\r\n    path = '/actioncamera'\r\n    break\r\n    case 4:\r\n        object = \"周邊商品分類\"\r\n        path = '/surrounding'\r\n    break\r\n    case 5:\r\n        object = \"指定商品\"\r\n    break\r\n    }\r\n    //條件\r\n    let rule = \"\"\r\n    switch(val.cpr_rule){\r\n    case 0:\r\n        rule = \"結帳金額\"\r\n    break\r\n    case 1:\r\n        rule = `滿${val.cpr_ruleNum}件`\r\n    break\r\n    case 2:\r\n        rule = `滿${val.cpr_ruleNum}元`\r\n        break\r\n    }\r\n    //金額\r\n    let discount = \"\"\r\n    switch(val.cpr_discount){\r\n    case 0:\r\n        if(val.cpr_discountNum%10===0) val.cpr_discountNum /=10\r\n        discount = `打${val.cpr_discountNum}折`\r\n    break\r\n    case 1:\r\n        discount = `折扣${val.cpr_discountNum}元`\r\n    break\r\n    }\r\n\r\n\r\n    // 設定按鈕種類\r\n    let getButton = (<button >\r\n                        <span>{couponState}</span>\r\n                    </button>)\r\n\r\n    let shopButton = (<button>\r\n                        <span>{couponState}</span>\r\n                    </button>)\r\n\r\n\r\n    function shopAction (){\r\n        props.goShopping(val.cp_vendor) \r\n        props.showDiscountAction(true,val)\r\n        props.history.push(path)\r\n      }\r\n    \r\n    function getAction () {\r\n        if(mb_id){\r\n            props.getCouponToServer(val.cp_id,mb_id) //cp_id 跟 mb_id\r\n            props.countdownCouponGet(ind)\r\n            if(ind){\r\n                setGetAnimation([false,true])\r\n            }else\r\n                setGetAnimation([true,false])\r\n        }else{\r\n            alert('請先登入')\r\n        }\r\n      }\r\n\r\n\r\nreturn(\r\n    <div key={ind} className={couponClassName}>\r\n              <div className=\"item\" onClick={()=>{\r\n                  val.geted ? shopAction() : getAction()\r\n              }}>\r\n        \r\n                <div className=\"wrapForImg\">\r\n                  <img src={`/img/vendors/${val.cp_img}`} alt=\"\" />\r\n\r\n                  { val.geted ? \r\n                  <>\r\n                  <div className=\"alreadyGet\">\r\n                  </div>\r\n                    { getAnimation[ind] ? <StyleRoot className=\"sty-getImg\" style={styles.bounceIn}>\r\n                      <img src=\"/sty-img/get_o.png\"/>\r\n                      <p>領取</p>\r\n                  </StyleRoot> : <StyleRoot className=\"sty-getImg\">\r\n                      <img src=\"/sty-img/get_o.png\"/>\r\n                      <p>領取</p>\r\n                  </StyleRoot> }\r\n                  </> : ''}\r\n\r\n                  <div className=\"sty-dashed\"></div>\r\n                </div>\r\n                <div className=\"text\">\r\n                  <ul>\r\n                    <h3>{val.cpr_discount?val.cpr_discountNum+'元':val.cpr_discountNum+'折'} </h3>\r\n                    <li className=\"vendorName\">[ {val.cp_vendor} ]</li>\r\n                    <li>{object}-{rule}{discount}</li>\r\n                    <li>有效至 {val.cp_due}</li>\r\n                  </ul>\r\n                  \r\n                </div>\r\n                <div className=\"button\">\r\n                  {val.geted? shopButton:getButton}\r\n                </div>\r\n              </div>\r\n            </div>\r\n)\r\n\r\n\r\n}) \r\n\r\n\r\n    \r\n\r\n    return (\r\n        <>\r\n            <div className=\"row sty-countDownCoupon\">\r\n                <div className=\"col-12 sty-countdownTitle\">\r\n                    <h3 className=\"\">每日限時優惠券</h3>\r\n                    <Countdown countdownTime={countdownTime}/>\r\n                </div>\r\n                {coupon}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { item: store.countdownCouponData ,\r\n            }\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch =>{\r\n  return bindActionCreators({\r\n    countdownCouponGet,getCouponToServer,fromServerCountdownCouponData,goShopping,showDiscountAction\r\n  },dispatch)\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(CountdownCoupon))\r\n\r\n\r\n","import React ,{useEffect ,useState}from 'react'\r\nimport { BrowserRouter as Router, Route, Link, Switch ,withRouter } from 'react-router-dom'\r\nimport '../css/main.css'\r\nimport './css/GetCoupon.scss'\r\n\r\n\r\n//components\r\nimport CouponSideFilter from './components/CouponSideFilter'\r\nimport CouPageTitle from './components/CouPageTitle'\r\nimport CouponItem from './components/CouponItem'\r\nimport CountdownCoupon from './components/CountdownCoupon'\r\n\r\n\r\n//redux\r\nimport { connect } from 'react-redux'\r\n//action\r\nimport { bindActionCreators } from 'redux'\r\nimport {fromServerCouponData} from './actions/couponAction'\r\n\r\n\r\n\r\n\r\nfunction GetCoupon(props) {\r\n\r\n  const [loading,setLoading] = useState(false)\r\n  const [end,setEnd] = useState(false)\r\n  const [finish,setFinish] = useState(false)\r\n\r\n  const mb_id = localStorage.getItem('userId') ? localStorage.getItem('userId') : 0\r\n \r\n\r\n  let rowInfo,rowHeight\r\n  \r\n  useEffect(()=>{\r\n    props.fromServerCouponData(0,mb_id)\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    rowInfo = document.querySelector('.sty-row').getBoundingClientRect()\r\n    //取得絕對位置\r\n    rowHeight = (rowInfo.top + rowInfo.height) + window.pageYOffset\r\n    const handle = () =>{\r\n\r\n        if( (window.pageYOffset + (window.screen.availHeight/5)*4)> rowHeight){ \r\n  \r\n          if(props.data.length !== props.cp_total){\r\n            setLoading(true)\r\n            setTimeout(()=>{\r\n              props.fromServerCouponData(props.data.length,mb_id)\r\n              setLoading(false)\r\n            },1000)\r\n          }else{\r\n            setLoading(true)\r\n            setTimeout(()=>{\r\n              setEnd(true)\r\n              setLoading(false)\r\n              setFinish(true)\r\n            },1000)\r\n            setTimeout(()=>{\r\n              setEnd(false)\r\n            },3000)\r\n          }\r\n      window.removeEventListener(\"scroll\", handle);\r\n\r\n        }\r\n    }\r\n  if(!finish){\r\n    window.addEventListener('scroll',handle)\r\n  }\r\n\r\n  return () => window.removeEventListener(\"scroll\", handle);\r\n\r\n  },[props.data])\r\n\r\n\r\n //篩選過後的\r\n  const filterCouponItem = props.data.map((val,ind)=>{\r\n    if(props.vendor.indexOf(val.cp_vendor) > -1){\r\n      return <CouponItem key={val.cp_id} item={val} arrIndex={ind} />\r\n    }\r\n  })\r\n\r\n//全部顯示\r\n  const allCouponItem = props.data.map((val,ind)=>{\r\n    return <CouponItem key={val.cp_id} item={val} arrIndex={ind} />\r\n  })\r\n\r\n//取得品牌list\r\n let vendorList = []\r\n for(let i=0;i<props.data.length;i++){\r\n   if(vendorList.indexOf(props.data[i].cp_vendor) === -1){\r\n    vendorList.push(props.data[i].cp_vendor)\r\n   }\r\n }\r\n//篩選列表照廠商名排序\r\nvendorList.sort()\r\n \r\nconst loadDiv = (<div className=\"sty-coupon-loading\"><div className=\"spinner-border \" role=\"status\"></div></div>)\r\n\r\nconst endDiv = (<div className=\"sty-coupon-finish\"><div>已是最新資料</div></div>)\r\n\r\n\r\n  return (\r\n    <>\r\n      {/* <Bread /> */}\r\n      <div className=\"row sty-wrap\">\r\n        {/* <!-- 側邊篩選欄 --> */}\r\n        <CouponSideFilter list={vendorList}/>\r\n        {/* <!-- 右邊coupon --> */}\r\n        <div className=\"col col-sm-9\">\r\n          \r\n          <div className=\"row sty-row\">\r\n            {/* <!-- title --> */}\r\n            <CouPageTitle />\r\n            <CountdownCoupon />\r\n            \r\n            {props.vendor.length ? filterCouponItem : allCouponItem}\r\n          </div>\r\n          {loading ? loadDiv : \"\" }\r\n          {end ? endDiv : \"\" }\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// 選擇對應的reducer\r\nconst mapStateToProps = store => {\r\n  return { data: store.getCouponData ,\r\n          vendor: store.filterCoupon,\r\n          cp_total:store.couponTotal}\r\n}\r\n\r\n//action\r\nconst mapDispatchToProps = dispatch =>{\r\n  return bindActionCreators({\r\n    fromServerCouponData\r\n  },dispatch)\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(GetCoupon))\r\n","import React, { useState } from 'react'\r\nimport logo from './logo.svg'\r\nimport './App.css'\r\n\r\n//import from react-bootstrap\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { Button, Container } from 'react-bootstrap'\r\nimport Toast from 'react-bootstrap/Toast'\r\nimport { BrowserRouter as Router, Route, Switch ,BrowserRouter } from 'react-router-dom'\r\n\r\n//import Header Footer\r\nimport Footer from './components/common/Footer'\r\nimport Header from './components/common/Header'\r\n\r\n//import scroll to top\r\nimport ScrollToTop from './components/ScrollToTop'\r\n\r\n//import biki\r\nimport Home from './biki/Home'\r\nimport Stories from './biki/Stories'\r\nimport UploadStory from './biki/UploadStory'\r\nimport Story from './biki/Story'\r\nimport MemberStories from './biki/MemberStories'\r\nimport MemberDrafts from './biki/MemberDrafts'\r\nimport MemberDraft from './biki/MemberDraft'\r\nimport MemberStory from './biki/MemberStory'\r\nimport MemberStoryReplies from './biki/MemberStoryReplies'\r\nimport Search from './biki/Search'\r\n\r\n//import chin\r\nimport Headset from './chin/Headset'\r\nimport Watch from './chin/Watch'\r\nimport Commidty from './chin/Commidty'\r\nimport ComparepagesWatch from './chin/ComparepagesWatch/ComparepagesWatch'\r\nimport ComparepagesHeadset from './chin/ComparepagesHeadset/ComparepagesHeadset'\r\nimport ComparepagesActioncamera from './chin/ComparepagesActioncamera/ComparepagesActioncamera'\r\nimport Actioncamera from './chin/Actioncamera'\r\nimport Surrounding from './chin/Surrounding'\r\n//import mao\r\nimport ShopCartList from './mao/ShopCartList'\r\nimport ShopCartLike from './mao/ShopCartLike'\r\nimport OrderInfo from './mao/OrderInfo'\r\nimport Orderbill from './mao/Orderbill'\r\n//import Irene\r\nimport MemberLogin from './Irene/MemberLogin'\r\nimport MemberEdit from './Irene/MemberEdit'\r\n\r\n//import stacey\r\nimport GetCoupon from './stacey/GetCoupon'\r\n\r\n\r\n\r\nfunction App() {\r\n  //測試 react-bootstrap 的 ExampleToast 功能是否正常\r\n  \r\n  const ExampleToast = ({ children }) => {\r\n    const [show, toggleShow] = useState(false)\r\n    return (\r\n      <>\r\n        {!show && <Button onClick={() => toggleShow(true)}>Show Toast</Button>}\r\n        <Toast show={show} onClose={() => toggleShow(false)}>\r\n          <Toast.Header>\r\n            <strong className=\"mr-auto\">歡迎光臨</strong>\r\n          </Toast.Header>\r\n          <Toast.Body>{children}</Toast.Body>\r\n        </Toast>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter basename={ process.env.PUBLIC_URL }>\r\n    <ScrollToTop />\r\n      <>\r\n        <Header />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n        <Container style={{marginTop: '30px'}}>\r\n          <Switch>\r\n            {/*----------------------chin---------------------*/}\r\n            <Route path=\"/headset\">\r\n              <Headset />\r\n            </Route>\r\n            <Route path=\"/watch\">\r\n              <Watch />\r\n            </Route>\r\n            <Route path=\"/actioncamera\">\r\n              <Actioncamera />\r\n            </Route>\r\n            <Route path=\"/surrounding\">\r\n              <Surrounding />\r\n            </Route>\r\n            <Route path=\"/commidty/:itemId?\">\r\n              <Commidty />\r\n            </Route>\r\n            <Route path=\"/Comparepageswatch\">\r\n              <ComparepagesWatch />\r\n            </Route>\r\n            <Route path=\"/Comparepagesheadset\">\r\n              <ComparepagesHeadset />\r\n            </Route>\r\n            <Route path=\"/Comparepagesactioncamera\">\r\n              <ComparepagesActioncamera />\r\n            </Route>\r\n            {/*---------------------------------------------*/}\r\n            <Route path=\"/member/ShopCartList\">\r\n              <ShopCartList />\r\n            </Route>\r\n            <Route path=\"/member/ShopCartLike\">\r\n              <ShopCartLike/>\r\n            </Route>\r\n            <Route path=\"/OrderInfo\">\r\n              <OrderInfo />\r\n            </Route>\r\n            <Route path=\"/Orderbill\">\r\n              <Orderbill />\r\n            </Route>\r\n            {/* ----------------------------------------- */}\r\n            <Route path=\"/memberlogin\">\r\n              <MemberLogin />\r\n            </Route>\r\n            <Route path=\"/memberedit\">\r\n              <MemberEdit />\r\n            </Route>\r\n            {/* 連結優惠券專區 */}\r\n            <Route path=\"/getCoupon\">\r\n              <GetCoupon />\r\n            </Route>\r\n            <Route path=\"/member/upload-stories\">\r\n              <UploadStory />\r\n            </Route>\r\n            <Route path=\"/member/stories/story/:id\">\r\n              <MemberStory />\r\n            </Route>\r\n            <Route path=\"/member/stories/:id/replies\">\r\n              <MemberStoryReplies />\r\n            </Route>\r\n            <Route path=\"/member/stories/draft/:id\">\r\n              <MemberDraft />\r\n            </Route>\r\n            <Route path=\"/member/stories/drafts\">\r\n              <MemberDrafts />\r\n            </Route>\r\n            <Route path=\"/member/stories\">\r\n              <MemberStories />\r\n            </Route>\r\n            <Route path=\"/stories/story/:id\">\r\n              <Story />\r\n            </Route>\r\n            <Route path=\"/stories\">\r\n              <Stories />\r\n            </Route>\r\n            <Route path=\"/search\"> {/**?key=asdf */}\r\n              <Search />\r\n            </Route>\r\n          </Switch>\r\n        </Container>\r\n        <Footer />\r\n      </>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n)\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.')\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type')\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      )\r\n    })\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister()\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message)\r\n      })\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\n\r\n// stacey\r\nimport {\r\n  getCouponData,\r\n  filterCoupon,\r\n  memberCouponData,\r\n  adData,\r\n  memberLikeData,\r\n  couponTotal,\r\n  countdownCouponData,\r\n  \r\n} from '../stacey/reducer/couponReducer'\r\n\r\n//chin\r\nimport {\r\n  getItems,\r\n  getItemId,\r\n  getMultipleItemId,\r\n  getListitemName,\r\n  reset,\r\n  getListitemPrice,\r\n  getItemNamehis,\r\n  getitemCategoryId,\r\n  getItemscompare,\r\n  getListitemPrice2,\r\n  getUsersData,\r\n  //getcompare,\r\n  showDiscount,\r\n} from '../chin/reducer/itemsReducer'\r\n\r\n//mao\r\nimport {\r\n  AddItem,\r\n  getShop,\r\n  calculator,\r\n  calculator_total,\r\n  MyFavorite,\r\n  ControlDataState,\r\n  getOrderBuyer,\r\n  saveOrderBuyerInfoReducer,\r\n  saveOrderBuyerProReducer,\r\n  getRANDitemid,saveCoupon,saveDiscount,\r\n  cartCouponData,\r\n} from '../mao/reducers/ShopCartReducer'\r\nimport {\r\n  getMemberID,\r\n  member,\r\n  updateMember,\r\n  getMemberOrder,\r\n} from '../Irene/reducers/memberReducer'\r\n\r\n//老師範例\r\n// 第一步：建立reducer\r\n// action = {type, value}\r\n// type: ADD_VALUE, MINUS_VALUE\r\n// ex. action = {type: 'ADD_VALUE', value: 10}\r\n\r\n// const counter = (state = 0, action) => {\r\n//   switch (action.type) {\r\n//     case 'ADD_VALUE':\r\n//       return state + action.value\r\n//     case 'MINUS_VALUE':\r\n//       return state - action.value\r\n//     default:\r\n//       return state\r\n//   }\r\n// }\r\n\r\n// 合併多個reducer (必要，為了要配合瀏覽器開發外掛使用)\r\nconst rootReducer = combineReducers({\r\n  memberCouponData,\r\n  getCouponData,\r\n  adData,\r\n  memberLikeData,\r\n  couponTotal,\r\n  filterCoupon,\r\n  countdownCouponData, //sty\r\n  getItems,\r\n  getItemId,\r\n  getMultipleItemId,\r\n  getListitemName,\r\n  reset,\r\n  getListitemPrice,\r\n  getItemNamehis,\r\n  getitemCategoryId,\r\n  getItemscompare,\r\n  getListitemPrice2,\r\n  getUsersData,\r\n  // getcompare,\r\n  showDiscount,//chin\r\n  //--------- ShopCart------------\r\n  AddItem,\r\n  getRANDitemid,\r\n  getShop,\r\n  calculator,\r\n  calculator_total,\r\n  MyFavorite,\r\n  ControlDataState,\r\n  getOrderBuyer,\r\n  saveOrderBuyerInfoReducer,\r\n  saveOrderBuyerProReducer,saveCoupon,saveDiscount,cartCouponData,\r\n  //member\r\n  member,\r\n  getMemberID,\r\n  updateMember,\r\n  getMemberOrder,\r\n})\r\n\r\nexport { rootReducer }\r\n","//優惠券\r\nexport const getCouponData = (state=[],action)=>{\r\n    switch (action.type){\r\n      case 'SHOW_VALUE':\r\n        return action.value\r\n      case 'PAGE_VALUE':\r\n        return [...state,...action.value]\r\n      case 'GET_VALUE':\r\n        state[action.index].geted = true\r\n        state[action.index].cp_getedCount+=1\r\n        return [...state]\r\n      default :\r\n        return state\r\n    }\r\n  }\r\n\r\n  export const countdownCouponData = (state=[],action)=>{\r\n    switch (action.type){\r\n      case 'COUNTDOWN_VALUE':\r\n        return action.value\r\n      case 'COUNTDOWN_GET':\r\n        state[action.index].geted = true\r\n        state[action.index].cp_getedCount+=1\r\n        return [...state]\r\n      default :\r\n        return state\r\n    }\r\n  }\r\n\r\n  \r\n//優惠券篩選\r\nexport const couponTotal = (state=0,action)=>{\r\n  switch (action.type){\r\n    case 'TOTAL_VALUE':\r\n        return action.value\r\n    default :\r\n      return state\r\n  }\r\n}\r\n\r\n  //優惠券篩選\r\n export const filterCoupon = (state=[],action)=>{\r\n    switch (action.type){\r\n      case 'FILTER_VALUE':\r\n          return action.value\r\n      default :\r\n        return state\r\n    }\r\n  }\r\n\r\n//會員優惠券-全部種類\r\nexport const memberCouponData = (state=[],action)=>{\r\n  switch (action.type){\r\n    case 'M_SHOW_VALUE':\r\n      return action.value\r\n    default :\r\n      return state\r\n  }\r\n}\r\n\r\n//會員優惠券-分種類\r\nexport const memberCouponFilterData = (state=[],action)=>{\r\n  switch (action.type){\r\n    case 'M_FILTER_VALUE':\r\n      return action.value\r\n    default :\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n//廣告測試\r\nexport const adData = (state=[],action)=>{\r\n  switch (action.type){\r\n    case 'SHOW_AD':\r\n      return action.value\r\n    default :\r\n      return state\r\n  }\r\n}\r\n\r\nexport const memberLikeData = (state=[],action)=>{\r\n  switch (action.type){\r\n    case 'SHOW_LIKE_VALUE':\r\n      return action.value\r\n    case 'ADD_LIKE_VALUE':\r\n      return [...state,action.value]\r\n    case 'DEL_LIKE_VALUE':\r\n      let newState = state.filter((val,ind)=>val.p_id !== action.value.itemId)\r\n      return newState\r\n    default :\r\n      return state\r\n  }\r\n}\r\n\r\n","//---------------chin items--------------------\r\n\r\nexport const getItems = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_ITEMS':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//----------------chin itemId-----------\r\nexport const getItemId = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_ITEMID':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//------------------chin MultipleItemId--------\r\nexport const getMultipleItemId = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_MULTIPLE':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//-------------------chin ListitemName------------------\r\nexport const getListitemName = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'ITEMNAME_VALUE':\r\n    \r\n      return action.value\r\n    case 'ITEMNAME_RESET':\r\n\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//-------------------chin 是否reset------------------\r\nexport const reset = (state =true, action) => {\r\n  switch (action.type) {\r\n    case 'NO_RESET':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//------------------chin 是否顯示優惠------------------------\r\n\r\n\r\nexport const showDiscount = (state ={isShow:false,value:{}}, action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_DISCOUNT':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\n//------------------chin Price------------------------\r\nexport const getListitemPrice = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'ITEMPRICE_VALUE':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\nexport const getListitemPrice2 = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'ITEMPRICE_VALUETWO':\r\n      return action.value\r\n    case 'ITEMPRICE_RESETCOM':\r\n      return []\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//------------------chin ItemNamehis--------\r\nexport const getItemNamehis = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_ITEMSHIS':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//---------------chin SHOW_ITEMSCATEGORY------------\r\nexport const getitemCategoryId = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_ITEMSCATEGORY':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n///------------------------chin Itemscompare-------------\r\nexport const getItemscompare = (state=[],action)=>{\r\n  switch(action.type){\r\n    case 'NP_COMPARE':\r\n      return action.value\r\n    case 'ITEMNAME_RESETCOM':\r\n      return []\r\n    default:\r\n      return state\r\n  }\r\n}\r\n//-----------------------chin UsersData--------------------\r\nexport const getUsersData = (state=[],action)=>{\r\n  switch(action.type){\r\n    case 'SHOW_USER':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}","\r\n\r\n//購物車\r\n\r\n//產品小計\r\nexport const calculator = (state = 0, action) => {\r\n  // console.log('calculator', action)\r\n  switch (action.type) {\r\n    case 'CAL_TOTAL':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//計算總額含運費行銷折扣\r\nexport const calculator_total = (state = 0, action) => {\r\n  switch (action.type) {\r\n    case 'FINAL_TOTAL':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//防止重新呼叫data\r\nexport const ControlDataState = (state = true, action) => {\r\n  switch (action.type) {\r\n    case 'CTRL_DATA':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//呼叫會員購物車\r\nexport const getShop = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_CART':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// 隨機產品產生\r\nexport const getRANDitemid=(state=[],action)=>{\r\n  switch (action.type){\r\n    case 'SHOW_RAND_ITEMID':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// control購物車品項\r\nexport const AddItem = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'ADD_CART':\r\n      localStorage.setItem('cartItem',JSON.stringify(action.value))\r\n      return action.value\r\n    case 'DEL_CART':\r\n      localStorage.setItem('cartItem',JSON.stringify(action.value))\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//我的最愛\r\nexport const MyFavorite = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'LIKE_PRODUCT':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//呼叫訂單資料\r\nexport const getOrderBuyer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_ORDER':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//儲存購買人資料\r\nexport const saveOrderBuyerInfoReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SAVE_ORDER':\r\n      return action.value\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//儲存購買人產品資料\r\nexport const saveOrderBuyerProReducer = (state = [], action) => {\r\n  let newData = []\r\n  // console.log('acttion',action)\r\n  switch (action.type) {\r\n    case 'SAVE_ORDER_PRODUCT':\r\n      console.log('sdfasdfasdf', action.value)\r\n      return [...state, action.value]\r\n    case 'CLEAR_ORDER_PRODUCT':\r\n      return newData\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const saveCoupon=(state=[],action)=>{\r\n  switch (action.type){\r\n    case 'SAVE_COUPON':\r\n      return action.value\r\n    default:  \r\n      return state\r\n  }\r\n}\r\n\r\nexport const saveDiscount=(state=0,action)=>{\r\n  switch (action.type){\r\n    case 'COUPON_DISCOUNT':\r\n      return action.value\r\n    default:  \r\n      return state\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const cartCouponData=(state=[],action)=>{\r\n  switch (action.type){\r\n    case 'CART_COUPON_DATA':\r\n      return action.value\r\n    default:  \r\n      return state\r\n  }\r\n}\r\n\r\n// export const cartCouponAll=(state=[],action)=>{\r\n//   switch (action.type){\r\n//     case 'CART_COUPON_All':\r\n//       return action.value\r\n//     default:  \r\n//       return state\r\n//   }\r\n// }","//註冊與登入\r\nexport const member = (state = { isAuth: false }, action) => {\r\n  switch (action.type) {\r\n    case 'USER_REGISTER':\r\n      return { ...action.data, isAuth: true }\r\n    case 'USER_LOGIN':\r\n      return { ...action.data, isAuth: true }\r\n    // case 'USER_LOGOUT':\r\n    //   return { isAuth: false }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//得到會員ID\r\nexport const getMemberID = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_MEMBERID':\r\n      return { ...action.data }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//會員資料更新\r\nexport const updateMember = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'UPDATE_MEMBERINFO':\r\n      return { ...action.data }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n//得到會員訂單資料\r\nexport const getMemberOrder = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'SHOW_MEMBERORDER':\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\n// 導入所需模組與方法\r\nimport { Provider } from 'react-redux'\r\n\r\nimport { createStore, applyMiddleware, compose } from 'redux'\r\n\r\nimport thunk from 'redux-thunk'\r\n\r\nimport { rootReducer } from './reducers/index'\r\n\r\n// react-hot-loader\r\n// import { AppContainer } from 'react-hot-loader'\r\nimport LocalServiceWorkerRegister from './sw-register'\r\n\r\n// ---- 使用 Middleware時 創建store ----\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  /* preloadedState, */ composeEnhancers(applyMiddleware(thunk))\r\n)\r\n\r\nconst render = () => {\r\n  ReactDOM.render(\r\n    // <AppContainer>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>,\r\n    // </AppContainer>,\r\n    document.getElementById('root')\r\n  )\r\n}\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n\r\n// Do this once\r\nLocalServiceWorkerRegister()\r\n\r\nrender()\r\n\r\n// Webpack Hot Module Replacement API\r\nif (module.hot) {\r\n  module.hot.accept('./App', () => {\r\n    render()\r\n  })\r\n}\r\n","export default function LocalServiceWorkerRegister() {\r\n  const swPath = `${process.env.PUBLIC_URL}/sw.js`\r\n  if ('serviceWorker' in navigator && process.env.NODE_ENV !== 'production') {\r\n    window.addEventListener('load', function() {\r\n      navigator.serviceWorker.register(swPath).then(\r\n        function(registration) {\r\n          // Registration was successful\r\n          console.log(\r\n            'ServiceWorker registration successful with scope: ',\r\n            registration.scope\r\n          )\r\n        },\r\n        function(err) {\r\n          // registration failed :(\r\n          console.log('ServiceWorker registration failed: ', err)\r\n        }\r\n      )\r\n    })\r\n  }\r\n}\r\n","var map = {\n\t\"./32.png\": 683,\n\t\"./33.png\": 684,\n\t\"./34.png\": 685,\n\t\"./35.png\": 686,\n\t\"./36.png\": 687,\n\t\"./37.png\": 688,\n\t\"./38.png\": 689,\n\t\"./39.png\": 690,\n\t\"./40.png\": 691,\n\t\"./41.png\": 692,\n\t\"./42.png\": 693\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 682;","module.exports = __webpack_public_path__ + \"static/media/32.e4e2691c.png\";","module.exports = __webpack_public_path__ + \"static/media/33.b4768451.png\";","module.exports = __webpack_public_path__ + \"static/media/34.e36f09e7.png\";","module.exports = __webpack_public_path__ + \"static/media/35.700b0130.png\";","module.exports = __webpack_public_path__ + \"static/media/36.b4768451.png\";","module.exports = __webpack_public_path__ + \"static/media/37.a7290bed.png\";","module.exports = __webpack_public_path__ + \"static/media/38.c537661d.png\";","module.exports = __webpack_public_path__ + \"static/media/39.e36f09e7.png\";","module.exports = __webpack_public_path__ + \"static/media/40.a7290bed.png\";","module.exports = __webpack_public_path__ + \"static/media/41.700b0130.png\";","module.exports = __webpack_public_path__ + \"static/media/42.c537661d.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.583a7fbc.svg\";"],"sourceRoot":""}